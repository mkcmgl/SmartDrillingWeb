/* eslint-disable */
import {__decorate as t} from 'tslib';import {Zi,_s,Pi,Es,ki,sI,rh,ch,Au,mA,qi,Fo,lA,Rd,hB,Zs,Ss,fA,ur,su,Gn,sa,$n,wr,fm,Gi,OA,TQ,hl,oE,TA,Yu,dp,ma,dA,Nl,nE,ap,Er,lE,Ic,xo,_Q,wh,$Q,Zn,fg,NA,Wi,Fa,qa,YC,il,cE,OC,tp,ys,ds,Xw,Ea,xA,jA,_l,cw,dw,hu,zQ,qh,gu,Gy,Sy,df,ie,ae,nA,CE,xl,Rl,Ew,Hs,ha,bn,Bp,rQ,nd,LB,Dr,yr,jQ,vd,iB,Sc,bC,sQ,YB,ua,el,NQ,jw,wc,JC,sB,Ih,Qg,lw,ww,Sd,$l,Ci} from '@int/impl/geotoolkit.base.js';import {l3,QZ} from '@int/impl/geotoolkit.svg.js';import {FB} from '@int/impl/geotoolkit.http.js';import {rat,_Ct,tdt,ogt,FCt,aat,UCt,VCt} from '@int/impl/geotoolkit.deviation.js';import {fN,YG,Mb,Wk,iY,CF,fk,wF,rU,IU,wU,lG,OS,xS,gU,MF,jS,sG,rY,nY,IY} from '@int/impl/geotoolkit.controls.js';import {OH,HH,_H,eK,I1,i1} from '@int/impl/geotoolkit.widgets.js';import {DO,TP,bX,oX,_O,Aj} from '@int/impl/geotoolkit.report.js';var GMt=Ci(function(){var t=class{};t.prototype.tsi_=Zi;t.prototype.JV_=Zi;t.prototype.setOptions=Zi;return t}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJidWlsZCI6InRzaV8iLCJnZXRPcHRpb25zIjoiSlZfIn19fSAg");var RMt=Ci(function(){let i=class t{};i.prototype.apply=Zi;i.prototype.cCe_=Zi;i.prototype.ICe_=Zi;i=t([_s("geotoolkit.schematics.utils.RenderingHints")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzYXZlRGVmYXVsdHMiOiJjQ2VfIiwicmVzdG9yZURlZmF1bHRzIjoiSUNlXyJ9fSwiZ2V0Q2xhc3NOYW1lIjoiRF8ifSAg");var kMt=Ci(function(){let i=class t extends sI{constructor(t){super(t=Pi(t,{rectbounds:null},!0));this.PLi_=!1;this.fCe_=t["rectbounds"];this.CCe_=!1;this.initialize(t)}BMs_(){const t=this.k_i_();return t!=null?t.Ee_():null}wMs_(){const t=this.k_i_();return t!=null?t.pe_():null}dCe_(){return null}pgt_(t){}initialize(t){this.pgt_(t);this.CCe_=!0;t&&this.setData(t);return this}Egt_(){return this.CCe_}render(t){this.uWs_(t);super.render(t)}BCe_(t){this.PLi_=t;return this}wCe_(){return this.PLi_}QCe_(){return!1}addResource(t){if(t instanceof ch==!1)return this;if(this.ECe_==null){this.ECe_=[];this.pCe_=()=>{this.td_()}}t.on(rh.sC_,this.pCe_);this.ECe_.push(t);return this}mCe_(){for(let t=0;t<this.ECe_.length;t++)this.ECe_[t].off(rh.sC_,this.pCe_);this.ECe_=null;this.pCe_=null;return this}yCe_(){return this.ECe_!=null}DCe_(){return this.ECe_!=null?Au.cN_(this.ECe_):null}dispose(){this.ECe_!=null&&this.mCe_();super.dispose()}wvi_(){return[]}MCe_(t){this.fCe_=t;return this}k_i_(){return this.fCe_}getBounds(){const t=super.getBounds();return t||new mA(this.fCe_)}Bn_(t){const i=this.getData(t);return i?i["description"]:null}kCs_(t,i){this.Us_=Pi({description:t},this.getData(i));return this}vCe_(t){return!0}getData(t){return t!==!1?Pi(this.Us_,{}):this.Us_||{}}setData(t,i){(t=t||{})["id"]!==void 0&&this.JC_(t["id"]);t["geometry"]&&this.bCe_(t["geometry"],i);t["description"]&&this.kCs_(t["description"],i);this.Us_=i!==!1?Pi(t,{}):t;return this}NCe_(t){const i=this.getData(t);return i?i["geometry"]:void 0}bCe_(t,i){t["horizontalCompressedScale"]&&ki("ComponentNode.setGeometryData#horizontalCompressedScale is deprecated since 4.0. "+"Use horizontalcompressedscale instead.");t["compressedScale"]&&ki("ComponentNode.setGeometryData#compressedScale is deprecated since 4.0. "+"Use compressedscale instead.");this.Us_=Pi({geometry:t},this.getData(i));return this}SCe_(t,i){if(t===void 0)return this;this.aJ_=t===null?null:i!==!0||t instanceof RMt?t:Pi(t,{});this.GCe_&&this.GCe_["hintsclass"].ICe_(this,this.GCe_["defaults"]);if(t instanceof RMt){this.GCe_||(this.GCe_={hintsclass:t,defaults:t.cCe_(this)});t.apply(this)}return this}RCe_(t){return t===!1||this.aJ_ instanceof RMt?this.aJ_:Pi(this.aJ_,{})}uWs_(t){}toString(){const t=this.Bn_();return Array.isArray(t)?t.length===0?null:t.toString():t||this.dn_()}static kCe_(t){if(!t)return null;const i=[];for(let s=0;s<t.length;s+=2)i.push(t[s]);return i}static FCe_(t){if(!t)return null;const i=[];for(let s=1;s<t.length;s+=2)i.push(t[s]);return i}static translate(t,i,s){if(!s)return null;const e=[];for(let A=0;A<s.length;++A){const n=A%2==0?t:i;e.push(s[A]+n)}return e}static rotate(t,i){if(!i)return null;const s=Math.cos(t*Math.PI/180),e=Math.sin(t*Math.PI/180),A=[];for(let t=0;t<i.length;t+=2){const n=i[t],h=i[t+1],r=n*s+h*e,o=-n*e+h*s;A.push(r);A.push(o)}return A}N_(){const t=super.N_();t["description"]=this.Us_["description"];t["rectbounds"]=this.fCe_;t["geometry"]=this.Us_["geometry"];t["renderinghints"]=this.aJ_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["description"]!==void 0&&this.kCs_(t["description"]);t["geometry"]!==void 0&&this.bCe_(t["geometry"]);t["renderinghints"]!==void 0&&this.SCe_(t["renderinghints"]);t["rectbounds"]!==void 0&&(this.fCe_=t["rectbounds"]);return this}};i=t([_s("geotoolkit.schematics.scene.ComponentNode")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJvbkluaXRpYWxpemUiOiJwZ3RfIiwiaXNJbml0aWFsaXplZCI6IkVndF8iLCJzZXRTZWxlY3RlZCI6IkJDZV8iLCJnZXRTZWxlY3RlZCI6IndDZV8iLCJpc1Jlc291cmNlQmFzZWQiOiJRQ2VfIiwiZ2V0U3R5bGVzIjoid3ZpXyIsInNldEdlb21ldHJ5Qm91bmRzIjoiTUNlXyIsImdldEdlb21ldHJ5Qm91bmRzIjoia19pXyIsImdldERlc2NyaXB0aW9uIjoiQm5fIiwic2V0RGVzY3JpcHRpb24iOiJrQ3NfIiwidmFsaWRHZW9tZXRyeURhdGEiOiJ2Q2VfIiwiZ2V0R2VvbWV0cnlEYXRhIjoiTkNlXyIsInNldEdlb21ldHJ5RGF0YSI6ImJDZV8iLCJzZXRSZW5kZXJpbmdIaW50cyI6IlNDZV8iLCJnZXRSZW5kZXJpbmdIaW50cyI6IlJDZV8iLCJ1cGRhdGVTaGFwZUdlb21ldHJ5IjoidVdzXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8ifX19");var FMt=Ci(function(){var i;let s=i=class t{static xCe_(t,i){for(let s=0;s<i.qY_();++s){const e=i.HY_(s);if((e.LCe_==="function",1)&&e.XC_()===t.XC_())return e}return null}static UCe_(t){return t?t.YCe_().N_()["node"]:null}static TCe_(t){return ch.Dd_(t,kMt)}static BMs_(t){let i;if(Array.isArray(t)){if(t.length===0)return null;i=t[0]}else i=t;return i["depth"]!=null&&i["depth"]["from"]!=null?i["depth"]["from"]:null}static wMs_(t){let i;if(Array.isArray(t)){if(t.length===0)return null;i=t[t.length-1]}else i=t;return i["depth"]!=null&&i["depth"]["to"]!=null?i["depth"]["to"]:null}static KCe_(t){const i=t["diameter"];if(i==null)return null;if(typeof i=="number"&&isFinite(i))return i;const s=i["outer"];return typeof s=="number"&&isFinite(s)?s:null}static HCe_(t){if(!Array.isArray(t))return i.KCe_(t);let s=Number.NEGATIVE_INFINITY;for(let e=0;e<t.length;++e){const A=i.KCe_(t[e]);A!=null&&(A>s&&(s=A))}return isFinite(s)?s:null}static qCe_(t){const i=t["diameter"];if(i==null)return null;if(typeof i=="number"&&isFinite(i))return i;const s=i["inner"];return typeof s=="number"&&isFinite(s)?s:null}static JCe_(t){if(!Array.isArray(t))return i.qCe_(t);let s=Number.POSITIVE_INFINITY;for(let e=0;e<t.length;++e){const A=i.qCe_(t[e]);A!=null&&(A<s&&(s=A))}return isFinite(s)?s:null}static PCe_(t){if(t.length<1)return!1;for(let i=0;i<t.length;++i){const s=t[i];if(typeof s!="number"||!isFinite(s))return!1}return!0}static VCe_(t,s,e,A,n,h,r){if(typeof e=="boolean"){r=e;e=void 0;A=void 0;n=void 0;h=void 0}r===void 0&&(r=!0);const o=qi(t,{outerColor:t!==void 0?t:"black",innerColor:s!==void 0?s:"white",outerX:typeof e=="number"?e:r?i.OCe_:i.WCe_,innerX:A!==void 0?A:r?i.zCe_:i.XCe_,outerY:n!==void 0?n:r?i.WCe_:i.OCe_,innerY:h!==void 0?h:r?i.XCe_:i.zCe_});let l,u;l=o["outerY"]===o["innerY"]?o["outerY"]:1-o["outerY"];u=o["outerX"]===o["innerX"]?o["outerX"]:1-o["outerX"];const a=new Fo({startpoint:new lA(o["outerX"],o["outerY"]),endpoint:new lA(u,l),startcolor:o["outerColor"],endcolor:o["outerColor"]}),g=r?o["innerX"]:o["innerY"];a.LQ_(g,o["innerColor"]);g!==.5&&a.LQ_(1-g,o["innerColor"]);return a}static jCe_(t,i,s,e,A,n){const h=new Fo({startpoint:s,endpoint:e,startcolor:t,endcolor:i});if(A&&n)for(let t=0;t<A.length;t++){const i=A[t],s=n[t]?n[t]:"black";h.LQ_(i,s)}return h}static ZCe_(t){return Array.isArray(t)?t.length===0||t.length===1&&t[0].length===0?null:t.toString():t!=null&&t.length>0?t:null}static _Ce_(t){if(t==null)return null;const s=undefined,e=Pi(t,{}),A=i.ZCe_(t["description"]);A!=null&&(e["description"]=A);return e}};s.OCe_=.025;s.zCe_=.475;s.WCe_=0;s.XCe_=0;s=i=t([_s("geotoolkit.schematics.utils.ComponentUtils")],s);return s}(),2,"eyJnZXREZXB0aEZyb20iOiJCTXNfIiwiZ2V0RGVwdGhUbyI6IndNc18iLCJnZXRPdXRlckRpYW1ldGVyIjoiSENlXyIsImdldElubmVyRGlhbWV0ZXIiOiJKQ2VfIiwidmFsaWREaWFtZXRlcnMiOiJQQ2VfIiwiY3JlYXRlUmVmbGVjdGVkTGluZWFyR3JhZGllbnRTdHlsZSI6IlZDZV8iLCJnZXREZXNjcmlwdGlvblN0cmluZyI6IlpDZV8iLCJkYXRhRWxlbWVudFRvQ29tcG9uZW50T3B0aW9ucyI6Il9DZV8iLCJnZXRDbGFzc05hbWUiOiJEXyJ9");const xMt=new mA;var LMt=Ci(function(){var i;let s=i=class t extends kMt{constructor(t){super(t);t=Pi(t,{linestyle:{color:"transparent"}},!0);this.$Ce_=t["linestyle"];this.Gqi_=new Rd({from:new lA(-100,0),to:new lA(100,0),linestyle:this.$Ce_,visible:!0});this.GY_(this.Gqi_)}G2_(){let t=this.NCe_();if(t==null)return null;Array.isArray(t)&&(t=t[0]);const i=t["depth"];if(i==null)return null;if(typeof i=="number"&&isFinite(i))return i;const s=i["from"];if(typeof s=="number"&&isFinite(s))return s;const e=i["to"];return typeof e=="number"&&isFinite(e)?e:null}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);if(t["linestyle"]!==void 0){this.$Ce_=t["linestyle"];this.Gqi_.rB_(this.$Ce_)}return this}toString(){let t=FMt.ZCe_(this.Bn_())||this.dn_();const i=this.G2_();i!=null&&(t+="<br/>depth: "+i);return t}SCe_(t,i){if(t===void 0)return this;t!==null?t["linestyle"]!==void 0&&this.Gqi_.rB_(t["linestyle"]):this.Gqi_.rB_(this.$Ce_);super.SCe_(t,i);return this}bCe_(t,i){super.bCe_(t);const s=t,e=s["offset"]!==void 0?s["offset"]:0,A=this.G2_(),n=e-1,h=e+1,r=new mA(n,A,h,A);this.MCe_(r);this.rd_(!1);this.Lq_(new mA(n,A,h,A));this.Gqi_.rd_(!1).zA_({from:new lA(n,A),to:new lA(h,A)}).rd_(!0);this.rd_(!0);return this}ud_(t){if(!this.$C_())return!1;let i=this.getBounds();if(i!=null){const s=this.ut_();if(s!=null){xMt.ce_(i);i=s.rn_(i,xMt)}t.Ji_().rn_(i,xMt);if(!t.cR_().$s_(xMt))return!1}return!0}static vCe_(t){if(t==null)return!1;Array.isArray(t)&&(t=t[0]);const i=t["depth"];if(i==null)return!1;if(typeof i=="number"&&isFinite(i))return!0;const s=i["from"];if(typeof s=="number"&&isFinite(s))return!0;const e=i["to"];return!(typeof e!="number"||!isFinite(e))}vCe_(t){return i.vCe_(t)}};s.tde_=1;s=i=t([_s("geotoolkit.schematics.scene.impl.NodeMarker")],s);return s}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY2hlY2tDb2xsaXNpb24iOiJ1ZF8iLCJ2YWxpZEdlb21ldHJ5RGF0YSI6InZDZV8iLCJzZXRHZW9tZXRyeURhdGEiOiJiQ2VfIiwic2V0UmVuZGVyaW5nSGludHMiOiJTQ2VfIn19fSAg");var UMt=Ci(function(){let i=class t{constructor(){this.ide_=new hB}sde_(t){t.reset();if(!t.Hs_())return null;let i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,A=Number.NEGATIVE_INFINITY;while(t.Hs_()){const n=t.next();if(!(n instanceof kMt))continue;const h=n.k_i_();if(h!=null){if(!(n instanceof LMt)){const t=h.we_();t<i&&(i=t);const s=h.Qe_();s>e&&(e=s)}const t=h.Ee_();t<s&&(s=t);const r=h.pe_();r>A&&(A=r)}}return new mA(i,s,e,A)}ede_(t,i,s){t.reset();while(t.Hs_()){const e=t.next();if(!(e instanceof LMt))continue;const A=e.G2_();if(A==null)continue;const n=this.ide_.transform(A,!0);e.rd_(!1);e.ht_(new mA(i,n,s,n));e.rd_(!0)}}Ade_(t){t.reset();while(t.Hs_()){const i=t.next();if(!(i instanceof kMt))continue;if(i instanceof LMt)continue;const s=i.k_i_();if(!s)continue;const e=i.BMs_(),A=i.wMs_();if(e==null||A==null||e===A)continue;const n=s.we_(),h=s.Qe_(),r=this.ide_.transform(e,!0),o=this.ide_.transform(A,!0),l=i._C_();i.rd_(!1);i.ht_(new mA(n,r,h,o));i.rd_(l)}}nde_(t,i){if(!t||!i||t.length!==i.length)throw new Error("Arrays must be defined and equal in length");this.ide_.dt_({inputvalues:i,outputvalues:t})}hde_(t,i,s,e,A){this.nde_(t,i);this.Ade_(s);this.ede_(s,e,A)}};i.prototype.tsi_=Zi;i.prototype.JV_=Zi;i.prototype.setOptions=Zi;i=t([Zs(GMt),_s("geotoolkit.schematics.builder.AbstractViewModeBuilder")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJidWlsZCI6InRzaV8iLCJnZXRPcHRpb25zIjoiSlZfIiwiZ2V0Q29udGVudE1vZGVsTGltaXRzIjoic2RlXyIsInNldHVwTWFya2Vyc0JvdW5kcyI6ImVkZV8iLCJzZXR1cE5vbk1hcmtlcnNCb3VuZHMiOiJBZGVfIiwicHJlcGFyZVNldHVwQ29tcG9uZW50Tm9kZXNCb3VuZHMiOiJuZGVfIiwic2V0dXBDb21wb25lbnROb2Rlc0JvdW5kcyI6ImhkZV8ifX0sImdldENsYXNzTmFtZSI6IkRfIn0g");const YMt=function(t,i){const s=[];let e,A,n,h;for(let r=0;r<t.length-1;++r){A=t[r];n=t[r+1];if(Math.abs(n-A)<=i){if(s.length>0){h=s[s.length-1];e=h[h.length-1].value}else h=null;h&&Math.abs(A-e)<=i?h.push({index:r+1,value:n}):s.push([{index:r,value:A},{index:r+1,value:n}])}}return s},TMt=function(t){let i=0;for(let s=0;s<t.length;++s)i+=t[s].value;return i/t.length},KMt=function(t,i){const s=[];let e=0;for(let A=0;A<t.length;){let n=null;for(let t=e;t<i.length;++t){const s=i[t];if(s[0].index<=A&&A<=s[s.length-1].index){n=s;e=t}}if(n){const t=TMt(n);s.push(t);A+=n.length}else{s.push(t[A]);++A}}return s};var HMt=Ci(function(){let i=class t extends UMt{constructor(t){super();this.UU_={tolerance:0,horizontal:!1};Pi(t,this.UU_)}tsi_(t,i){t.reset();if(!t.Hs_())return null;if(!i&&!(i=this.sde_(t)))return null;let s=[],e,A,n;const h=[];t.reset();while(t.Hs_()){const i=t.next();if(!(i instanceof kMt))continue;const r=undefined;if(!i.k_i_())continue;const o=i.BMs_(),l=i.wMs_();if(o!=null&&l!=null&&o!==l){if(isFinite(n)&&n!==1){for(e=0;e<h.length;++e){A=h[e]["range"];if(!(l<=A.Xs_()||o>=A.zs_()))throw new Error("Ambiguity in compression mode found")}h.push({scale:n,range:new fA(o,l)})}s.indexOf(o)<0&&s.push(o);s.indexOf(l)<0&&s.push(l)}}let r=s.length,o;if(r<2)return null;h.sort(((t,i)=>t["range"].Xs_()-i["range"].Xs_()));s.sort(((t,i)=>t-i));const l=this.UU_["tolerance"];if(l!==0){const t=YMt(s,l);if(t.length>0){s=KMt(s,t);r=s.length}}const u=(s[r-1]-s[0])/(r-1),a=[];let g=s[0],c,I,f,C,d;for(o=0;o<r;++o){a.push(g);g+=u}for(e=0;e<h.length;++e){const t=h[e];A=t["range"];const i=A.Xs_();I=s.indexOf(i);C=a[I];const l=A.zs_();f=s.indexOf(l);d=a[f];n=t["scale"];for(o=0;o<r;++o){g=a[o];if(!(g<C)){if(g>d)break;a[o]=n*g+C*(1-n);c=a[o]-g}}for(;o<r;++o)a[o]=a[o]+c}const B=(s[r-1]-s[0])/(a[r-1]-a[0]);if(B!==1)for(o=1;o<r;++o)a[o]=B*a[o]+a[0]*(1-B);this.hde_(s,a,t,i.we_(),i.Qe_());return Ss({modellimitsdepths:s,boundsdepths:a},["modellimitsDepths","boundsDepths"],"CompressedViewModeBuilder.build")}JV_(){return Pi(this.UU_,{})}setOptions(t){Pi(t,this.UU_);return this}};i=t([_s("geotoolkit.schematics.builder.CompressedViewModeBuilder")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJidWlsZCI6InRzaV8iLCJnZXRPcHRpb25zIjoiSlZfIn19fSAg");var qMt=Ci(function(){let i=class t{};i.prototype.Ts_=Zi;i=t([_s("geotoolkit.schematics.builder.IGetRangeHeight")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRIZWlnaHQiOiJUc18ifX0sImdldENsYXNzTmFtZSI6IkRfIn0g");var JMt=Ci(function(){var i;let s=i=class t{static rde_(t){let i=0,s=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;for(let A=0;A<t.length;++A){const n=undefined,h=t[A].ode_;i+=h;h<s&&(s=h);h>e&&(e=h)}return{totaleffectiveheight:i,averageeffectiveheight:i/t.length,mineffectiveheight:s,maxeffectiveheight:e}}Ts_(t){const s=undefined;return i.rde_(t)["averageeffectiveheight"]}};s=i=t([Zs(qMt),_s("geotoolkit.schematics.builder.GetAverageEffectiveHeight")],s);return s}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRIZWlnaHQiOiJUc18ifX19");var PMt=Ci(function(){var i;let s=i=class t extends kMt{constructor(t){super(t=Pi(t,{parentproxy:null},!0));this.lde_=t["parentproxy"];this.ht_(new mA(i.ude_))}ade_(){return this.lde_}gde_(t){this.lde_=t}wvi_(){const t=this.cde_();if(!t)return[];const i=[];ur(t).Gw_((t=>t instanceof su)).select((function(t){i.push({classname:t.D_(),linestyle:t.gt_(),fillstyle:t.ct_()})}));return i}N_(){const t=super.N_();t["parentproxy"]=this.lde_;return t}dt_(t){super.dt_(t);t["parentproxy"]!==void 0&&this.gde_(t["parentproxy"]);return this}};s.prototype.cde_=Zi;s.prototype.dCe_=Zi;s.ude_=new mA(0,0,100,100);s=i=t([_s("geotoolkit.schematics.scene.ReusableComponentNode")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTdHlsZXMiOiJ3dmlfIiwiZ2V0VGVtcGxhdGVOb2RlIjoiY2RlXyIsImdldFRlbXBsYXRlQm91bmRzIjoiZENlXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8ifX19");var VMt=function(){var t=class{};t.Ide_=200;t.fde_=100;return t}();var OMt=Ci(function(){var i;let s=i=class t extends PMt{constructor(t){super(t=Pi(t,{},!0));this.qbs_=t["depthfrom"];this.Jbs_=t["depthto"];this.wy_=t["outerradius"];this.T2_=t["offset"];this.Cde_=this.cde_();if(!this.Cde_)return;this.GY_(this.Cde_);const i=this.dCe_();i&&!i.isEmpty()&&this.Lq_(new mA(i))}toString(){let t=FMt.ZCe_(this.Bn_())||this.dn_();const i=this.NCe_(),s=FMt.BMs_(i);if(s!=null){const e=FMt.wMs_(i);t+=e!=null?"<br/>depth: ["+s+" - "+e+"]":"<br/>depth: "+s}const e=FMt.HCe_(i);e!=null&&(t+="<br/>diameter: "+e);return t}static dde_(t){if(t==null)return!1;const i=Array.isArray(t)?t[0]:t;return i["depth"]!=null&&(i["depth"]["from"]!=null&&(!(i["depth"]["to"]==null||i["depth"]["to"]<=i["depth"]["from"])&&(i["diameter"]!=null&&!(i["diameter"]["outer"]==null||i["diameter"]["outer"]<=0))))}vCe_(t){return i.dde_(t)}Bde_(t){if(t==null)return this;const i=Array.isArray(t)?t[0]:t;if(i["depth"]==null)return this;this.qbs_=i["depth"]["from"];if(this.qbs_==null)return this;this.Jbs_=i["depth"]["to"];this.Jbs_==null&&(this.Jbs_=this.qbs_+VMt.fde_);this.wy_=i["diameter"]==null||i["diameter"]["outer"]==null?VMt.Ide_/2:i["diameter"]["outer"]/2;this.T2_=i["offset"];this.T2_==null&&(this.T2_=0);const s=new mA(-this.wy_+this.T2_,this.qbs_,this.wy_+this.T2_,this.Jbs_);this.MCe_(s);return this}bCe_(t){super.bCe_(t);return this.Bde_(t)}render(t){this.uWs_(t);super.render(t)}ad_(t,i){this.uWs_(t);super.ad_(t,i)}ud_(t){this.uWs_(t);return super.ud_(t)}N_(){const t=super.N_();t["depthfrom"]=this.qbs_;t["depthto"]=this.Jbs_;t["outerradius"]=this.wy_;t["offset"]=this.T2_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t.hasOwnProperty("depthfrom")&&(this.qbs_=t["depthfrom"]);t.hasOwnProperty("depthto")&&(this.Jbs_=t["depthto"]);t.hasOwnProperty("outerradius")&&(this.wy_=t["outerradius"]);t.hasOwnProperty("offset")&&(this.T2_=t["offset"]);return this}};s=i=t([_s("geotoolkit.schematics.scene.RegularComponentNode")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ2YWxpZEdlb21ldHJ5RGF0YSI6InZDZV8iLCJzZXRHZW9tZXRyeURhdGEiOiJiQ2VfIiwicmVuZGVyQXN5bmMiOiJhZF8iLCJjaGVja0NvbGxpc2lvbiI6InVkXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8ifX19");const WMt=function(t,i){return i?typeof i=="string"||i instanceof String?i.endsWith("%")?Number(i.replace("%",""))/100*t:Number(i):i:0},zMt=function(t,i){const s=t.Qe_()+WMt(t.Ie_(),i["right"]),e=t.Ee_()+WMt(t.Ts_(),i["top"]),A=t.we_()+WMt(t.Ie_(),i["left"]),n=t.pe_()+WMt(t.Ts_(),i["bottom"]),h=undefined;return new mA(A,e,s,n)};var XMt=Ci(function(){let i=class t extends OMt{constructor(t,i,s){super(t=Pi(t,{externalgeometry:t instanceof sI?t:null,asymmetry:s}));this.wde_=t["externalgeometry"];this.Qde_=!1;this.Ede_=t["asymmetry"];this.GY_(this.wde_);const e=this.dCe_();e&&!e.isEmpty()&&this.Lq_(new mA(e));i&&this.setData(i)}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["externalgeometry"]!==void 0&&(this.wde_=t["externalgeometry"]);t["asymmetry"]!==void 0&&(this.Ede_=t["asymmetry"]);return this}N_(){const t=super.N_();t["externalgeometry"]=this.wde_;t["asymmetry"]=this.Ede_;return t}cde_(){return this.wde_}dCe_(){return this.wde_.rt_()}render(t){this.uWs_(t);if(this.Ede_){if(!this.pde_){const t=this.k_i_(),i=zMt(t,this.Ede_);this.pde_=Gn.xI_(t,i)}t=t.uS_(this.pde_)}super.render(t)}QCe_(){return this.Qde_}mde_(t){this.Qde_=t;return this}};i=t([_s("geotoolkit.schematics.scene.ExternalGeometryComponentNode")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwiZ2V0VGVtcGxhdGVOb2RlIjoiY2RlXyIsImdldFRlbXBsYXRlQm91bmRzIjoiZENlXyIsImlzUmVzb3VyY2VCYXNlZCI6IlFDZV8iLCJzZXRSZXNvdXJjZUJhc2VkIjoibWRlXyJ9fX0g");var jMt=Ci(function(){let i=class t extends kMt{constructor(t,i){super(t=t instanceof PMt?Pi(i,{reusablecomponentnode:t},!0):Pi(t,{},!0));this.yde_=null;this.Lq_(new mA(PMt.ude_))}BMs_(){return this.Dde_.BMs_()}wMs_(){return this.Dde_.wMs_()}Hf_(t){super.Hf_(t);this.Dde_.Hf_(t)}Jf_(t){super.Jf_(t);this.Dde_.Jf_(t)}pgt_(t){super.pgt_(t);this.Dde_=null;if(t["reusablecomponentnode"]){this.Dde_=t["reusablecomponentnode"];this.xM_=()=>{this.td_()};this.Dde_.on(rh.sC_,this.xM_);this.tRs_=()=>{this.Dde_.Hf_(this.getRoot())};t["reusablecomponentnode"]instanceof XMt&&this.Dde_.cde_().on(rh.eC_,this.tRs_)}}SCe_(t,i){this.Mde_=t;this.Dde_.SCe_(t,!0);return this}RCe_(t){return t===!1||this.Mde_ instanceof RMt?this.Mde_:Pi(this.Mde_,{})}bB_(t,i){super.bB_(t,i);t(this.Dde_,i)}addResource(t){this.Dde_.addResource(t);return this}mCe_(){this.Dde_.mCe_();return this}yCe_(){return this.Dde_.yCe_()}DCe_(){return this.Dde_.DCe_()}LCe_(){return this.Dde_}vde_(){const t=this.Dde_._C_();return this.Dde_.rd_(!1).setData(this.getData(!1),!1).JC_(this.XC_()).rd_(t)}HC_(t){super.HC_(t);this.Dde_.HC_(t);return this}dn_(){return this.Dde_.dn_()}toString(){if(!this.NCe_(!1))return super.toString();const t=this.Dde_._C_();return this.Dde_.rd_(!1).setData(this.getData(!1),!1).rd_(t).toString()}dispose(){if(!this.Df_()){if(this.Dde_!=null){this.Dde_.off(rh.sC_,this.xM_);this.xM_=null;this.Dde_ instanceof XMt&&this.Dde_.cde_().off(rh.eC_,this.tRs_);this.Dde_=null}super.dispose()}}setData(t,i){super.setData(t,i);if(this.Dde_!=null){const t=this.Dde_._C_();this.Dde_.rd_(!1).setData(this.getData(!1),!1).JC_(this.XC_());this.Dde_.rd_(t)}return this}QCe_(){return this.Dde_.QCe_()}wvi_(){return this.Dde_.wvi_()}k_i_(){if(!this.NCe_(!1))return sa.SS_();const t=this.Dde_._C_();return this.Dde_.rd_(!1).setData(this.getData(!1),!1).rd_(t).k_i_()}Xb_(t,i){this.yde_=t.FR_();const s=this.jb_();s&&s.Zb_(t);i&&i()}iN_(t,i){const s=this.jb_();s&&s.end(t);t.xR_(this.yde_);i&&i()}render(t){if(!this.NCe_(!1))return;const i=this.Dde_._C_();this.Dde_.rd_(!1).setData(this.getData(!1),!1).SCe_(this.RCe_(!1),!1).JC_(this.XC_());let s=this.sd_();const e=s&&!s.isIdentity()?t.uS_(s):t;if(this.yq_()==null||e.tk_()){e.YR_(this);e.save();this.Xb_(e);const t=this.Dde_.Pb_(),i=this.Pb_();let A=null,n;if(!e.tk_()&&i&&i.nt_()){A=i.nt_();let t=s.rI_().lI_(A);s=this.Dde_.It_();s&&(t=s.rI_().lI_(t));const e=i.clone();e.Pd_(t);n=this.Dde_._C_();this.Dde_.rd_(!1);this.Dde_.xb_(e);this.Dde_.rd_(n)}e.filter(this.Dde_)&&this.Dde_.render(e);if(A){this.Dde_.rd_(!1);this.Dde_.xb_(t);this.Dde_.rd_(n)}this.iN_(e);e.restore()}else this.yq_().render(e);this.Dde_.rd_(i)}ad_(t,i){if(!this.NCe_(!1)){i();return}const s=this.Dde_._C_();this.Dde_.rd_(!1).SCe_(this.RCe_(!1),!1).setData(this.getData(!1),!1).JC_(this.XC_());let e=this.sd_();const A=e&&!e.isIdentity()?t.uS_(e):t;if(this.yq_()==null||A.tk_()){A.YR_(this);A.save();this.Xb_(A);const t=this.Dde_.Pb_(),s=this.Pb_();let n=null,h;if(!A.tk_()&&s&&s.nt_()){n=s.nt_();let t=e.rI_().lI_(n);e=this.Dde_.It_();e&&(t=e.rI_().lI_(t));const i=s.clone();i.Pd_(t);h=this.Dde_._C_();this.Dde_.rd_(!1);this.Dde_.xb_(i);this.Dde_.rd_(h)}if(A.filter(this.Dde_))this.Dde_.ad_(A,(()=>{if(n){this.Dde_.rd_(!1);this.Dde_.xb_(t);this.Dde_.rd_(h)}this.iN_(A);A.restore();i()}));else{if(n){this.Dde_.rd_(!1);this.Dde_.xb_(t);this.Dde_.rd_(h)}this.iN_(A);A.restore();i()}}else{this.yq_().render(A);i()}this.Dde_.rd_(s)}ud_(t){const i=this.Dde_._C_();this.Dde_.rd_(!1).setData(this.getData(!1),!1).rd_(i);return super.ud_(t)}dCe_(){return this.Dde_.dCe_()}N_(){const t=super.N_();t["reusablecomponentnode"]=this.Dde_;return t}dt_(t){if((t=Es(t))==null)return this;t["reusablecomponentnode"]!==void 0&&(this.Dde_=t["reusablecomponentnode"]);super.dt_(t);return this}};i=t([_s("geotoolkit.schematics.scene.ComponentNodeProxy")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJyZWdpc3RlckFuaW1hdGlvblN0eWxlIjoiSGZfIiwidW5yZWdpc3RlckFuaW1hdGlvblN0eWxlIjoiSmZfIiwib25Jbml0aWFsaXplIjoicGd0XyIsInNldFJlbmRlcmluZ0hpbnRzIjoiU0NlXyIsImdldFJlbmRlcmluZ0hpbnRzIjoiUkNlXyIsImVudW1lcmF0ZU5vZGVzIjoiYkJfIiwic2V0TmFtZSI6IkhDXyIsImdldE5hbWUiOiJkbl8iLCJpc1Jlc291cmNlQmFzZWQiOiJRQ2VfIiwiZ2V0U3R5bGVzIjoid3ZpXyIsImdldEdlb21ldHJ5Qm91bmRzIjoia19pXyIsInByZVJlbmRlcmluZyI6IlhiXyIsInBvc3RSZW5kZXJpbmciOiJpTl8iLCJyZW5kZXJBc3luYyI6ImFkXyIsImNoZWNrQ29sbGlzaW9uIjoidWRfIiwiZ2V0VGVtcGxhdGVCb3VuZHMiOiJkQ2VfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyJ9fX0g");var ZMt=Ci(function(){let i=class t{vCe_(t){return!0}};i.prototype.bde_=Zi;i=t([_s("geotoolkit.schematics.factory.AbstractComponentNodeFactory")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVDb21wb25lbnROb2RlIjoiYmRlXyIsInZhbGlkR2VvbWV0cnlEYXRhIjoidkNlXyJ9fX0g");var _Mt=Ci(function(){var i;let s=i=class t extends ZMt{constructor(t,i,s,e){super();this.z$_=s||new l3;this.yw_=t||null;t!=null&&this.yw_.oNi_(!1);this.Nde_=i||null;this.Ede_=e;this.Sde_=new $n}Gde_(){return this.Sde_}bde_(t){const i=new sI,s=FMt._Ce_(t),e=new XMt(i,s,this.Ede_);this.Rde_(e,i);return e}static kde_(t,i){t.cde_();const s=i.rt_();t.Lq_(new mA(s));i.ht_(new mA(s))}Rde_(t,s){this.z$_.s2i_(this.Nde_,((e,A)=>{let n=null;if(!e){n=this.yw_.parse(s,A);if(n){n["viewbox"]||(n["viewbox"]=n["bounds"]);i.kde_(t,s)}}n||s.iQ_(new wr("red"));this.Sde_.notify(fm.mot_,this)}))}static Fde_(t){const i=ur(t).Gw_((t=>t.dn_()==="inner_child_group")).xw_();return i instanceof sI?i.rt_():null}X$_(t){if(!(t instanceof l3))throw Error("Data provider must be an instance of geotoolkit.svg.SvgDataProvider");this.z$_=t;return this}Z$_(){return this.z$_}PCi_(t){if(!(t instanceof QZ))throw Error("Parser must be an instance of geotoolkit.svg.SVGParser");this.yw_=t;this.yw_.oNi_(!1);return this}vw_(){return this.yw_}xde_(){return this.Nde_}};s=i=t([_s("geotoolkit.schematics.factory.SvgNodeFactory")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVDb21wb25lbnROb2RlIjoiYmRlXyIsInNldERhdGFQcm92aWRlciI6IlgkXyIsImdldERhdGFQcm92aWRlciI6IlokXyIsInNldFBhcnNlciI6IlBDaV8iLCJnZXRQYXJzZXIiOiJ2d18ifX0sImdldFNWR05vZGVWaWV3Qm94IjoiRmRlXyJ9");const $Mt=function(t){const i=t.k_i_(),s=i.Ee_(),e=i.pe_();return" '"+t.dn_()+"': ["+s+" ; "+e+"] "};var tvt=Ci(function(){let i=class t extends UMt{constructor(t){super();const i=new JMt;this.UU_={excluded:["casing","cement","perforation","tubing","marker"],defaultaspectratio:1,rangeheight:{top:i,between:i,bottom:i}};Pi(t,this.UU_);this.Lde_=this.UU_["defaultaspectratio"];this.Ude_=0;this.Yde_=null}Tde_(t){const i=Pi(this.UU_,{});let s=i["included"],e=i["excluded"],A,n;if(!s&&!e)return this.Ude_;if(e!=null){Array.isArray(e)||(e=[e]);const i=undefined;if(e.indexOf(t)>-1)return this.Yde_;A=e.indexOf("*")>-1}else A=!0;if(s!=null){Array.isArray(s)||(s=[s]);const i=undefined;if(s.indexOf(t)>-1)return this.Ude_;for(let i=0;i<s.length;++i){const e=s[i];if(e["name"]===t){const t=e["aspectratio"];return t!==void 0?t:this.Ude_}}n=s.indexOf("*")>-1}else n=!0;return n?this.Ude_:A?this.Yde_:this.Ude_}Kde_(t){const i=[],s=[];let e=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,r,o;t.reset();while(t.Hs_()){const l=t.next(),u=l.k_i_();if(!u)continue;r=u.Ee_();o=u.pe_();let a=this.Tde_(l.dn_());if(a!==this.Yde_){if(a===this.Ude_){const t=l instanceof jMt?l.LCe_():l,i=_Mt.Fde_(t);if(i)a=i.Ts_()/i.Ie_();else if(typeof l.dCe_!="function")a=this.Lde_;else{const t=l.dCe_();a=t&&t.Ts_()!==0&&t.Ie_()!==0?t.Ts_()/t.Ie_():this.Lde_}}i.push({node:l,Hde_:r,qde_:o,ode_:u.Ie_()*a});r<e&&(e=r);r>A&&(A=r);o<e&&(e=o);o>A&&(A=o)}else{s.push({node:l,Hde_:r,qde_:o,ode_:null});r<n&&(n=r);r>h&&(h=r);o<n&&(n=o);o>h&&(h=o)}}if(i.length>1){i.sort(((t,i)=>t.Hde_-i.Hde_));let t=-1,e=1;while(1){t=-1;for(let s=e;s<i.length;++s)if(i[s].Hde_<i[s-1].qde_){const e=$Mt(i[s].node),A=$Mt(i[s-1].node),n=undefined;Gi("KeepAspectRatio-component: "+e+" is rendered as regular one because of overlapping with KeepAspectRatio-component: "+A);t=s;break}if(t<0)break;{const A=i[t];i.splice(t,1);s.push(A);e=t}}}this.H3t_={kars:i,regulars:s,mdMinKAR:e,mdMaxKAR:A,mdMinReg:n,mdMaxReg:h};return this.H3t_}tsi_(t,i){t.reset();if(!t.Hs_())return null;if(!i&&!(i=this.sde_(t)))return null;const s=this.Kde_(t),e=s["kars"],A=s["regulars"];if(e.length<1){A.length>0&&Gi("KeepAspectRatio-components not found in the data");return null}const n=s["mdMinReg"]<s["mdMinKAR"],h=s["mdMaxReg"]>s["mdMaxKAR"];if(n||h){if(n){const t=this.UU_["rangeheight"]["top"],i={Hde_:s["mdMinReg"],qde_:s["mdMinKAR"],ode_:t.Ts_(s["kars"])};e.splice(0,0,i)}if(h){const t=this.UU_["rangeheight"]["bottom"],i={Hde_:s["mdMaxKAR"],qde_:s["mdMaxReg"],ode_:t.Ts_(s["kars"])};e.push(i)}}const r=JMt.rde_(s["kars"]),o=[];let l,u,a,g;for(u=0;u<e.length;++u){const t=e[u];a=t.Hde_;g=t.qde_;if(u===0)o.push({Hde_:a,qde_:g});else{l=o[o.length-1];l.qde_<a?o.push({Hde_:a,qde_:g}):l.qde_=g}}const c=[],I=[];let f=e[0];const C=o.length-1,d=Math.min(s["mdMinKAR"],s["mdMinReg"]),B=Math.max(s["mdMaxKAR"],s["mdMaxReg"]);let w;if(C===0){w=(B-d)/r["totaleffectiveheight"];c.push(f.Hde_);I.push(0);for(u=0;u<e.length;++u){f=e[u];c.push(f.qde_);I.push(I[I.length-1]+f.ode_)}}else{const t=undefined,i=this.UU_["rangeheight"]["between"].Ts_(s["kars"]);w=(B-d)/(r["totaleffectiveheight"]+C*i);c.push(f.Hde_);c.push(f.qde_);I.push(0);I.push(f.ode_);for(u=1;u<e.length;++u){const t=c[c.length-1];let s=I[I.length-1];f=e[u];if(f.Hde_!==t){c.push(f.Hde_);I.push(s+i);s=I[I.length-1]}c.push(f.qde_);I.push(s+f.ode_)}}for(u=0;u<I.length;++u)I[u]=I[u]*w+d;this.nde_(c,I);const Q=[];for(u=0;u<e.length;++u){f=e[u];f.node&&Q.push(f.node)}this.Ade_(Au.cN_(Q));const E=[],p=[];for(u=0;u<A.length;++u){f=A[u];f.node instanceof LMt?p.push(f.node):E.push(f.node)}this.Ade_(Au.cN_(E));const m=i.we_(),y=i.Qe_(),D=Au.cN_(p);this.ede_(D,m,y);return Ss({modellimitsdepths:c,boundsdepths:I},["modellimitsDepths","boundsDepths"],"KeepAspectRatioViewModeBuilder.build")}JV_(){return Pi(this.UU_,{})}setOptions(t){Pi(t,this.UU_);return this}};i=t([_s("geotoolkit.schematics.builder.KeepAspectRatioViewModeBuilder")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBc3NpZ25lZEFzcGVjdFJhdGlvIjoiVGRlXyIsImJ1aWxkIjoidHNpXyIsImdldE9wdGlvbnMiOiJKVl8ifX19");var ivt=Ci(function(){let i=class t extends UMt{tsi_(t,i){t.reset();if(!t.Hs_())return null;if(!i&&!(i=this.sde_(t)))return null;t.reset();while(t.Hs_()){const s=t.next();if(!(s instanceof kMt))continue;const e=s.k_i_();if(e){s.rd_(!1);s instanceof LMt?s.ht_(new mA(i.we_(),e.Ee_(),i.Qe_(),e.pe_())):s.ht_(new mA(e));s.rd_(!0)}}const s=i.Ee_(),e=i.pe_();return Ss({modellimitsdepths:[s,e],boundsdepths:[s,e]},["modellimitsDepths","boundsDepths"],"RegularViewModeBuilder.build")}JV_(){return{}}setOptions(t){return this}};i=t([_s("geotoolkit.schematics.builder.RegularViewModeBuilder")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJidWlsZCI6InRzaV8iLCJnZXRPcHRpb25zIjoiSlZfIn19fSAg");var svt=function(){let i=class t{constructor(t){t=qi(t,{componentname:typeof t=="string"?t:null,dataset:[]},!0);this.Lls_=t["componentname"];this.Jde_=t["dataset"]}PBt_(t){this.Jde_.push(t)}Pde_(){return this.Lls_}N_(){return{componentname:this.Lls_}}dt_(t){this.Lls_=t["componentname"];this.Jde_=t["dataset"];return this}};i=t([_s("geotoolkit.schematics.data.ComponentData")],i);return i}();const evt={"cement plug":"plug cement",crossover:"xo","drilling fluid":"fluid","electric submersible pump":"esp","gas lift mandrel":"glm","heavy weight drill pipe":"hwdp","logging while drilling":"lwd","measurement while drilling":"mwd","progressive cavity pump":"pcp","subsurface safety valve closed":["sssv closed","sssv","subsurface safety valve"],"subsurface safety valve open":"sssv open","valve closed":"valve"};var Avt=Ci(function(){let i=class t{};i.prototype.sort=Zi;i=t([_s("geotoolkit.schematics.data.sort.SortComponents")],i);return i}(),2,"eyJnZXRDbGFzc05hbWUiOiJEXyJ9");var nvt=Ci(function(){var i;let s=i=class t extends $n{constructor(t){super();this.Vde_=[];this.Ode_={};this.Q_s_=OA.Ai_();this.Wde_={depth:"ft",value:"in"};this.zde_=null;this.Xde_=null;t||(t={});if(t instanceof Array){this.y_s_(this.Wde_);this.jde_(t)}else{this.y_s_(t["units"]);t["elements"]instanceof Array&&this.jde_(t["elements"])}}static Wi_(t){return t?t instanceof i?t:new i(t):null}S_s_(){return Pi(this.Wde_,{})}y_s_(t){Pi(t,this.Wde_);this.zde_=this.Q_s_.gn_(this.Wde_["depth"]);if(!this.zde_||!this.zde_.En_("length"))throw new TypeError("unitOptions.depth must belong to length units!");this.Xde_=this.Q_s_.gn_(this.Wde_["value"]);if(!this.Xde_||!this.Xde_.En_("length"))throw new TypeError("unitOptions.value must belong to length units!");return this}Zde_(){return this.zde_}_de_(){return this.Xde_}static $de_(t,i,s){const e=t["data"]["geometry"];if(e==null)return t;let A;A=Array.isArray(e)?e:[e];let n=!1;const h=[];for(let t=0;t<A.length;++t){let e=A[t];const r=e["depth"]!=null&&e["depth"]["units"]!=null,o=e["diameter"]!=null&&e["diameter"]["units"]!=null;if(r||o){e=Pi(e,{});if(r){const t=OA.Ai_().gn_(e["depth"]["units"]);if(t&&t.Qn_(i)){e["depth"]["from"]=t.wn_(e["depth"]["from"],i);e["depth"]["to"]=t.wn_(e["depth"]["to"],i);e["depth"]["units"]=void 0}}if(o){const t=OA.Ai_().gn_(e["diameter"]["units"]);if(t&&t.Qn_(s)){e["diameter"]["outer"]=t.wn_(e["diameter"]["outer"],s);e["diameter"]["inner"]&&(e["diameter"]["inner"]=t.wn_(e["diameter"]["inner"],s));e["diameter"]["units"]=void 0}}n=!0}h.push(e)}n&&((t=Pi(t,{}))["data"]["geometry"]=h);return t}tBe_(t,s){t=i.$de_(t,this.zde_,this.Xde_);let e;if(s===void 0||s>this.Vde_.length-1){this.Vde_.push(t);e=this.Vde_.length-1}else if(s<0){this.Vde_.splice(0,0,t);e=0}else{this.Vde_.splice(s,0,t);e=s}return e}iBe_(t){if(!t)return this;Array.isArray(t)||(t=[t]);for(let s=0;s<t.length;++s){let e=t[s];if(e["data"]&&e["data"]["id"]&&e["data"]["geometry"])for(let t=0;t<this.Vde_.length;++t){const s=this.Vde_[t];if(s["data"]["id"]===e["data"]["id"]){e=i.$de_(e,this.zde_,this.Xde_);Pi(e["data"],s["data"]);break}}}this.notify(fm.mot_,this,t);return this}sBe_(t){return t&&this.Ode_[t]!==void 0?this.Vde_[this.Ode_[t]]:null}eBe_(){let t=i.u_();while(this.Ode_[t])t=i.u_();return t}ABe_(t,i){if(this.Ode_[t])throw new Error("The ID is not unique");this.Ode_[t]=i;return this}nBe_(t){this.Ode_[t]&&delete this.Ode_[t];return this}static u_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const i=Math.random()*16|0,s=undefined;return(t==="x"?i:i&3|8).toString(16)}))}hBe_(t,i,s){i["id"]==null&&(i["id"]=this.eBe_());const e={name:t,data:i};this.ABe_(i["id"],this.tBe_(e,s));this.notify(fm.mot_,this);this.notify(fm.Add,this,e);return this}jde_(t){if(!t)return this;Array.isArray(t)||(t=[t]);this.yf_(!0);t.forEach((t=>{if(t["name"]&&t["data"]){t["data"]["id"]==null&&(t["data"]["id"]=this.eBe_());this.ABe_(t["data"]["id"],this.tBe_(t))}}));this.yf_(!1);this.notify(fm.Add,this,t);return this}hcs_(){return this.Vde_}rBe_(){if(!this.Vde_||this.Vde_.length<1)return null;if(!this.getComponent("casing"))return null;let t=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;this.Vde_.forEach((function(e){const A=e.data["geometry"],n=FMt.wMs_(A);if(n!=null){n>i&&(i=n);if(e.name==="casing"){n>t&&(t=n);const i=FMt.JCe_(A);i<s&&(s=i)}}}));return i<=t?null:{emulated:!0,geometry:{depth:{from:t,to:i},diameter:{outer:s}}}}getComponent(t){const i=[];this.Vde_.forEach((s=>{s.name===t&&i.push(s.data)}));return i.length>0?i:void 0}k9_(t){const i=[];for(let s=0;s<this.Vde_.length;++s){const e=undefined;this.Vde_[s].name===t&&i.push(s)}return i}oBe_(t){const i=[],s=[];this.Ode_={};this.Vde_.forEach((e=>{if(e.name!==t){i.push(e);this.ABe_(e["data"]["id"],i.length-1)}else s.push(e)}));this.Vde_=i;this.notify(fm.mot_,this);s.forEach((t=>{this.notify(fm.mt_,this,t)}));return this}lBe_(t){if(!t)return this;const i=[];let s,e;this.Ode_={};for(e=0;e<this.Vde_.length;e++)if(t!==this.Vde_[e]["data"]["id"]){i.push(this.Vde_[e]);this.ABe_(this.Vde_[e]["data"]["id"],i.length-1)}else s=this.Vde_[e];this.Vde_=i;this.notify(fm.mot_,this);this.notify(fm.mt_,this,s);return this}uBe_(){const t=this.Vde_;this.Vde_=[];this.Ode_={};this.notify(fm.mot_,this);const i=this;t.forEach((function(t){i.notify(fm.mt_,i,t)}));return this}k_i_(){return i.k_i_(this.hcs_())}static k_i_(t){if(!t||t.length<1)return null;let i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,A=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;++n){const h=t[n]["data"]["geometry"];if(!h)continue;let r;r=Array.isArray(h)?h:[h];for(let t=0;t<r.length;++t){const n=r[t];let h=n["offset"];h===void 0&&(h=0);const o=h-FMt.HCe_(n)/2;o<i&&(i=o);const l=h+FMt.HCe_(n)/2;l>e&&(e=l);const u=FMt.BMs_(n);u<s&&(s=u);const a=FMt.wMs_(n);a>A&&(A=a)}}return isFinite(i)&&isFinite(s)&&isFinite(e)&&isFinite(A)?new mA(i,s,e,A):null}N_(){const t={},i=[];for(const s in this.Vde_)if(this.Vde_.hasOwnProperty(s)){t[s]=this.Vde_[s];i.push(this.Vde_[s])}t["elements"]=i;t["units"]={depth:this.zde_,value:this.Xde_};return t}dt_(t){t["units"]!==void 0&&this.y_s_(t["units"]);return this}};s=i=t([_s("geotoolkit.schematics.data.WellBoreData")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVDb21wb25lbnRzIjoiaUJlXyIsImdldENvbXBvbmVudEJ5SWQiOiJzQmVfIiwiZ2VuZXJhdGVJZCI6ImVCZV8iLCJhZGRDb21wb25lbnQiOiJoQmVfIiwiYWRkQ29tcG9uZW50cyI6ImpkZV8iLCJyZW1vdmVDb21wb25lbnQiOiJvQmVfIiwicmVtb3ZlQ29tcG9uZW50QnlJZCI6ImxCZV8iLCJyZW1vdmVBbGwiOiJ1QmVfIiwiZ2V0R2VvbWV0cnlCb3VuZHMiOiJrX2lfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyJ9fSwiZnJvbU9iamVjdCI6IldpXyIsImdldEdlb21ldHJ5Qm91bmRzIjoia19pXyJ9");const hvt={cement:0,casing:1,perforation:3,default:2},rvt=function(t){const i=hvt[t];return i===void 0?hvt["default"]:i},ovt=function(t,i){const s=t["data"]["geometry"],e=i["data"]["geometry"],A=FMt.BMs_(s),n=FMt.BMs_(e),h=A-n;if(h!==0)return h;const r=FMt.HCe_(s)-FMt.HCe_(e);if(r!==0)return-r;const o=undefined,l=undefined,u=undefined,a=undefined,g=FMt.wMs_(s)-A-(FMt.wMs_(e)-n);return g!==0?-g:0};var lvt=function(){let i=class t extends Avt{constructor(t){super();this.UU_=Pi(t,{getpriority:rvt,comparator:ovt})}aBe_(t){t.sort(((t,i)=>this.UU_["comparator"](t,i)));return t}sort(t){t instanceof nvt&&(t=t.hcs_());const i={};t.forEach((t=>{const s=undefined,e=this.UU_["getpriority"](t["name"]).toString();i[e]===void 0&&(i[e]=[]);i[e].push(t)}));let s=[];for(const t in i)if(i.hasOwnProperty(t)){const e=i[t],A=this.aBe_(e);s=s.concat(A)}return Au.cN_(s)}};i=t([_s("geotoolkit.schematics.data.sort.DefaultSortComponents")],i);return i}();var uvt=function(){let i=class t extends Avt{constructor(t){super();this._f=t}sort(t){t instanceof nvt&&(t=t.hcs_());t=this._f(t);return Au.cN_(t&&Array.isArray(t)?t:[])}};i=t([_s("geotoolkit.schematics.data.sort.FunctionalSortComponents")],i);return i}();var avt=Ci(function(){let i=class t extends ZMt{constructor(t,i){if(!t)throw new Error("Method or factory to create component node must be provided");super();if(typeof t=="function")this.gBe_={bde_:t,vCe_:()=>!0};else{if(!(t instanceof ZMt))throw new Error("type(Method or factory to create component node) passed: "+(typeof t).toString());this.gBe_=t}this.Dde_=i||this.gBe_.bde_()}bde_(t,i,s){const e=i?this.gBe_.bde_():this.Dde_,A=new jMt(e);A.setData(t,s);return A}vCe_(t){return this.Dde_.vCe_(t)}};i=t([_s("geotoolkit.schematics.factory.ComponentNodeProxyFactory")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVDb21wb25lbnROb2RlIjoiYmRlXyIsInZhbGlkR2VvbWV0cnlEYXRhIjoidkNlXyJ9fX0g");var gvt=Ci(function(){let i=class t extends ZMt{constructor(t,i){super();this.cBe_=t;this.IBe_=typeof i=="function"?i:()=>!0}bde_(t){return this.cBe_(t)}vCe_(t){return this.IBe_(t)}};i=t([_s("geotoolkit.schematics.factory.SimpleComponentNodeFactory")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVDb21wb25lbnROb2RlIjoiYmRlXyIsInZhbGlkR2VvbWV0cnlEYXRhIjoidkNlXyJ9fX0g");var cvt=Ci(function(){let i=class t extends kMt{constructor(t){super(t=Pi(t,{}))}pgt_(t){super.pgt_(t);this.fBe_=t["getleft"];this.CBe_=t["getright"]}vn_(t,i){super.vn_(t,i);if(this.Bq_())return this;this.Uq_();this.getParent()&&this.getParent().getParent()&&this.getParent().getParent().Wj_();this.Yq_(!1);return this}yCe_(){return!1}Bn_(t){const i=this.getData(t);return i?i["description"]:null}kCs_(t,i){this.Us_=Pi({description:t},this.getData(i));return this}vCe_(t){return!0}getData(t){return t!==!1?Pi(this.Us_,{}):this.Us_||{}}setData(t,i){(t=t||{})["id"]!=null&&this.JC_(t["id"]);t["geometry"]&&this.bCe_(t["geometry"],i);t["description"]&&this.kCs_(t["description"],i);this.Us_=i!==!1?Pi(t,{}):t;return this}bCe_(t,i){super.bCe_(t);if(!t)return this;const s=Array.isArray(t)?t[0]:t;if(s["depth"]==null)return this;const e=s["depth"]["from"];if(e===void 0)return this;let A=s["depth"]["to"];A===void 0&&(A=e+VMt.fde_);let n=s["offset"];n===void 0&&(n=0);const h=new mA(this.fBe_(t)+n,e,this.CBe_(t)+n,A);this.MCe_(h);return this}N_(){const t=super.N_();t["getleft"]=this.fBe_;t["getright"]=this.CBe_;return t}dt_(t){if(t==null)return this;t["getleft"]!==void 0&&(this.fBe_=t["getleft"]);t["getright"]!==void 0&&(this.CBe_=t["getright"]);return this}toString(){let t=FMt.ZCe_(this.Bn_())||this.dn_();const i=this.NCe_(),s=FMt.BMs_(i);if(s!=null){const e=FMt.wMs_(i);t+=e!=null?"<br/>depth: ["+s+" - "+e+"]":"<br/>depth: "+s}const e=FMt.HCe_(i);if(e!=null){const s=FMt.JCe_(i);t+=s!=null?"<br/>diameter: ["+s+" - "+e+"]":"<br/>diameter: "+e}return t}};i=t([_s("geotoolkit.schematics.scene.MultiDiameterComponentNodeRange")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwidXBkYXRlU3RhdGUiOiJ2bl8iLCJnZXREZXNjcmlwdGlvbiI6IkJuXyIsInNldERlc2NyaXB0aW9uIjoia0NzXyIsInZhbGlkR2VvbWV0cnlEYXRhIjoidkNlXyIsInNldEdlb21ldHJ5RGF0YSI6ImJDZV8ifX19");const Ivt=function(t,i,s,e){let A;if(s){const t=undefined;A=e.HY_(i).k_i_().Qe_()}else A=t.Qe_();return A},fvt=function(t,i,s,e){let A;if(s){const t=undefined;A=e.HY_(i).k_i_().we_()}else A=t.we_();return A};var Cvt=Ci(function(){var i;let s=i=class t extends kMt{pgt_(t){super.pgt_(t);this.BHi_=new TQ;this.dBe_=new TQ;this.BBe_=new TQ({selectable:!1});this.wBe_=new TQ({selectable:!1});this.QBe_=new TQ({selectable:!1});this.GY_([this.BHi_,this.dBe_,this.BBe_])}BCe_(t){super.BCe_(t);this.EBe_().YY_().forEach((i=>{i.BCe_(t)}));return this}nf_(t){super.nf_(t);this.EBe_().YY_().forEach((i=>{i.nf_(t)}));return this}pBe_(){return this.BHi_}EBe_(){return this.dBe_}mBe_(){return this.BBe_}yBe_(){return this.wBe_}DBe_(){return this.QBe_}toString(){let t=FMt.ZCe_(this.Bn_())||this.dn_();const i=this.NCe_(),s=FMt.BMs_(i);if(s!=null){const e=FMt.wMs_(i);t+=e!=null?"<br/>depth: ["+s+" - "+e+"]":"<br/>depth: "+s}const e=FMt.HCe_(i);if(e!=null){const s=FMt.JCe_(i);t+=s!=null?"<br/>diameter: ["+s+" - "+e+"]":"<br/>diameter: "+e}return t}static vCe_(t){if(!t)return!1;const i=t instanceof Array?t:[t];for(let t=0;t<i.length;++t){const s=i[t],e=s["depth"];if(e==null||e["from"]==null||e["to"]==null||!isFinite(e["from"])||!isFinite(e["to"])||e["to"]<=e["from"])return!1;const A=s["diameter"];if(A==null||A["outer"]==null||!isFinite(A["outer"])||A["outer"]<=0)return!1;if(A["inner"]!=null&&(!isFinite(A["inner"])||A["outer"]<=A["inner"]))return!1}return!0}vCe_(t){return i.vCe_(t)}static MBe_(t,i){const s=i["description"];return Array.isArray(s)?s[t]:t===Math.floor(i["geometry"].length/2)?s:null}HC_(t){super.HC_(t);this.dBe_.YY_().forEach((i=>{i.HC_(t)}));return this}static vBe_(t){return t["diameter"]["outer"]/2}static bBe_(t){return-t["diameter"]["outer"]/2}static NBe_(t){return t["diameter"]["inner"]/2}static SBe_(t){return-t["diameter"]["inner"]/2}setData(t,s){super.setData(t,s);(t=this.getData(!1))["geometry"]||(t["geometry"]=[]);let e;if(Array.isArray(t["geometry"]))e=t["geometry"];else{e=[t["geometry"]];t["geometry"]=e}this.rd_(!1);this.dBe_.KY_();this.BBe_.KY_();this.QBe_.KY_();this.wBe_.KY_();if(e.length<1){this.rd_(!0);return this}let A=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;const o=FMt.JCe_(e)!=null;for(let s=0;s<e.length;++s){const l=e[s],u=i.MBe_(s,t);let a=Pi(t,{}),g=new cvt(Pi({getleft:i.bBe_,getright:i.vBe_,geometry:l,description:u},a));g.HC_(this.dn_()).nf_(this.$C_());this.dBe_.GY_(g);if(o){a=Pi(t,{});g=new cvt(Pi({getleft:i.SBe_,getright:i.NBe_,geometry:l,description:u},a));g.HC_(this.dn_()).nf_(this.$C_());this.BBe_.GY_(g);a=Pi(t,{});g=new cvt(Pi({getleft:i.bBe_,getright:i.SBe_,geometry:l,description:u},a));g.HC_(this.dn_()).nf_(this.$C_());this.wBe_.GY_(g);a=Pi(t,{});g=new cvt(Pi({getleft:i.NBe_,getright:i.vBe_,geometry:l,description:u},a));g.HC_(this.dn_()).nf_(this.$C_());this.QBe_.GY_(g)}const c=l["depth"]["from"];c<A&&(A=c);const I=l["depth"]["to"];I>n&&(n=I);const f=l["diameter"]["outer"];l["offset"]==null&&(l["offset"]=0);const C=l["offset"],d=f/2+C;d>r&&(r=d);const B=-f/2+C;B<h&&(h=B)}const l=new mA(h,A,r,n);this.MCe_(l);this.rd_(!0);return this}Wj_(){let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,A,n,h;this.dBe_.YY_().forEach((r=>{A=r.getBounds();if(A&&!A.isEmpty()){n=A.Qe_();i=Math.max(n,i);n=A.we_();t=Math.min(n,t);h=A.pe_();e=Math.max(h,e);h=A.Ee_();s=Math.min(h,s)}}));if(i>t&&e>s){const A=new mA(t,s,i,e),n=this._C_();this.rd_(!1);this.Uq_();this.ht_(A);this.Lq_(A.clone());this.Yq_(!1);this.rd_(n)}}static GBe_(t,i,s,e){t.clear();if(i.length<4)return;t.moveTo(i[0],s[0]);t.lineTo(i[1],s[1]);let A;for(A=2;A<i.length/2;++A)t.lineTo(i[A],s[A]);e&&e["bottom"]?t.lineTo(i[A],s[A]):t.moveTo(i[A],s[A]);for(A+=1;A<i.length;++A)t.lineTo(i[A],s[A]);e&&e["top"]&&t.lineTo(i[0],s[0])}static RBe_(t,i,s){const e=i.qY_();if(e<1)return;let A=!1;if(s){const t=undefined;s.qY_()===e&&(A=!0)}const n=[],h=[];for(let t=0;t<e;++t){const e=i.HY_(t).getBounds(),r=Ivt(e,t,A,s);n.push(r);h.push(e.Ee_());n.push(r);h.push(e.pe_())}for(let t=e-1;t>=0;--t){const e=i.HY_(t).getBounds(),r=fvt(e,t,A,s);n.push(r);h.push(e.pe_());n.push(r);h.push(e.Ee_())}t.Qt_(n,h)}static kBe_(t,i,s,e){s=s||{};t.clear();const A=i.qY_();if(A<1)return;let n=!1;if(e){const t=undefined;e.qY_()===A&&(n=!0)}let h=i.HY_(0).getBounds(),r=Ivt(h,0,n,e);t.moveTo(r,h.Ee_());t.lineTo(r,h.pe_());for(let s=1;s<A;++s){h=i.HY_(s).getBounds();r=Ivt(h,s,n,e);t.lineTo(r,h.Ee_());t.lineTo(r,h.pe_())}h=i.HY_(A-1).getBounds();r=fvt(h,A-1,n,e);t.moveTo(r,h.pe_());t.lineTo(r,h.Ee_());for(let s=A-2;s>=0;--s){h=i.HY_(s).getBounds();r=fvt(h,s,n,e);t.lineTo(r,h.pe_());t.lineTo(r,h.Ee_())}if(s["bottom"]){h=i.HY_(A-1).getBounds();if(n){const i=e.HY_(A-1).k_i_();t.moveTo(i.we_(),h.pe_());t.lineTo(i.Qe_(),h.pe_())}else{t.moveTo(h.we_(),h.pe_());t.lineTo(h.Qe_(),h.pe_())}}if(s["top"]){h=i.HY_(0).getBounds();if(n){const i=e.HY_(0).k_i_();t.moveTo(i.we_(),h.pe_());t.lineTo(i.Qe_(),h.pe_())}else{t.moveTo(h.we_(),h.Ee_());t.lineTo(h.Qe_(),h.Ee_())}}}};s=i=t([_s("geotoolkit.schematics.scene.MultiDiameterComponentNode")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJwZ3RfIiwic2V0U2VsZWN0ZWQiOiJCQ2VfIiwic2V0VmlzaWJsZSI6Im5mXyIsImdldFNoYXBlc0xheWVyIjoicEJlXyIsImdldFJhbmdlc0xheWVyIjoiRUJlXyIsImdldElubmVyUmFuZ2VzTGF5ZXIiOiJtQmVfIiwiZ2V0TGVmdFJhbmdlc0xheWVyIjoieUJlXyIsImdldFJpZ2h0UmFuZ2VzTGF5ZXIiOiJEQmVfIiwidmFsaWRHZW9tZXRyeURhdGEiOiJ2Q2VfIiwic2V0TmFtZSI6IkhDXyJ9fX0g");var dvt=Ci(function(){let i=class t extends Cvt{pgt_(t){super.pgt_(t);this.$Ce_=new hl({color:"black",pixelsnapmode:!0});this.FBe_=new wr("gray");this.xBe_={top:!0,bottom:!0};this.LBe_=!0;this.kki_=new oE;this.kki_.iQ_(this.FBe_);this.kki_.KC_(this.LBe_);this._gp=new TA;this.Oq_=new Yu({geometry:this._gp,linestyle:this.$Ce_});this.pBe_().GY_([this.kki_,this.Oq_])}vn_(t,i){super.vn_();this.kki_.rd_(!1);Cvt.RBe_(this.kki_,this.EBe_());this.kki_.rd_(!0);const s=this.RCe_();let e=s?s["close"]:{};const A=Pi(this.xBe_,{});e=Pi(e,A);this.Oq_.rd_(!1);Cvt.kBe_(this._gp,this.EBe_(),e);this.Oq_.vn_();this.Oq_.rd_(!0);return this}SCe_(t,i){if(t===void 0)return this;super.SCe_(t,i);if(t!==null){t["linestyle"]!==void 0&&this.Oq_.rB_(t["linestyle"]);t["fillstyle"]!==void 0&&this.kki_.iQ_(t["fillstyle"]);t["selectableinterior"]!==void 0&&this.kki_.KC_(t["selectableinterior"]);t["close"]!==void 0&&this.td_(void 0,!0)}else{this.Oq_.rB_(this.$Ce_);this.kki_.iQ_(this.FBe_);this.kki_.KC_(this.LBe_)}return this}UBe_(t,i){if(t===void 0)return this;super.SCe_(t,i);if(t!==null){t["linestyle"]!==void 0&&this.Oq_.rB_(this.$Ce_=t["linestyle"]);t["fillstyle"]!==void 0&&this.kki_.iQ_(this.FBe_=t["fillstyle"]);t["selectableinterior"]!==void 0&&this.kki_.KC_(this.LBe_=t["selectableinterior"]);if(t["close"]!==void 0){this.xBe_=t["close"];this.td_(void 0,!0)}}return this}};i=t([_s("geotoolkit.schematics.scene.impl.SolidMultiDiameterComponentNode")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVTdGF0ZSI6InZuXyIsInNldFJlbmRlcmluZ0hpbnRzIjoiU0NlXyJ9fX0g");var Bvt=function(){let i=class t{static YBe_(t,i,s,e,A,n,h,r){(A===void 0||A<0)&&(A=0);n===void 0&&(n=0);r||(r=[]);h||(h=[]);const o=Math.PI*2/(A+1),l=s/(A+1);for(let s=t,A=0;s<=i;s+=l,A+=o){r.push(n+Math.sin(A)*e);h.push(s)}if(h.length>0&&h[h.length-1]<i){r.push(r[r.length-1]);h.push(i)}return{absciss:h,ordinates:r}}};i=t([_s("geotoolkit.schematics.utils.GeometryUtil")],i);return i}();var wvt=Ci(function(){let i=class t extends Cvt{constructor(t){super(t);this.$Ce_=new hl("gray",1);this.FBe_=wr.EQ_;this.xBe_={top:!1,bottom:!0};this.kki_=new oE;this.kki_.iQ_(this.FBe_);this._gp=new TA;this.Oq_=new Yu({geometry:this._gp,linestyle:this.$Ce_});this.TBe_=1;this.KBe_=20;this.HBe_=9;this.qBe_=1;this.JBe_=20;this.PBe_=9;this.pBe_().GY_([this.kki_,this.Oq_])}VBe_(t,i,s){const e=t.Ji_(),A=this.JBe_/e.sI_(),n=this.qBe_/e.BI_(),h=this.EBe_().qY_();if(h<1)return;let r,o,l,u,a;const g=[],c=[];for(r=0;r<h;++r){const t=undefined;o=this.EBe_().HY_(r).getBounds();l=o.Ee_();u=o.pe_();if(r>0){i.push(i[i.length-1]);s.push(s[s.length-1]);g.push(g[g.length-1]);c.push(c[c.length-1])}a=o.Qe_();Bvt.YBe_(l,u,A,n,this.PBe_,a-n,s,i);a=o.we_();Bvt.YBe_(l,u,A,n,this.PBe_,a+n,c,g)}for(r=c.length-1;r>=0;--r){i.push(g[r]);s.push(c[r])}}uWs_(t){const i=this.RCe_();if(!t.tk_()&&i&&i["wiggle"]){this.Oq_.rd_(!1);let s=i["close"];const e=Pi(this.xBe_,{});s=Pi(s,e);const A=[],n=[];this.VBe_(t,A,n);Cvt.GBe_(this._gp,A,n,s);this.Oq_.vn_();this.Oq_.rd_(!0)}}vn_(t,i){super.vn_();this.kki_.rd_(!1);Cvt.RBe_(this.kki_,this.EBe_());this.kki_.rd_(!0);const s=this.RCe_();if(!s||!s["wiggle"]){let t=s?s["close"]:{};const i=Pi(this.xBe_,{});t=Pi(t,i);this.Oq_.rd_(!1);Cvt.kBe_(this._gp,this.EBe_(),t);this.Oq_.vn_();this.Oq_.rd_(!0)}return this}SCe_(t,i){if(t===void 0)return this;super.SCe_(t,i);if(t!==null){t["linestyle"]!==void 0&&this.Oq_.rB_(t["linestyle"]);t["fillstyle"]!==void 0&&this.kki_.iQ_(t["fillstyle"]);t["close"]!==void 0&&this.td_(void 0,!0);const i=t["sine"];if(i!=null){i["amplitude"]!==void 0&&(this.qBe_=i["amplitude"]!=null?i["amplitude"]:this.TBe_);i["period"]!==void 0&&(this.JBe_=i["period"]!=null?i["period"]:this.KBe_);i["accuracy"]!==void 0&&(this.PBe_=i["accuracy"]!=null?i["accuracy"]:this.HBe_)}}else{this.Oq_.rB_(this.$Ce_);this.kki_.iQ_(this.FBe_);this.qBe_=this.TBe_;this.JBe_=this.KBe_;this.PBe_=this.HBe_}return this}};i=t([_s("geotoolkit.schematics.scene.impl.NodeOpenHoleMD")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVTdGF0ZSI6InZuXyIsInNldFJlbmRlcmluZ0hpbnRzIjoiU0NlXyIsInVwZGF0ZVNoYXBlR2VvbWV0cnkiOiJ1V3NfIn19fSAg");var Qvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(201, 4, 4)","rgb(247, 100, 100)"),s=new hl("black",1);let e=new dp(-100,0,100,40);e.rB_(s);e.iQ_(new wr("#f2f2f2"));t.GY_(e);e=new dp(-100,45,100,45+110);e.rB_(s);e.iQ_(i);t.GY_(e);e=new dp(-100,160,100,160+40);e.rB_(s);e.iQ_(new wr("#ececec"));t.GY_(e);e=new dp(-100,40,100,40+5);e.rB_(s);e.iQ_(i);t.GY_(e);e=new dp(-100,155,100,155+5);e.rB_(s);e.iQ_(i);t.GY_(e);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeLinerHanger")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Evt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-52,0,52,160);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(201, 4, 4)","rgb(247, 100, 100)"),s=new hl("black",1),e=new dp(-52,0,52,130);e.rB_(s);e.iQ_(i);t.GY_(e);const A=new oE;A.rB_(s);A.iQ_(i);A.Qt_([-47,47,32,-32],[130,130,160,160]);t.GY_(A);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeFloatCollar")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var pvt=Ci(function(){let i=class t extends OMt{constructor(t,i){super(t=qi(t,{linestyle:t instanceof hl?t:{color:"gray"},fillstyle:i||{color:"gray"}},!0));this.$Ce_=t["linestyle"];this.FBe_=t["fillstyle"];this.yIt_&&this.yIt_.rB_(this.$Ce_).iQ_(this.FBe_)}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t.hasOwnProperty("linestyle")&&(this.$Ce_=t["linestyle"]);t.hasOwnProperty("fillstyle")&&(this.FBe_=t["fillstyle"]);return this}cde_(){if(this.yIt_)return this.yIt_;this.OBe_=new mA(-100,0,100,100);this.yIt_=new dp(this.OBe_).rB_(this.$Ce_).iQ_(this.FBe_);return this.yIt_}SCe_(t,i){if(t===void 0)return this;if(t!==null){t["linestyle"]!==void 0&&this.yIt_.rB_(t["linestyle"]);t["fillstyle"]!==void 0&&this.yIt_.iQ_(t["fillstyle"])}else{this.yIt_.rB_(this.$Ce_);this.yIt_.iQ_(this.FBe_)}super.SCe_(t,i);return this}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeRectangle")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0VGVtcGxhdGVCb3VuZHMiOiJkQ2VfIiwic2V0UmVuZGVyaW5nSGludHMiOiJTQ2VfIiwiZ2V0VGVtcGxhdGVOb2RlIjoiY2RlXyJ9fX0g");var mvt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("black",1),fillstyle:new wr("rgb(255, 255, 200)")}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeHole")],i);return i}();var yvt=Ci(function(){let i=class t extends ma{ud_(t){return!0}};i=t([_s(null)],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjaGVja0NvbGxpc2lvbiI6InVkXyJ9fX0g"),Dvt=Ci(function(){let i=class t extends Cvt{pgt_(t){super.pgt_(t);this.WBe_=new wr("red");this.zBe_=FMt.VCe_("rgb(100,100,100)","rgb(220, 220, 220)");this.kki_=new oE;this.kki_.iQ_(this.zBe_);this.XBe_=new oE({fillstyle:this.WBe_});this.jBe_=new oE({fillstyle:this.WBe_});this.ZBe_={sizeisindevicespace:!0,width:10,height:10,fillstyle:new wr("black")};const i=Pi(this.ZBe_,{alignment:dA.se_,painter:function(t,i,s){const e=[i.x,i.x+i.width,i.x],A=[i.y+i.height,i.y+i.height,i.y];s.ER_(e,A)}});this._Be_=new yvt(i);const s=Pi(this.ZBe_,{alignment:dA.Ae_,painter:function(t,i,s){const e=[i.x,i.x+i.width,i.x+i.width],A=[i.y+i.height,i.y+i.height,i.y];s.ER_(e,A)}});this.$Be_=new yvt(s);this.pBe_().GY_([this.kki_,this.XBe_,this.jBe_]);this.pBe_().GY_(this._Be_);this.pBe_().GY_(this.$Be_)}vn_(t,i){if(this.Bq_())return this;super.vn_();this.kki_.rd_(!1);Cvt.RBe_(this.kki_,this.EBe_(),this.mBe_());this.kki_.rd_(!0);this.XBe_.rd_(!1);Cvt.RBe_(this.XBe_,this.EBe_(),this.DBe_());this.XBe_.rd_(!0);this.jBe_.rd_(!1);Cvt.RBe_(this.jBe_,this.EBe_(),this.yBe_());this.jBe_.rd_(!0);const s=this.NCe_(!1);let e;e=s instanceof Array?s:[s];const A=e[e.length-1],n=A["offset"]!=null?A["offset"]:0,h=this.EBe_().qY_();if(h>0){const t=this.EBe_().HY_(h-1).getBounds();this._Be_.gR_(t.Qe_()+n,t.pe_());this.$Be_.gR_(t.we_()+n,t.pe_())}return this}SCe_(t,i){if(t===void 0||this._Be_==null||this.$Be_==null||this.kki_==null||this.XBe_==null||this.jBe_==null)return this;if(t!==null){const i=undefined;if(t["shoe"]!==void 0){this._Be_.dt_(t["shoe"]);this.$Be_.dt_(t["shoe"])}t["inner"]&&t["inner"]["fillstyle"]!==void 0&&this.kki_.iQ_(t["inner"]["fillstyle"]);if(t["outer"]&&t["outer"]["fillstyle"]!==void 0){this.XBe_.iQ_(t["outer"]["fillstyle"]);this.jBe_.iQ_(t["outer"]["fillstyle"])}}else{this._Be_.dt_(this.ZBe_);this.$Be_.dt_(this.ZBe_);this.kki_.iQ_(this.zBe_);this.XBe_.iQ_(this.WBe_);this.jBe_.iQ_(this.WBe_)}super.SCe_(t,i);return this}ud_(t){this.uWs_(t);return super.ud_(t)}render(t){this.uWs_(t);super.render(t)}};i=t([_s("geotoolkit.schematics.scene.impl.NodeCasing")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVTdGF0ZSI6InZuXyIsImNoZWNrQ29sbGlzaW9uIjoidWRfIiwic2V0UmVuZGVyaW5nSGludHMiOiJTQ2VfIn19fSAg");var Mvt=Ci(function(){var i;let s=i=class t extends PMt{constructor(t){super(t=Pi(t,{isleft:typeof t=="boolean"&&t},!0));this.twe_=t["isleft"];this.iwe_=null;const i=this.cde_();if(!i)return;this.swe_=this.ewe_();const s=this._C_();this.rd_(!1);i.rd_(!1);this.swe_.rd_(!1);this.GY_([i,this.swe_]);i.rd_(!0);this.swe_.rd_(!0);this.rd_(s)}ewe_(){if(!this.swe_){const t=this.cde_();t&&(this.swe_=t.clone())}return this.swe_}Awe_(){const t=this._C_();this.rd_(!1);this.swe_!=null&&this.removeChild(this.swe_);this.swe_=null;const i=this.cde_();if(i){this.swe_=i.clone();this.GY_(this.swe_)}this.rd_(t);return this}SCe_(t,i){if(t===void 0)return this;const s=this._C_();this.rd_(!1);this.cde_().rd_(!1);this.swe_.rd_(!1);this.removeChild(this.swe_);this.swe_=null;this.swe_=this.ewe_();this.swe_.rd_(!1);this.swe_.at_(this.iwe_);this.GY_(this.swe_);this.cde_().rd_(!0);this.swe_.rd_(!0);this.rd_(s);super.SCe_(t,i);return this}toString(){let t=FMt.ZCe_(this.Bn_())||this.dn_();const i=this.NCe_(),s=FMt.BMs_(i);if(s!=null){const e=FMt.wMs_(i);t+=e!=null?"<br/>depth: ["+s+" - "+e+"]":"<br/>depth: "+s}const e=FMt.HCe_(i);if(e!=null){const s=FMt.JCe_(i);t+=s!=null?"<br/>diameter: ["+s+" - "+e+"]":"<br/>diameter: "+e}return t}static nwe_(t){if(t==null)return!1;const i=Array.isArray(t)?t[0]:t;return i["depth"]!=null&&(i["depth"]["from"]!=null&&(!(i["depth"]["to"]==null||i["depth"]["to"]<=i["depth"]["from"])&&(i["diameter"]!=null&&(!(i["diameter"]["outer"]==null||i["diameter"]["outer"]<=0)&&!(i["diameter"]["inner"]==null||i["diameter"]["outer"]<=i["diameter"]["inner"])))))}jj_(){return this.twe_}ab_(t){this.twe_=t;return this}vCe_(t){return i.nwe_(t)}bCe_(t){super.bCe_(t);if(t==null)return this;const i=Array.isArray(t)?t[0]:t;if(i["depth"]==null)return this;this.qbs_=i["depth"]["from"];if(this.qbs_==null)return this;this.Jbs_=i["depth"]["to"];this.Jbs_==null&&(this.Jbs_=this.qbs_+VMt.fde_);this.wy_=i["diameter"]==null||i["diameter"]["outer"]==null?VMt.Ide_/2:i["diameter"]["outer"]/2;this.dy_=i["diameter"]==null||i["diameter"]["inner"]==null?this.wy_/2:i["diameter"]["inner"]/2;this.T2_=i["offset"];this.T2_==null&&(this.T2_=0);const s=new mA(this.dy_+this.T2_,this.qbs_,this.wy_+this.T2_,this.Jbs_),e=new mA(-this.dy_+this.T2_,this.qbs_,-this.wy_+this.T2_,this.Jbs_),A=this.cde_(),n=A instanceof sI?A.getBounds():this.dCe_(),h=Gn.xI_(n,s,this.jj_());this.iwe_=Gn.xI_(n,e,!this.jj_());const r=new mA(-this.wy_+this.T2_,this.qbs_,this.wy_+this.T2_,this.Jbs_),o=this._C_();this.rd_(!1);this.cde_().rd_(!1);this.ewe_().rd_(!1);this.cde_().at_(h);this.ewe_().at_(this.iwe_);this.Lq_(new mA(r));this.cde_().rd_(!0);this.ewe_().rd_(!0);this.rd_(o);this.MCe_(r);return this}ud_(t){this.uWs_(t);return super.ud_(t)}render(t){this.uWs_(t);super.render(t)}ad_(t,i){this.uWs_(t);super.ad_(t,i)}N_(){const t=super.N_();t["isleft"]=this.twe_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["isleft"]!==void 0&&(this.twe_=t["isleft"]);return this}};s=i=t([_s("geotoolkit.schematics.scene.FlippedComponentNode")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRSZW5kZXJpbmdIaW50cyI6IlNDZV8iLCJpc0xlZnQiOiJqal8iLCJzZXRMZWZ0IjoiYWJfIiwidmFsaWRHZW9tZXRyeURhdGEiOiJ2Q2VfIiwic2V0R2VvbWV0cnlEYXRhIjoiYkNlXyIsImNoZWNrQ29sbGlzaW9uIjoidWRfIiwicmVuZGVyQXN5bmMiOiJhZF8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");const vvt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAxCAIAAAAXyW1IAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIB"+"FShKgAAADTtJREFUWMNN2WlvW8UaB3DHPk7i7EuTtLTsFHiBeMHnvm/u/RoICUGFWraKtkDbNHucxHZs39/MPxxx1Fpz5jzz7Otk4X///c98Pu92u71e"+"b2FhodPpZD2dTv/444/BYHDv3r1+v392dnZ1dfXw4cPT01Ov29vbR0dHNi2WlpYcef369eLiYtM0s9lsMpnACczOeDyxeVuf1dXVnZ0di+Pj483NzefP"+"n19eXm5sbGxtbSGE9M3NTb+/NBqNGhx4hwU0ViwwZ3N5eXl3dxcir+PxuFuf4XCIGDCE7VuDh9oO7PCAvL6+BrmysoIn+zYxagf34B1EG2GosLu3t7e/"+"vx8qNsFfXp470lg5E86ctwBhfXJy4phX6kFsfX2dQGGFnqBGHo2wCxJqr2TDDUjwzoKhLdgip09gaN2vr1h3ijy+hlfwuMdIg2rkCEMhA9EXX3wRQYE6"+"EKahsz4/P0fDV2QcxJNXrEMNDBlsWXgF72urWphbYcBM63NxcQE4FkBid3eH+htkuv96nCcxGswfMpiAyzGQLfeUT1aQLSVHEACALfvv3r1zfKU8q/EN"+"JOMqjkQqazidpa3F+sQNLi7PGlhoKx7mN2R8Y0TH2IKH2UTPPnS0C9Kp6CNixB3BJFbsEyaG85s4iMrDFkiLeX1m9Qn16+ur45ND4hWf8B5RQGMRBBQo"+"WcPLFaKP/AolTEOKb7TjGSjZYRccYMt6bW2NooSb0wAgj0fHz5DDOkJIxNkTFjAjwacaK58TMpBGnwkxPDkmC4BB0r7X6CZHWo+xSYviHAY0fMUQznyd"+"zYYL9QETr/r3GkBeY1kEBxO6WGzCaXgStHQTcUHDm8DGULwBJKfxGyk/+OCDWPa3334DDFWAKRKLfvkAkbiwLOD4o0ePcB+paDrOBAPJP/zww8PDQ6en"+"s+mrV68KVfr0IYFzVR+cxfytbhJoie33339fjsXxr7/+GvdKnMfhyJaMg8sEAWvKKWLo7du3MSI82EoGOK4PiqT966+/yFCcoQ0uL85DGpNXB7xuky1u"+"Es920Pj7779pwtn79+9DZx8lzFk4u1cfX+0cHr4jw4sXL+ivLSeOsHLSFYHpm7Kb8vTGkxufutG8GuIYSrbgiskv65PsH0+C1HlFQ10iw+eff54ITbQn"+"suAG+csvvzx9+vTly5fxzp9++gkTjtRsWWCQu6gP+3788ceOQ3Lv3l7TKx5c/Ak0fmOyOFkNhyWfiAVd3BNMSoKU8dFHH8Hl9fvvvycMGon/lFQHf/jh"+"B+yS8P79B0+ePPnuu++++uorqgVDr/jmeY4gDRs8/MEnMhcPnhYkd+GAcTaO6Il5m4nNRG/MjUXu+fXXX/v6559/ck/okhqSphOkHi74+PHjJL9vvvnm"+"yy+/tMBTyho7YII7ohjP69dnf/+gpDr/ky1ippifqkBbJ/nyADska7MX6yRQBBcHQDuhY0E8aki/gAkuQAwsSnhOJUEixFsgTAID+d5774Gxprw3b96U"+"vOUw5uJSnfqQpmK8TY72oEolrAMpbsjHkX1FMik3OTYpm2B45fW1sJQUTzfffvstMORT3JJQLPD36aefClK8clltjiLcRQCKBw8egEgvhQyJHYYXKKQU"+"VmPqEIBIkt1WV9f842B6KsiVA/vKHyaoh489fPjIYn19I0kHHtZgxBT+yG8HaYxSz88///zs2TP9XDqLBkOAkn7SvVjjHR8ppfaTyfCEXRzQs09SKAF4"+"D+v4hJ7NmJsifQpDvfrEX1MVYE6aRcsp3FA/Qlis4X8uPzYUHnvFdhYsBZqSseKwTTAUltRCJWk+eZVXSf/3339nI8GYjipMJCFZpxSmKqTQpalEBR/R"+"iFMsk0xWO5frUnxgT2lLOxXDp+tKwXaMfBbVb3r05JMckcYajOaMwhLeaXIm9ak1cRY7OB5rpjXlPPEN1C1I5Syerq6GRRdETNOdAu6MdbFuTQ2UZ0Eg"+"5vNbWb9N640nWJBh07QVbesRqSSCZD77oZpi6ixgsdKm1vCaMC9Ju9e564RyIE+yYnzCOsnipj5JE4k4MGmKksC8rtUHu2mOk1qZJmayTwWMZZ3+OHWw"+"9ZYqUmdxqekv9koiSDqNT0CUDoLak0IzzySZoaFyciaFloawGEPjj3v5pQl6jXdCgo+jo3eAGRajYFBPokk8Jg/jO1WuZKJlXXi3WAoHGRACHWUgmRhO"+"mknS90sxUrOWBsnX9SEYDNwLMMNhKzIkKaS5ZURIkp9jsrgKsPQmIMtgsiEDX5Zkme4gCTq/6OEyEYr95DB6Qpvc6fLs8FksyjSEwah6J63IQDiTIBgr"+"B4nT9LvzznRvf3dru5Sa0fiamaazydn5CVow7y/fi47rlFWSfrFOOpP0M5lk0qbFPanXOuwif3JyGnZTvJkyLoUhJCkABhpysHb9BrtTTIDMAIyWta/W"+"actoC/XYvYZUSSuNviItbHqp5N9UNBJISyk4cCVUoYs/ZfDKRBpBM1NkukrPaWTAN3eBjZpJGPumNUcobp0BM50BCYuTAUobmUhBKS2Db1BngFEJDg4O"+"Yjj6iJ7YFAdgWA2v0GU8cQQqzpQpaHtnM7185ou2cY2nJtjTsqY1j0gNnyWEVcaetpPRsbAFj8mgYQfrfpUw6DJdZihKRScPlSTOsZ5elEfUXDAMbQOb"+"1g5jEs4/qppX7aroC2oE2UofdjMpxxKMyUmZQ+JJ9G8/r+ln4joQYRFPRPLKu0HGHKlgmYUyTNPBcFjm5pxt8360lVYgLMazV1fWZzudJpUous3onJaI"+"1dLv0mUcK7bnQyiF70yn6/XxlYelTYCdU5K7DFilHhcwhDLZxonb6pluux2ypdiNjc1mqYzCVLmQzCtlDRTBWr+SxDMetrcmCTf2VaotWC1uhG8yIOA1"+"F09kAHN0fCgnVDvoN0fn55dxzW5XzenWpCgxjWsxxfS418Vuv3tzNTw+Orw8P5vdTvxbmE+7nXlndssSr168UHM141zz5kYCVJc6g8Ey9xPGz549lWtR"+"evOGKRv90vHxEfZUyMPDt7oAaadcHVyNJuNpZ97lMWenFzfX4+nt/Pzs0qt9O8guL60M5MqVdcByXikro+qP3WY2n86i3tI6T2eLy6XUpE21n56nVoyG"+"dXgVfSRBZEKBDjyh9U/mC3qyqb+odc9Yca1N2dxU41eE6vHxycHBfQsG2NvbzyxesS0KNQeaRF8a9sw5uS/Y3N4pRXo0Rj6xGTfHVryBiVMPcMarAMuo"+"OY5FWS0llbtiMSNkW9byqgFJfGSCFfXx4FIoczg5Jqkr932BSL+RVjNJdTS6gQsKh+MlKCWDm4lTzrViCKdSZbaDMJd1OIMf30InldEO3WOLv2YW8jRt"+"aHDecCqUQiyVO4nDOil0OLxMb5jrgzQCdlSLSJKLzORGrOzulnqnXIpoqSQ1O1k6AyZWkomUV0TN68Vnos/km0Gv317XpM90GAfpytsridxX5f4ubEGN"+"AwrAXDoi/uesLCPcMihEDcile0sHkUELuyloppi7LJ9WKePNdF6SW6arTrf406DkQJP3VdvcZcKOgnGTJMdwP/74YyZSj0+5+0T47dtDBxk9kzS1JUTi"+"FbkjyVVoBs9cujb5kMl4oddPzS4XxqMymWzUJISPdAq1ey43wTjwmxrgq4UODL1PPvnEjOqTGoU5STUTXvQRH8plBFunKqT3T1+p+OKslOq03iUm9TPd"+"JkW63Bw3/bRiabERhg5eqDIyAMutOnSJRDqTEdDIUMQi9eattMuiIXnY6OwTi8OQ2E8wporHiIWBOFCa19FkGscn4snZealotRQeHR0nmzuwsXF3j5CJ"+"I21tRsvkl9y+JiDqpdwgV9F+vcZhYrh64Vsa1JP65C8PkFs07X1raXpmnQyMHvosvrW6VhvtYfZxJtryZ4t0FjREVbp7JMnGx4mEaloJi9WKIRbI8BMj"+"5mYv8Z7x1XH4jddlHKLnjMuljC8NotLCUB15M8DkLx+5iEcuXWu8Ktd/jMKZeBJuLFiWjXJVAUMuJukgVSGoSIXdTGwJ/4zHmGbKJoQzrOUiJPNqksL4"+"dhqfTQfStpExBBETdwk0LmX2h+3Jkyc+SRZYTINJqVXT3fy1Ijf+CercMGRszvhEmCZ/QkqzMJrc3fqVjNItHfDtlYo7i4j/3AnMm3+e+Cy84MUaKblI"+"mqd4EuSfffY4I2QG+XLnXof4XLGmWIGMuXLXX+phmxjbP/vguui2BNxCe5vgU+bmmslLJLJURtnctj1//jwDUjhOg6WebG1tp4NFOH9qwCJFpFNK+c9s"+"nMtsCiszPSfNMFSMtbKWgui8U5vbW8uL/c5s2uuadJHaWh4svTk8TBJpVZgbB1ymM0uLNpvfximvrkwfZ21vnUsHFOMJKXfRWbwwwwhPGmjN6sizhNq8"+"GnF6NzmOy6Bc2v75ZHTTX9EzLupiD/bvF81N5xen5/PK48MHDwCWQa3bWRksdWZrGuWLs5PXw+GkDBbz+mez5fpXhXJDmbSn55HV7u5Cml79m826yBA6"+"/wdxdmwbb8sifgAAAABJRU5ErkJggg==";var bvt=Ci(function(){let i=class t extends Mvt{cde_(){if(this.yIt_)return this.yIt_;this.OBe_=new mA(-10,0,10,10);this.yIt_=new dp(this.OBe_);this.addResource(this.yIt_);this.$Ce_=new hl("gray",1);this.FBe_=new wr({pattern:Nl.Ai_().$w_("cement")});this.yIt_.rB_(this.$Ce_);this.yIt_.iQ_(this.FBe_);return this.yIt_}SCe_(t,i){if(t===void 0)return this;if(t!==null){t["linestyle"]!==void 0&&this.yIt_.rB_(t["linestyle"]);t["fillstyle"]!==void 0&&this.yIt_.iQ_(t["fillstyle"])}else{this.yIt_.rB_(this.$Ce_);this.yIt_.iQ_(this.FBe_)}super.SCe_(t,i);return this}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeCement")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJzZXRSZW5kZXJpbmdIaW50cyI6IlNDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");Nl.Ai_().Iv_(vvt,{name:"cement"});var Nvt=Ci(function(){let i=class t extends Mvt{cde_(){if(this.yIt_)return this.yIt_;this.OBe_=new mA(-1,0,1,2);this.yIt_=new dp(this.OBe_);this.addResource(this.yIt_);const t=new hl("gray",1),i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJ"+"cEhZcwAADsMAAA7DAcdvqGQAAArfSURBVEhLFZZZk+KIlYX5IfPsCL9NxITtcIRnosNld0WN3au71s6q3BfIHRJIdoQQEiC0L0hCSEgIhFjEvuUCZFVm"+"1tbV1e1u2+Env8z8jsn5AzdO3Hvud44juP1FHjksZ/e11Kqe3WxJ8YYCf7/Qb4Zit5QblNFRKdmgTxoK+GYk/Ximzky0K4Ya4mmD8PSpozFz3MEPm8Lh"+"eS031jMm4zcyewMdGep0o0BNLM5RiC6JqYNKHmgVg2dmplOCBNSnFXGdR2TUW8K8o2pGzuwTaXeBTltFemLxoyrbLyfn1fS7PvNuSN+0siMNaNEBMeqi"+"4psSuAMfPfWvfHb0/Es2G3Qsanhfhwlgi0rtikSswkXTh5+7nvwu63pYQA50wjOtYQa27179o+vhH4LOx2zCLVLIwJbfX7V7TY6mY1YxZeL+Ph855zwW"+"sqVHnice/fvBp/929N+/iB8tOTqlFJs86BQTYyGY3b1Peb+pZNcqnOdvY+znEdnnA1R4u5Y+Tu/co7Y/EQJPuMRWav/pwcaX288/O11/EHz2q+Dmn6d1"+"bFZF2lyghh4NiUMTWJsV3LfKwTD3rUOCj2QaUBW81ZDmffnHM+WvfZ6PrA6aQrOK1SVAiK2qyN0NgIkJT7X4VPU30zux579x/emXsPN+JbdBex/gUMjS"+"6XmDvbJy77vkVIh3VLRfwodK1tHMhy0+zABOIbmrU8mXvfIrO29ibibwnE46TcI3zIdLmV08spoBXUYhfTMzbD5uptfM7MpY9c3buZeav5RYSruXGcjT"+"YFNnSnZRyfGBb9Mn6yJ04hiU8Y6OaUSoK4RL2WODTfW1rCFEu3lvJesaG+hASTWkgJpaA/a/hEI7EpeWschZg5i1qVmPsVVk0WH6krsQfJJ1P2Zizr6Q"+"6BcALbGCuR7wgVWHTgMU4MFA/7hfmplpg/BXyTAOHLR0picleWDPlJA7t7ULETG+oibWqNNNBjqS2EQu6caB/Upub6zCppAYVFJT8cRM7/TFmIY4NWS3"+"gW4NaLejw0VblLcUX9NItJJPksCOnvNY4KOxFlpUIxPWvTDwl31lXIM+dKlZCVQQZzHpjK7ew46+bOZjP7xuv+rRF3W6ykRN6rRNHE7FYC29VSf9IwXs"+"8DGHIaOLnn7TF8qp7Zz/BZ903umdGLlWjW9W87bOnbXVq2mpXkb7Fe5mXHs7kD/2CnMtNblbnQyi4AlLpi2NvWjzrUL8TuK4KRi8v1VMLprEqOh31PPJ"+"q3axq6CXbXakZQYKXKZCOhGBfZt44gSLeDkifm7LDOCS0v4SBWp0rJbHuwbTEDMVPJhxP0r7HpU56KzOzquQDG+Bp5sKtlvEPVUJrMohx7xOL3rKqxql"+"sfCsV3zVkTpipJQ74SKbjG+ZOV1Do9sKAwrQrpLx3/28kNqlottyLqpkAlru1GL9I9XX17B357WPY7mNbuK+Zxax12CPWGAbAzYcl42CRiRnI62Cnp41"+"+dlYm/X5SZPpN4SLZv7CzCmpF/Hdr8vkIRnZuoOHxkbwyIoAbF9W8AudHFWocVu2VbKu8ANLnBpIjXZflUMN3K0n9+TYpuNNPdcg/SR4XM0jZTnHk9Cd"+"CwH3E9fzT+58SYRXRiowKMa/G4vn5czQwDoaPO/mW3xIQU8FyEMFVmObS2RoHfFsY4G9PLTPZUO9Kt7T0KGO0pENhyQSlTI5KsJyLoz715nQSiG9x8a3"+"9IzrwgCmZuZ2VOJTh61KvsIAPHgg3s1F/IaYGBlIhXS38v4yfdKVQkp8pQjuDKWYFX1agg7yoe3k4eN8dMXh335IZk5vJ1ZdgLSMp0qHW0rSzievLdZW"+"IJ08JUKbdGBNzgVMzGtmPRYZaOHBYjZil4jbHntjY9MaOrf4uZG2uYhGgjYbLYJHtYzHpgN9IeZI73+jZL1DW7OLSE+Ge2q2KsJ1EapyMAfs5MNrtG/J"+"IE47MnLdpG4bxKVFX1u0zcZrxdztZf39VPt+br0eqB/GxliK4wfLyPEGEzuwZXispLpyxtEk3AYRkNDwrFd7MzRfdcW6EOwIUSPrGZQSVwZ8bcC2BN9M"+"rZ/fjX66shZ99X//eXPbQPnUfjx0qJX4Yac8qXE9jRmVsNe8rwGsl+E9EY2UC3iriDjU7HEecjFxZzawr+S5Ud/6sKi/NvMf2tx3E+PlsDLvlscVUaKw"+"Ykl5eT394d3Zxfz8dqqr4LL30a83vvjPo52nChzEj1alxOk/boezBj3K+8i9T1O7f1IzR44q49dwfzUf6/IglTjWxYwqE7fz4dvr4evL1qKebwtwhQAU"+"6JgCDgZN7cwuwYFjiU4K0A7j/jPl+q/kxid3kluZzRKwxic9ddRXzgUbQvi8Gp/VMg7a/6wA+aYt9X2v2ObDMhaWMKBayAnpQJHM9DTxw7R909XmFbbC"+"RAtYxGQhZPcvRGCrTMftQmJhwA3sYFhOj0uJUTHOBLZ6MiQElsu5QF3DbR11NGkvF91uq4UPE/tlVzboqJQ+URCvEFnB3KsKgV4OR4tx4+O835CAfGqP"+"T3oVxNVmg1U8VhPhjpqzqWCZBPoVyqTDOrRfF8EW5i5G19On62Ta5xibpK1BMo4IWJaDEwIWOW/xeuq4ygWk+Asy6FQE0jSLpqnXFIQDdzTIP61z//pu"+"+N6m6rkTMXFsc3E+ukJGlujouppyUgnnUIOU2PP4+r1IyOl4e8eGCilkw6970k013ZOiLYP+6WXLEsNdAzTJA9j9dKqlTSqgEbG6lL2wpHElXyiIswv7"+"ooZz4WcF7HBqFyYtXME26dOv0dCygJ+WkF32+DPQ/Y3jw6ve3297nUK8a5U+vrn86aY/tKRpuzous69a0sTAq/lUpYQ3JHRkihNLuhqb5ybz/1xiUlUl"+"WxdiNSVJxvdjnmVNAPX0dmrjd9D2PTm2PdNStgI4FuPWfNi8akpY9BCJePJouKHnz8ZNWxOqRaLGggVoXyJiE40ZWFLHlA2ZGVrFaTln0mBFJZiUO7T7"+"iM2c8vAufLJUIbxW4tsB5x3K8b6GVgXAYXA5lYBrEuVZuR/b+YINbgqZsCDkOOAw5V7Co04Ndppc+vX4LushPHJCQqGeTrVl2mAgNLgFHj2EnZ8raOiu"+"+yDHjytU5LqC3EyKb9pMgwurlM+RPFwJbHydjB8RwVUdD7T5mI64uPRxtxK2iXU19KiMnDRL6KRVeNnDdeCFGFq5UIC7cObDmyXcPVAjixJUApzZw4fQ"+"4bcVPvfPt+2/vu3+7aZ+3ciK0IFDTz6rJx+p8ZUWEembYr1EZxGvUaTu6HRZ42bVzKs6SoGrAuhGgeOmDP04V//n75MfLvRhEWqr2YsWP6vTNuNr4/tl"+"cNNion01TUARFIGKfKqjJBw/X6i3PbKnpizUI2f9WHTHv/zHbMxjV/kfF1avCOQiW3lwVY4u6fGlrhi1Szm7nn89a328qH03LL4bsmdawhYiEz3TYX2Z"+"kxew+8Xew/ue5c+Ik5UG6XGUqJiKewukb1zBLdpXQJwm6uKiTgI8xlOhQno/sXMfC6/p5FGD8rGgM+5+Dp5uDTrm+8Xo+6v2T9f1qzraZAM2H2nwwdTO"+"A9/j33oe/ya4/kCMOWuZY4d3+fdFcI2OLVslolWAR1p2UcPabDix97Xrq9+iB39hA1+hviU15eJDq4Hl3+989R/hrc+FbKplFGQKlKnEmUmO+OBIiNSy"+"+0rsCbN1D937lA4+0eHdZmbv/wD6Vd5wMlIYsQAAAABJRU5ErkJggg==",s=new wr({pattern:Nl.Ai_().createPattern(i)});this.yIt_.rB_(t);this.yIt_.iQ_(s);return this.yIt_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeCement2")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Svt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)"),s=new dp(-100,0,100,100),e=new hl("rgb(46,70,112)",1);s.rB_(e);s.iQ_(i);t.GY_(s);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTubing")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");const Gvt=new lA,Rvt=new lA;var kvt=Ci(function(){let i=class t extends Mvt{constructor(t,i){super(t);t=Pi(t,{fillstyle:t,size:i||6},!0);this.hwe_=t["size"];this.FBe_=t["fillstyle"]||new wr("blue");this.rwe_=0;this.owe_=0;this._dH=this.hwe_;this.lwe_=this.rwe_;this.uwe_=this.owe_;this.awe_=!1;this.gwe_=(new oE).iQ_(this.FBe_)}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["size"]!==void 0&&(this.hwe_=this._dH=t["size"]);if(t["fillstyle"]!==void 0){this.FBe_=t["fillstyle"];this.gwe_.iQ_(this.FBe_)}return this}N_(){const t=super.N_();t["size"]=this.hwe_;t["fillstyle"]=this.FBe_;return t}dCe_(){return this.OBe_}cde_(){if(this.cwe_)return this.cwe_;this.OBe_=new mA(0,0,1,1);this.cwe_=new dp;this.cwe_.ce_(new mA(this.OBe_));this.cwe_.iQ_(wr.EQ_);return this.cwe_}bCe_(t){super.bCe_(t);this.Iwe_=this.dy_+this.T2_;this.fwe_=this.wy_+this.T2_;this.Cwe_=-this.dy_+this.T2_;return this}dwe_(){return this._dH}Bwe_(t){this._dH=t}wwe_(){return this.gwe_.ct_().getColor()}Qwe_(t){this.gwe_.ct_().setColor(t)}Ewe_(t,i,s,e){this.awe_?this.gwe_.Qt_([this.Iwe_,this.Iwe_+e,this.Iwe_+e,this.Iwe_],[i,i+s/4,i+s*3/4,i+s]):this.gwe_.Qt_([this.Iwe_,this.Iwe_+e,this.Iwe_],[i,i+s/2,i+s]);this.gwe_.render(t);this.awe_?this.gwe_.Qt_([this.Cwe_,this.Cwe_-e,this.Cwe_-e,this.Cwe_],[i,i+s/4,i+s*3/4,i+s]):this.gwe_.Qt_([this.Cwe_,this.Cwe_-e,this.Cwe_],[i,i+s/2,i+s]);this.gwe_.render(t)}bB_(t,i){super.bB_(t,i);t(this.gwe_,i)}render(t){this.uWs_(t);if(t.tk_()){super.render(t);return}t=t.uS_(this.sd_());const i=Math.abs(this.qbs_-this.Jbs_),s=t.JR_(Gvt.vs_(0,this.qbs_),Rvt.vs_(0,this.Jbs_)),e=this._dH*i/s;if(!isFinite(e))return;let A=this.fwe_-this.Iwe_;const n=t.JR_(Gvt.vs_(this.Iwe_,this.qbs_),Rvt.vs_(this.fwe_,this.qbs_));n<this.uwe_&&(A*=this.uwe_/n);if(s<this._dH){if(s<this.lwe_)return;this.Ewe_(t,(this.qbs_+this.Jbs_)/2,i,A)}else{const n=Math.floor(s/this._dH),h=(i-e*n)/2;for(let i=this.qbs_+h,s=0;s<n;i+=e,++s)this.Ewe_(t,i,e,A)}}ad_(t,i){this.render(t);i()}SCe_(t,i){if(t===void 0)return this;if(t!==null){t["height"]!==void 0&&this.Bwe_(t["height"]);t["fillstyle"]!==void 0&&this.gwe_.iQ_(t["fillstyle"]);t["thresholdheight"]!==void 0&&(this.lwe_=t["thresholdheight"]);t["minimalwidth"]!==void 0&&(this.uwe_=t["minimalwidth"]);t["cutoff"]!==void 0&&(this.awe_=t["cutoff"])}else{this.Bwe_(this.hwe_);this.gwe_.iQ_(this.FBe_);this.lwe_=this.rwe_;this.uwe_=this.owe_;this.awe_=!1}super.SCe_(t,i);return this}};i=t([_s("geotoolkit.schematics.scene.impl.NodePerforation")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwicmVuZGVyQXN5bmMiOiJhZF8iLCJlbnVtZXJhdGVOb2RlcyI6ImJCXyIsImdldFRlbXBsYXRlQm91bmRzIjoiZENlXyIsInNldEdlb21ldHJ5RGF0YSI6ImJDZV8iLCJzZXRSZW5kZXJpbmdIaW50cyI6IlNDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Fvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,500);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(247, 198, 0)","rgb(251, 253, 114)"),s=FMt.VCe_("rgb(0, 0, 0)","rgb(100, 100, 100)"),e=new dp(-70,0,70,50);e.rB_(null);e.iQ_(i);t.GY_(e);const A=new oE;A.Qt_([-60,60,60,100,100,-100,-100,-60],[50,50,100,150,200,200,150,100]);A.rB_(null);A.iQ_(i);t.GY_(A);const n=new oE;n.Qt_([-100,100,100,60,60,-60,-60,-100],[300,300,350,400,450,450,400,350]);n.rB_(null);n.iQ_(i);t.GY_(n);const h=new dp(-100,150,100,350);h.rB_(null);h.iQ_(s);t.GY_(h);const r=new dp(-70,450,70,500);r.rB_(null);r.iQ_(i);t.GY_(r);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodePacker")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var xvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(50, 50, 50)","rgb(240, 240, 240)"),s=FMt.VCe_("rgb(170, 102, 143)","white"),e=new oE;e.Qt_([-90,90,100,-100],[0,0,10,10]);e.rB_(null);e.iQ_(i);t.GY_(e);const A=new dp(-100,10,100,190);A.rB_(null);A.iQ_(i);t.GY_(A);const n=new oE;n.Qt_([-90,90,100,-100],[200,200,190,190]);n.rB_(null);n.iQ_(i);t.GY_(n);const h=new oE;h.Qt_([-100,100,40,-40],[10,10,25,25]);h.rB_(null);h.iQ_(s);t.GY_(h);const r=new dp(-40,25,40,175);r.rB_(null);r.iQ_(s);t.GY_(r);const o=new oE;o.Qt_([-100,100,40,-40],[190,190,175,175]);o.rB_(null);o.iQ_(s);t.GY_(o);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeNipple")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Lvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-105,-5,105,605);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(201, 4, 4)","rgb(247, 100, 100)"),s=new wr("black"),e=new dp(-105,-5,105,605);e.rB_(null);e.iQ_(s);t.GY_(e);const A=new dp(-100,0,100,600);A.rB_(null);A.iQ_(i);t.GY_(A);const n=new nE({centerx:0,centery:300,radiusx:25,radiusy:25});n.rB_(null);n.iQ_(s);t.GY_(n);const h=new oE;h.Qt_([-105,-105,-100,105,105,100],[0,-5,-5,600,605,605]);h.rB_(null);h.iQ_(s);t.GY_(h);const r=new oE;r.Qt_([-100,-105,-105,100,105,105],[605,605,600,-5,-5,0]);r.rB_(null);r.iQ_(s);t.GY_(r);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeValve")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Uvt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("black",1),fillstyle:FMt.VCe_("black","rgb(200, 200, 200)")}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTailPipe")],i);return i}();var Yvt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("black",2),fillstyle:FMt.VCe_("rgb(70, 177, 192)","white")}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeOnOffTool")],i);return i}();var Tvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(153, 132, 69)","rgb(250, 227, 160)"),s=new dp(-100,5,100,95),e=new hl("black",1);s.rB_(e);s.iQ_(i);t.GY_(s);const A=new oE;A.Qt_([-80,80,100,-100],[0,0,5,5]);A.rB_(e);A.iQ_(i);t.GY_(A);const n=new oE;n.rB_(e);n.iQ_(i);n.Qt_([-80,80,100,-100],[100,100,95,95]);t.GY_(n);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeFlowCoupling")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Kvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(201, 4, 4)","rgb(247, 100, 100)"),s=new dp(-100,0,100,100);s.rB_(new hl("black",1));s.iQ_(i);t.GY_(s);const e=new nE({centerx:0,centery:50,radiusx:60,radiusy:15});e.rB_(new hl("black",2));e.iQ_(new wr("white"));t.GY_(e);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeSubsurfaceSafetyValve")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Hvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)"),s=FMt.VCe_("rgb(214,83,65)","white"),e=new hl("rgb(46,70,112)",1),A=new oE;A.Qt_([-80,80,100,-100],[0,0,5,5]);A.rB_(e);A.iQ_(i);t.GY_(A);const n=new oE;n.rB_(e);n.iQ_(i);n.Qt_([-100,100,80,80,100,100,80,80,100,-100],[5,5,15,20,30,70,80,85,95,95]);t.GY_(n);const h=new oE;h.rB_(e);h.iQ_(i);h.Qt_([-80,80,100,-100],[100,100,95,95]);t.GY_(h);const r=new hl("black"),o=new dp(0,30,100,70);o.rB_(r);o.iQ_(s);t.GY_(o);const l=new Rd({from:{x:0,y:30},to:{x:100,y:70}});l.rB_(r);t.GY_(l);const u=new Rd({from:{x:0,y:70},to:{x:100,y:30}});u.rB_(r);t.GY_(u);const a=new nE({centerx:50,centery:50,radiusx:20,radiusy:5});a.rB_(new hl("black",2));a.iQ_(new wr("white"));t.GY_(a);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeGasLiftMandrel")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var qvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,500);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("black","rgb(200, 200, 200)"),s=FMt.VCe_("rgb(232, 123, 20)","rgb(251, 229, 105)"),e=new dp(this.OBe_),A=new hl("black",1);e.rB_(A);e.iQ_(i);t.GY_(e);const n=new oE;n.Qt_([-20,20,20,100,-100,-20],[0,0,300,500,500,300]);n.rB_(A);n.iQ_(s);t.GY_(n);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeWirelineGuide")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Jvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,500);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(247, 198, 0)","rgb(251, 253, 114)"),s=new hl("black",1);let e=new oE;e.Qt_([-100,100,60,-60],[0,0,50,50]);e.rB_(s);e.iQ_(i);t.GY_(e);let A=new dp(-60,50,60,150);A.rB_(s);A.iQ_(i);t.GY_(A);e=new oE;e.Qt_([-60,60,100,-100],[150,150,200,200]);e.rB_(s);e.iQ_(i);t.GY_(e);A=new dp(-100,200,100,300);A.rB_(s);A.iQ_(i);t.GY_(A);e=new oE;e.Qt_([-100,100,60,-60],[300,300,350,350]);e.rB_(s);e.iQ_(i);t.GY_(e);A=new dp(-60,350,60,450);A.rB_(s);A.iQ_(i);t.GY_(A);e=new oE;e.Qt_([-60,60,100,-100],[450,450,500,500]);e.rB_(s);e.iQ_(i);t.GY_(e);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeSealAssembly")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Pvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,600);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(201, 4, 4)","rgb(247, 100, 100)");let s=new dp(this.OBe_);s.rB_(new hl("black",1));s.iQ_(i);t.GY_(s);const e=new wr("black");s=new dp(-50,150,-25,450);s.iQ_(e);t.GY_(s);s=new dp(25,150,50,450);s.iQ_(e);t.GY_(s);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeSlidingSleeve")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");const Vvt=100,Ovt=80,Wvt=[0,30,60,100,100,60,30,0];var zvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.kki_)return this.kki_;this.OBe_=new mA(-Vvt,0,Vvt,100);const t=new oE;t.Qt_([Vvt,Vvt,Ovt,Ovt,-Ovt,-Ovt,-Vvt,-Vvt],Wvt);const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)");t.rB_(new hl("rgb(46,70,112)",1));t.iQ_(i);this.kki_=t;return this.kki_}bCe_(t){if(!this.vCe_(t))throw new Error("Geometry data is not valid");super.bCe_(t);const i=Array.isArray(t)?t[0]:t,s=i["depth"]["from"],e=i["depth"]["to"],A=i["offset"]!=null?i["offset"]:0,n=i["diameter"]["outer"],h=n*Ovt/Vvt,r=new mA(-n/2+A,s,n/2+A,e);this.MCe_(r);const o=Vvt*h/n,l=this.kki_._C_();this.kki_.rd_(!1);this.kki_.Qt_([Vvt,Vvt,o,o,-o,-o,-Vvt,-Vvt],Wvt);this.kki_.rd_(l);return this}vCe_(t){return OMt.dde_(t)}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeCrossover")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJ2YWxpZEdlb21ldHJ5RGF0YSI6InZDZV8iLCJzZXRHZW9tZXRyeURhdGEiOiJiQ2VfIiwiZ2V0VGVtcGxhdGVOb2RlIjoiY2RlXyJ9fX0g");var Xvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,600);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(73, 114, 179)","rgb(222, 226, 239)"),s=new dp(this.OBe_);s.rB_(new hl("black",1));s.iQ_(i);t.GY_(s);const e=new nE({centerx:0,centery:230,radiusx:50,radiusy:50});e.rB_(null);e.iQ_(new wr("black"));t.GY_(e);const A=new ap({x:[-100,30,-30,100],y:[350,350,430,430]});A.rB_(new hl("black",7));t.GY_(A);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeShearTool")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var jvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,300);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new dp(this.OBe_),s=new hl("black",6);i.rB_(s);i.iQ_(new wr("rgb(236, 197, 0)"));t.GY_(i);const e=new hl("black",5);let A=new oE;A.Qt_([-50,100,50,-100],[0,150,200,50]);A.rB_(e);t.GY_(A);A=new oE;A.Qt_([50,100,-50,-100],[0,50,200,150]);A.rB_(e);t.GY_(A);A=new oE;A.Qt_([-100,50,100,-50],[250,100,150,300]);A.rB_(e);t.GY_(A);A=new oE;A.Qt_([-100,-50,100,50],[150,100,250,300]);A.rB_(e);t.GY_(A);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeGravelPackScreen")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Zvt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,1e3);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(46,70,112)","white"),s=FMt.VCe_("rgb(92,111,144)","white");let e=new dp(-100,0,100,100);e.iQ_(i);t.GY_(e);let A=new oE;A.Qt_([-100,100,80,-80],[100,100,200,200]);A.iQ_(i);t.GY_(A);e=new dp(-80,200,80,800);e.iQ_(s);t.GY_(e);A=new oE;A.Qt_([-80,80,100,-100],[800,800,900,900]);A.iQ_(i);t.GY_(A);e=new dp(-100,900,100,1e3);e.iQ_(i);t.GY_(e);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeDrillPipe")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var _vt=Ci(function(){let i=class t extends OMt{cde_(){if(this.kki_)return this.kki_;this.OBe_=new mA(-100,0,100,1e3);const t=new hl("rgb(46,70,112)",1),i=FMt.VCe_("rgb(46,70,112)","white"),s=new oE;s.Qt_([-100,-100,-80,-80,-100,-100,-80,-80,-100,-100,100,100,80,80,100,100,80,80,100,100],[0,100,200,350,450,550,650,800,900,1e3,1e3,900,800,650,550,450,350,200,100,0]);s.rB_(t);s.iQ_(i);this.kki_=s;return this.kki_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeHeavyWeightDrillPipe")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var $vt=Ci(function(){let i=class t extends OMt{cde_(){if(this.kki_)return this.kki_;this.OBe_=new mA(-100,0,100,400);const t=new hl("rgb(46,70,112)",1),i=FMt.VCe_("rgb(46,70,112)","white"),s=new oE;s.Qt_([-100,-100,-60,-60,-100,-100,100,100,60,60,100,100],[0,280,280,350,350,400,400,350,350,280,280,0]);s.rB_(t);s.iQ_(i);this.kki_=s;return this.kki_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeJar")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var tbt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("rgb(46,70,112)",1),fillstyle:FMt.VCe_("rgb(46,70,112)","white")}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeDrillCollar")],i);return i}();var ibt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,10,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new hl("rgb(46,70,112)",1),s=FMt.VCe_("rgb(46,70,112)","white"),e=FMt.VCe_("rgb(46,70,112)","white",.025,.225),A=FMt.VCe_("rgb(46,70,112)","rgb(71, 98, 143)",.025,.225),n=new dp(this.OBe_);n.rB_(i);n.iQ_(s);t.GY_(n);let h=new oE({x:[-100,100,100,-100],y:[15,30,35,20]});h.rB_(null);h.iQ_(e);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[15,30,31,16]});h.rB_(null);h.iQ_(A);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[20,35,36,21]});h.rB_(null);h.iQ_(A);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[30,45,50,35]});h.rB_(null);h.iQ_(e);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[30,45,46,31]});h.rB_(null);h.iQ_(A);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[35,50,51,36]});h.rB_(null);h.iQ_(A);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[45,60,65,50]});h.rB_(null);h.iQ_(e);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[45,60,61,46]});h.rB_(null);h.iQ_(A);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[50,65,66,51]});h.rB_(null);h.iQ_(A);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[60,75,80,65]});h.rB_(null);h.iQ_(e);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[60,75,76,61]});h.rB_(null);h.iQ_(A);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[65,80,81,66]});h.rB_(null);h.iQ_(A);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[75,90,95,80]});h.rB_(null);h.iQ_(e);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[75,90,91,76]});h.rB_(null);h.iQ_(A);t.GY_(h);h=new oE({x:[-100,100,100,-100],y:[80,95,96,81]});h.rB_(null);h.iQ_(A);t.GY_(h);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeSpiralDrillCollar")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var sbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,600);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(100, 100, 58)","rgb(250, 250, 0)"),s=FMt.VCe_("rgb(46, 70, 112)","white");let e=new oE({x:[-80,-80,-100,-100,-80,-80,80,80,100,100,80,80],y:[0,100,150,450,500,600,600,500,450,150,100,0]});e.rB_(null);e.iQ_(s);t.GY_(e);const A=new mA(-100,150,100,450),n=new dp(A);n.rB_(null);n.iQ_(i);t.GY_(n);const h=new Fo({unittype:Er.DQ_,startpoint:new lA(.4275,.235),endpoint:new lA(.5,.5),startcolor:"rgb(46, 70, 112)",endcolor:"rgb(46, 70, 112)"}).LQ_(.5,"white");e=new lE("LeftTop",1/3,new mA(-100,150,50,380));e.rB_(null);e.iQ_(h);t.GY_(e);const r=new Fo({unittype:Er.DQ_,startpoint:new lA(.5,.5),endpoint:new lA(.5725,.765),startcolor:"rgb(46, 70, 112)",endcolor:"rgb(46, 70, 112)"}).LQ_(.5,"white");e=new lE("RightBottom",1/3,new mA(-50,220,100,450));e.rB_(null);e.iQ_(r);t.GY_(e);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeStabilizer")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var ebt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(4, 127, 140)","rgb(120, 237, 250)"),s=new dp(-100,60,100,140),e=new hl("black",1);s.rB_(e);s.iQ_(i);t.GY_(s);const A=[-88,0,88,0,100,60,-100,60],n=new oE({x:kMt.kCe_(A),y:kMt.FCe_(A)});n.rB_(e);n.iQ_(i);t.GY_(n);const h=[-100,140,100,140,88,200,-88,200],r=new oE({x:kMt.kCe_(h),y:kMt.FCe_(h)});r.rB_(e);r.iQ_(i);t.GY_(r);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeProfileNipple")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Abt=Ci(function(){let i=class t extends OMt{cde_(){if(this.kki_)return this.kki_;this.OBe_=new mA(-100,0,100,360);const t=FMt.VCe_("rgb(29, 97, 139)","white"),i=[-70,360,70,360,70,240,100,120,100,0,-100,0,-100,120,-70,240,-70,360],s=new oE({x:kMt.kCe_(i),y:kMt.FCe_(i)}),e=new hl("black",1);s.rB_(e);s.iQ_(t);this.kki_=s;return this.kki_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeCrossoverReducing")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var nbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new hl("black",1),s=FMt.VCe_("rgb(201, 4, 4)","rgb(247, 100, 100)",.125,.475),e=FMt.VCe_("rgb(201, 4, 4)","rgb(220, 80, 80)",.125,.475);let A=[-90,0,90,0,100,5,-100,5];const n=new oE({x:kMt.kCe_(A),y:kMt.FCe_(A)});n.rB_(i);n.iQ_(e);t.GY_(n);const h=new dp(-100,5,100,65);h.rB_(i);h.iQ_(s);t.GY_(h);A=[-100,65,100,65,90,73,-90,73];const r=new oE({x:kMt.kCe_(A),y:kMt.FCe_(A)});r.rB_(i);r.iQ_(e);t.GY_(r);const o=new dp(-90,73,90,127);o.rB_(i);o.iQ_(s);t.GY_(o);A=[-90,127,90,127,98,135,-98,135];const l=new oE({x:kMt.kCe_(A),y:kMt.FCe_(A)});l.rB_(i);l.iQ_(e);t.GY_(l);const u=new dp(-100,135,100,195);u.rB_(i);u.iQ_(s);t.GY_(u);A=[-100,195,100,195,90,200,-90,200];const a=new oE({x:kMt.kCe_(A),y:kMt.FCe_(A)});a.rB_(i);a.iQ_(e);t.GY_(a);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodePupJoint")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var hbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new dp(-100,0,100,100);i.rB_("black");i.iQ_(new wr("gray"));t.GY_(i);const s=new hl("black",1),e=new wr("yellow"),A=new oE({x:[-100,100,0],y:[0,0,50]});A.rB_(s);A.iQ_(e);t.GY_(A);const n=new oE({x:[-100,100,0],y:[100,100,50]});n.rB_(s);n.iQ_(e);t.GY_(n);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodePlug")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var rbt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("black",1),fillstyle:FMt.VCe_("rgb(150, 150, 150)","white",.025,.475)}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodePolishedRod")],i);return i}();var obt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("black",1),fillstyle:FMt.VCe_("rgb(112, 7, 3)","rgb(247, 145, 136)",.025,.475)}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodePonyRod")],i);return i}();var lbt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("black",1),fillstyle:FMt.VCe_("rgb(0, 58, 0)","rgb(87, 154, 91)",.025,.425)}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeSuckerRod")],i);return i}();var ubt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("black",2),fillstyle:FMt.VCe_("rgb(80, 80, 80)","rgb(150, 150, 150)",.025,.475)}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeSinkerBar")],i);return i}();var abt=Ci(function(){let i=class t extends OMt{cde_(){this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(73, 114, 179)","rgb(222, 226, 239)"),s=new dp(-100,5,100,95),e=new hl("black",1);s.rB_(e);s.iQ_(i);t.GY_(s);const A=new oE;A.Qt_([-80,80,100,-100],[0,0,5,5]);A.rB_(e);A.iQ_(i);t.GY_(A);const n=new oE;n.rB_(e);n.iQ_(i);n.Qt_([-80,80,100,-100],[100,100,95,95]);t.GY_(n);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTubingAnchor")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var gbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,400);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new hl("black",1),s=FMt.VCe_("rgb(30, 30, 30)","rgb(250, 250, 250)"),e=FMt.VCe_("rgb(127, 196, 36)","rgb(235, 245, 220)"),A=new dp(-100,20,100,380);A.rB_(i);A.iQ_(s);t.GY_(A);let n=[-80,0,80,0,100,20,-100,20];const h=new oE({x:kMt.kCe_(n),y:kMt.FCe_(n)});h.rB_(i);h.iQ_(s);t.GY_(h);n=[-100,380,100,380,80,400,-80,400];const r=new oE({x:kMt.kCe_(n),y:kMt.FCe_(n)});r.rB_(i);r.iQ_(s);t.GY_(r);n=[-100,20,-100,40,-50,70,-50,330,-100,360,-100,380,100,380,100,360,50,330,50,70,100,40,100,20];const o=new oE({x:kMt.kCe_(n),y:kMt.FCe_(n)});o.rB_(i);o.iQ_(e);t.GY_(o);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeSeatingNipple")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var cbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,400);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new hl("black",2),s=new hl("black",3),e=FMt.VCe_("rgb(23, 172, 65)","rgb(236, 197, 0)"),A=new wr("rgb(215, 54, 41)");let n=new dp(-100,0,100,600);n.rB_(i);n.iQ_(e);t.GY_(n);n=new dp(-100,100,100,300);n.rB_(i);n.iQ_(new wr("rgb(170, 170, 170)"));t.GY_(n);n=new dp(-75,130,-75+16,130+60);n.rB_(s);n.iQ_(A);t.GY_(n);n=new dp(-35,130,-35+16,130+60);n.rB_(s);n.iQ_(A);t.GY_(n);n=new dp(19,130,19+16,130+60);n.rB_(s);n.iQ_(A);t.GY_(n);n=new dp(59,130,59+16,130+60);n.rB_(s);n.iQ_(A);t.GY_(n);n=new dp(-75,210,-75+16,210+60);n.rB_(s);n.iQ_(A);t.GY_(n);n=new dp(-35,210,-35+16,210+60);n.rB_(s);n.iQ_(A);t.GY_(n);n=new dp(19,210,19+16,210+60);n.rB_(s);n.iQ_(A);t.GY_(n);n=new dp(59,210,59+16,210+60);n.rB_(s);n.iQ_(A);t.GY_(n);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeGasAnchor")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Ibt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new hl("black",1),s=new wr("black"),e=FMt.VCe_("gray","white");let A=new dp(-80,0,-80+160,0+40);A.rB_(i);A.iQ_(e);t.GY_(A);A=new dp(-80,60,-80+160,60+40);A.rB_(i);A.iQ_(e);t.GY_(A);A=new dp(-100,40,-100+200,40+10);A.rB_(i);A.iQ_(e);t.GY_(A);A=new dp(-30,50,-30+60,50+10);A.rB_(i);A.iQ_(e);t.GY_(A);A=new dp(-100,10,-100+200,10+5);A.rB_(i);A.iQ_(s);t.GY_(A);A=new dp(-90,40,-90+180,40+5);A.rB_(i);A.iQ_(s);t.GY_(A);A=new dp(-90,70,-90+180,70+5);A.rB_(i);A.iQ_(s);t.GY_(A);A=new dp(-90,98,-90+180,98+2);A.rB_(i);A.iQ_(s);t.GY_(A);A=new dp(-90,94,-90+180,94+2);A.rB_(i);A.iQ_(s);t.GY_(A);A=new dp(-90,90,-90+180,90+2);A.rB_(i);A.iQ_(s);t.GY_(A);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodePump")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var fbt=Ci(function(){let i=class t extends Mvt{cde_(){if(this.kki_)return this.kki_;this.OBe_=new mA(-100,0,100,500);const t=[100,0,-100,0,-100,100,0,100,0,250,-100,380,-100,500,100,250],i=new oE({x:kMt.kCe_(t),y:kMt.FCe_(t)});i.rB_(new hl("black",1));const s=new Fo({startpoint:new lA(0,0),endpoint:new lA(1,0),startcolor:"rgb(150, 150, 150)",endcolor:"black"});i.iQ_(s);this.kki_=i;return this.kki_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTubingHanger")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Cbt=Ci(function(){let i=class t extends OMt{constructor(t){super(t);this.pwe_=!1;this.mwe_="rgba(255,0,0,.5)";this.ywe_=.5}Dwe_(){return this.pwe_}Mwe_(){return this.mwe_}vwe_(){return this.ywe_}bwe_(t){t["color"]!==void 0&&(this.mwe_=t["color"]);t["width"]!==void 0&&(this.ywe_=1-t["width"]/100);t["fromLeft"]!==void 0&&(this.Nwe_=t["fromLeft"]);t["fromRight"]!==void 0&&(this.Swe_=t["fromRight"])}Gwe_(){this.pwe_=!1;const t=this.cde_();t instanceof Ic&&ur(t).Gw_((t=>t.dn_().toLowerCase()==="flow")).Eu_((i=>{t.removeChild(i)}))}};i.prototype.Rwe_=Zi;i=t([_s("geotoolkit.schematics.scene.FlowComponentNode")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzaG93RmxvdyI6IlJ3ZV8iLCJoaWRlRmxvdyI6Ikd3ZV8ifX19");var dbt=Ci(function(){let i=class t extends Cbt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)",!1),s=new dp(-100,0,100,100);s.iQ_(i);t.GY_(s);this.HU_=t;return this.HU_}Rwe_(){this.Gwe_();this.pwe_=!0;const t=-100,i=100,s=0+this.ywe_*100/2,e=100-this.ywe_*100/2,A=new dp(t,s,i,e);A.iQ_(new wr(this.mwe_));A.HC_("flow");this.HU_.GY_(A)}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeHorizontalTubing")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIiwic2hvd0Zsb3ciOiJSd2VfIn19fSAg");var Bbt=Ci(function(){let i=class t extends Cbt{cde_(){if(this.HU_)return this.HU_;this.kwe_=new xo({startcolor:"rgb(46,70,112)",endcolor:"rgb(46,70,112)",innercenter:new lA(.5,.5),innerradius:.25,outercenter:new lA(.5,.5),outerradius:.5}).LQ_(.5,"rgb(208, 222, 245)");this.HU_=(new sI).Lq_(new mA(0,0,1,1)).ht_(new mA(0,0,200,200)).GY_([new _Q({x:0,y:1,innerradius:.5,outerradius:1,startarc:3*Math.PI/2,endarc:2*Math.PI}).iQ_(this.kwe_)]);return this.HU_}Rwe_(){this.Gwe_();this.pwe_=!0;const t=new _Q({x:0,y:1,innerradius:.5+this.ywe_/4,outerradius:1-this.ywe_/4,startarc:3*Math.PI/2,endarc:2*Math.PI});t.iQ_(new wr(this.mwe_));t.HC_("flow");this.HU_.GY_(t)}dCe_(){return this.HU_.getBounds()}};i=t([_s("geotoolkit.schematics.scene.impl.NodeAngularTubing")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIiwic2hvd0Zsb3ciOiJSd2VfIn19fSAg");var wbt=Ci(function(){let i=class t extends Cbt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,200,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)",!0),s=new Fo("rgb(46,70,112)","rgb(208, 222, 245)",new lA(0,.025),new lA(0,1-.025)),e=new Fo("rgb(208, 222, 245)","rgb(46,70,112)",new lA(0,.025),new lA(0,1-.025)),A=new Fo("rgb(46,70,112)","rgb(208, 222, 245)",new lA(.025,0),new lA(1-.025,0)),n=new Fo("rgb(208, 222, 245)","rgb(46,70,112)",new lA(.025,0),new lA(1-.025,0)),h=new dp(-100,0,200,50);h.iQ_(s);t.GY_(h);const r=new dp(-100,50,0,100);r.iQ_(e);t.GY_(r);const o=new dp(100,50,200,100);o.iQ_(e);t.GY_(o);const l=new dp(0,100,100,200);l.iQ_(i);t.GY_(l);const u=new oE;u.push(0,50);u.push(50,50);u.push(0,100);u.iQ_(e);t.GY_(u);const a=new oE;a.push(50,50);a.push(100,50);a.push(100,100);a.iQ_(e);t.GY_(a);const g=new oE;g.push(50,50);g.push(50,100);g.push(0,100);g.iQ_(A);t.GY_(g);const c=new oE;c.push(50,50);c.push(100,100);c.push(50,100);c.iQ_(n);t.GY_(c);this.HU_=t;return this.HU_}Rwe_(){this.Gwe_();this.pwe_=!0;let t=-100,i=200;const s=0+this.ywe_*100/2,e=100-this.ywe_*100/2;this.Fwe_(t,s,i,e);t=0+this.ywe_*100/2;i=100-this.ywe_*100/2;this.Fwe_(t,e,i,200)}Fwe_(t,i,s,e){const A=new dp(t,i,s,e);A.iQ_(new wr(this.mwe_));A.HC_("flow");this.HU_.GY_(A)}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTConnection")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIiwic2hvd0Zsb3ciOiJSd2VfIn19fSAg");var Qbt=Ci(function(){let i=class t extends Cbt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,200,300);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)",!1),s=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)",!0),e=new Fo("rgb(46,70,112)","rgb(208, 222, 245)",new lA(0,.025),new lA(0,1-.025)),A=new Fo("rgb(208, 222, 245)","rgb(46,70,112)",new lA(0,.025),new lA(0,1-.025)),n=new Fo("rgb(46,70,112)","rgb(208, 222, 245)",new lA(.025,0),new lA(1-.025,0)),h=new Fo("rgb(208, 222, 245)","rgb(46,70,112)",new lA(.025,0),new lA(1-.025,0)),r=new dp(0,0,100,100);r.iQ_(s);t.GY_(r);const o=new dp(0,200,100,300);o.iQ_(s);t.GY_(o);const l=new dp(-100,100,0,200);l.iQ_(i);t.GY_(l);const u=new dp(100,100,200,200);u.iQ_(i);t.GY_(u);const a=new oE;a.push(0,100);a.push(50,150);a.push(0,150);a.iQ_(e);t.GY_(a);const g=new oE;g.push(100,100);g.push(100,150);g.push(50,150);g.iQ_(e);t.GY_(g);const c=new oE;c.push(0,150);c.push(50,150);c.push(0,200);c.iQ_(A);t.GY_(c);const I=new oE;I.push(50,150);I.push(100,150);I.push(100,200);I.iQ_(A);t.GY_(I);const f=new oE;f.push(0,100);f.push(50,100);f.push(50,150);f.iQ_(n);t.GY_(f);const C=new oE;C.push(50,150);C.push(50,200);C.push(0,200);C.iQ_(n);t.GY_(C);const d=new oE;d.push(50,100);d.push(100,100);d.push(50,150);d.iQ_(h);t.GY_(d);const B=new oE;B.push(50,150);B.push(100,200);B.push(50,200);B.iQ_(h);t.GY_(B);this.HU_=t;return this.HU_}Rwe_(){this.Gwe_();this.pwe_=!0;let t=-100,i=200;const s=100+this.ywe_*100/2,e=200-this.ywe_*100/2;this.Fwe_(t,s,i,e);t=0+this.ywe_*100/2;i=100-this.ywe_*100/2;this.Fwe_(t,0,i,s);this.Fwe_(t,e,i,300)}Fwe_(t,i,s,e){const A=new dp(t,i,s,e);A.iQ_(new wr(this.mwe_));A.HC_("flow");this.HU_.GY_(A)}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeCrossConnection")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIiwic2hvd0Zsb3ciOiJSd2VfIn19fSAg");var Ebt=Ci(function(){let i=class t extends Cbt{constructor(t){super(t);this.xwe_=!1;this.Nwe_=!0;this.Swe_=!0}cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,110,150);this.HU_=new sI;this.HU_.Lq_(this.OBe_);this.HU_.ht_(this.OBe_);const t=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)",!1),i=new oE;i.push(-100,50);i.push(-5,95);i.push(15,95);i.push(110,50);i.push(110,150);i.push(15,105);i.push(-5,105);i.push(-100,150);i.iQ_(t);this.HU_.GY_(i);this.Lwe_(!0);return this.HU_}Lwe_(t){if(this.xwe_===t)return;this.Uwe_();this.xwe_=t;const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)",!0),s=this.xwe_?0:40,e=new dp(0,50+s,10,95+s);e.iQ_(i);e.HC_("arm");this.HU_.GY_(e);const A=new dp(-5,35+s,15,50+s);A.iQ_(i);A.HC_("arm");this.HU_.GY_(A);const n=new oE;n.push(-25,20+s);n.push(35,20+s);n.push(25,35+s);n.push(-15,35+s);n.iQ_(i);n.HC_("arm");this.HU_.GY_(n);const h=new dp(-60,s,70,20+s);h.iQ_(i);h.HC_("arm");this.HU_.GY_(h)}Uwe_(){const t=this.cde_();t instanceof Ic&&ur(t).Gw_((t=>t.dn_().toLowerCase()==="arm")).Eu_((i=>{t.removeChild(i)}))}isOpen(){return this.xwe_}Ywe_(){return this.Nwe_}Twe_(){return this.Swe_}Rwe_(){this.Gwe_();this.pwe_=!0;const t=50+this.ywe_*100/2,i=150-this.ywe_*100/2;if(this.xwe_)this.Fwe_(-100,t,110,i);else{this.Nwe_&&this.Fwe_(-100,t,0,i);this.Swe_&&this.Fwe_(10,t,110,i)}}Fwe_(t,i,s,e){const A=new dp(t,i,s,e);A.iQ_(new wr(this.mwe_));A.HC_("flow");A.xb_(new wh(this.Kwe_()));this.HU_.GY_(A)}Kwe_(){const t=new TA;t.moveTo(-100,50);t.lineTo(-5,95);t.lineTo(15,95);t.lineTo(110,50);t.lineTo(110,150);t.lineTo(15,105);t.lineTo(-5,105);t.lineTo(-100,150);t.lineTo(-100,50);return t}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTubingValve")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIiwic2hvd0Zsb3ciOiJSd2VfIn19fSAg");var pbt=Ci(function(){let i=class t extends Cbt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-65,0,165,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)",!1),s=new Yu;s.moveTo(-50,0);s.lineTo(150,0);s.bezierCurveTo(170,5,170,95,150,100);s.lineTo(-50,100);s.bezierCurveTo(-70,95,-70,5,-50,0);s.iQ_(i);t.GY_(s);this.HU_=t;return this.HU_}Rwe_(){this.Gwe_();this.pwe_=!0;const t=-100,i=200,s=0+this.ywe_*100/2,e=100-this.ywe_*100/2,A=new dp(t,s,i,e);A.iQ_(new wr(this.mwe_));A.HC_("flow");A.xb_(new wh(this.Kwe_()));this.HU_.GY_(A)}Kwe_(){const t=new TA;t.moveTo(-50,0);t.lineTo(150,0);t.bezierCurveTo(170,5,170,95,150,100);t.lineTo(-50,100);t.bezierCurveTo(-70,95,-70,5,-50,0);return t}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeHorizontalCylinder")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIiwic2hvd0Zsb3ciOiJSd2VfIn19fSAg");var mbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)",!0),s=new wr("rgb(46,70,112)"),e=new dp(-100,30,100,100);e.iQ_(i);t.GY_(e);const A=new dp(-80,0,-50,30);A.iQ_(s);t.GY_(A);const n=new dp(-15,0,15,30);n.iQ_(s);t.GY_(n);const h=new dp(50,0,80,30);h.iQ_(s);t.GY_(h);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeWellHead")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var ybt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new wr("rgb(46,70,112)"),s=new xo({startcolor:"rgb(46,70,112)",endcolor:"rgb(46,70,112)",innercenter:new lA(.5,.5),innerradius:.4,outercenter:new lA(.5,.5),outerradius:.5});s.LQ_(.5,"rgb(208, 222, 245)");const e=new oE;e.push(0,100);e.push(-64,163);e.push(-87,123);e.iQ_(i);t.GY_(e);const A=new oE;A.push(0,100);A.push(23,13);A.push(-23,13);A.iQ_(i);t.GY_(A);const n=new oE;n.push(0,100);n.push(64,163);n.push(87,123);n.iQ_(i);t.GY_(n);const h=new nE({centerx:0,centery:100,radiusx:15,radiusy:15});h.iQ_(i);t.GY_(h);const r=new _Q(0,100,80,100,0,2*Math.PI);r.iQ_(s);t.GY_(r);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeWheelThreeBlades")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Dbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new wr("rgb(46,70,112)"),s=new xo({startcolor:"rgb(46,70,112)",endcolor:"rgb(46,70,112)",innercenter:new lA(.5,.5),innerradius:.4,outercenter:new lA(.5,.5),outerradius:.5});s.LQ_(.5,"rgb(208, 222, 245)");const e=new oE;e.push(0,100);e.push(45,178);e.push(80,145);e.iQ_(i);t.GY_(e);const A=new oE;A.push(0,100);A.push(45,22);A.push(80,55);A.iQ_(i);t.GY_(A);const n=new oE;n.push(0,100);n.push(-45,22);n.push(-80,55);n.iQ_(i);t.GY_(n);const h=new oE;h.push(0,100);h.push(-45,178);h.push(-80,145);h.iQ_(i);t.GY_(h);const r=new nE({centerx:0,centery:100,radiusx:15,radiusy:15});r.iQ_(i);t.GY_(r);const o=new _Q(0,100,80,100,0,2*Math.PI);o.iQ_(s);t.GY_(o);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeWheelFourBlades")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Mbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);let i=new dp(-100,0,100,200);i.rB_(new hl("#454545",1));i.iQ_(FMt.VCe_("#2d2d2f","#647073"));t.GY_(i);i=new dp(-100,40,100,80);i.iQ_(FMt.VCe_("#3c2e1b","#baaf89"));t.GY_(i);let s=new nE({centerx:-33,centery:60,radiusx:10,radiusy:10,fillstyle:new wr("#454545")});t.GY_(s);s=new nE({centerx:33,centery:60,radiusx:10,radiusy:10,fillstyle:new wr("#454545")});t.GY_(s);this.HU_=t;this.HU_.Pq_(!1);return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeBHATool1")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var vbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new dp(-100,0,100,200);i.rB_(new hl("rgb(46,70,112)",1));i.iQ_(FMt.VCe_("rgb(46,70,112)","white"));t.GY_(i);const s=new nE({centerx:0,centery:100,radiusx:16,radiusy:16,linestyle:new hl("#454545"),fillstyle:new wr("#454545")});t.GY_(s);this.HU_=t;this.HU_.Pq_(!1);return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeBHATool2")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var bbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,50);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);let i=new dp(-100,0,100,50);i.rB_(new hl("rgb(46,70,112)",1));i.iQ_(FMt.VCe_("rgb(46,70,112)","white"));t.GY_(i);i=new dp(-5,10,5,40);i.iQ_(new wr("#454545"));t.GY_(i);i=new dp(-70,10,-60,40);i.iQ_(new wr("#454545"));t.GY_(i);i=new dp(60,10,70,40);i.iQ_(new wr("#454545"));t.GY_(i);this.HU_=t;this.HU_.Pq_(!1);return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeBHATool3")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Nbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjw"+"v8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAAnSURBVBhXY/gPBQwMDGAMZqMLgACQjSoAAmBBZABWBGWDAUQXw38APu9Fuxmy5koAAAAASUVORK5CYII=",s=new Rd({from:new lA(-100,0),to:new lA(100,0),linestyle:new hl({color:"#383838",width:4})}),e=new dp(-100,0,100,100);e.rB_(null);e.iQ_({pattern:Nl.Ai_().createPattern(i),color:"lightblue"});t.GY_(e);t.GY_(s);this.HU_=t;this.addResource(this.HU_);this.HU_.Pq_(!1);return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeBottom")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Sbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new dp(-100,0,100,200);i.rB_(new hl("rgb(46,70,112)",1));i.iQ_(FMt.VCe_("rgb(46,70,112)","white"));t.GY_(i);let s=new nE({centerx:0,centery:150,radiusx:18,radiusy:18,fillstyle:new wr("#454545")});t.GY_(s);s=new nE({centerx:-75,centery:150,radiusx:14,radiusy:18,fillstyle:new wr("#454545")});t.GY_(s);s=new nE({centerx:75,centery:150,radiusx:14,radiusy:18,fillstyle:new wr("#454545")});t.GY_(s);this.HU_=t;this.HU_.Pq_(!1);return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeMotor")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Gbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,50);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);let i=new dp(-100,0,100,50);i.rB_(new hl("rgb(46,70,112)",1));i.iQ_(FMt.VCe_("rgb(46,70,112)","white"));t.GY_(i);i=new dp(-5,10,5,40);i.iQ_(new wr("#454545"));t.GY_(i);i=new dp(-32,10,-25,40);i.iQ_(new wr("#454545"));t.GY_(i);i=new dp(-59,10,-52,40);i.iQ_(new wr("#454545"));t.GY_(i);i=new dp(-84,10,-79,40);i.iQ_(new wr("#454545"));t.GY_(i);i=new dp(25,10,30,40);i.iQ_(new wr("#454545"));t.GY_(i);i=new dp(50,10,54,40);i.iQ_(new wr("#454545"));t.GY_(i);i=new dp(74,10,77,40);i.iQ_(new wr("#454545"));t.GY_(i);this.HU_=t;this.HU_.Pq_(!1);return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTransmitterReceiver")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Rbt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("transparent",1),fillstyle:new wr("transparent")}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeEmpty")],i);return i}();var kbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,1200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=new dp(-100,0,100,1200);i.rB_(new hl("rgb(46,70,112)",1));i.iQ_(FMt.VCe_("rgb(46,70,112)","white"));t.GY_(i);this.Hwe_(t,550);this.Hwe_(t,770);this.Hwe_(t,990);const s=new nE({centerx:0,centery:150,radiusx:10,radiusy:60,fillstyle:new wr("#454545")});t.GY_(s);this.HU_=t;this.HU_.Pq_(!1);return this.HU_}Hwe_(t,i){let s;s=new dp(-99,i,99,i+50);s.rB_("#383838");s.iQ_(null);t.GY_(s);s=new dp(-5,i+10,5,i+40);s.iQ_("#454545");t.GY_(s);s=new dp(-32,i+10,-25,i+40);s.iQ_("#454545");t.GY_(s);s=new dp(-59,i+10,-52,i+40);s.iQ_("#454545");t.GY_(s);s=new dp(-84,i+10,-79,i+40);s.iQ_("#454545");t.GY_(s);s=new dp(25,i+10,30,i+40);s.iQ_("#454545");t.GY_(s);s=new dp(50,i+10,54,i+40);s.iQ_("#454545");t.GY_(s);s=new dp(74,i+10,77,i+40);s.iQ_("#454545");t.GY_(s)}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeMWD")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Fbt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("#273b5e",1),fillstyle:FMt.VCe_("#273b5e","white")}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeSub")],i);return i}();var xbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-50,0,50,100);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(46,70,112)","rgb(208, 222, 245)"),s=new hl("rgb(46,70,112)",1);for(let e=0;e<4;++e){const A=new oE;A.rB_(s);A.iQ_(i);A.Qt_([-50,50,40,-40],[e*25,e*25,(e+1)*25,(e+1)*25]);t.GY_(A)}this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTopPlug")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Lbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-50,0,50,155);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(201, 4, 4)","rgb(247, 100, 100)"),s=new hl("black",1),e=new dp(-50,0,50,130);e.rB_(s);e.iQ_(i);const A=(50*50+25*25)/(2*25),n=155-A,h=Math.acos(50/A),r=new $Q({x:0,y:n,radius:A,startarc:h,endarc:Math.PI-h});r.rB_(s);r.iQ_(i);t.GY_(r);t.GY_(e);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeFloatShoe")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Ubt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-90,0,90,200);const t=new sI;t.Lq_(this.OBe_);t.ht_(this.OBe_);const i=FMt.VCe_("rgb(201, 4, 4)","rgb(247, 100, 100)"),s=new hl("black",1);let e=new dp(-55,0,55,35);e.rB_(s);e.iQ_(i);t.GY_(e);e=new dp(-37,35,37,55);e.rB_(s);e.iQ_(i);t.GY_(e);e=new dp(-55,55,55,105);e.rB_(s);e.iQ_(i);t.GY_(e);const A=new oE;A.rB_(s);A.iQ_(i);A.Qt_([-43,43,64,-64],[105,105,155,155]);t.GY_(A);e=new dp(-90,155,90,200);e.rB_(s);e.iQ_(i);t.GY_(e);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTubingHeadSpool")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Ybt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;const t=30,i=150;this.OBe_=new mA(-t/2,0,t/2,i);const s=new sI;s.Lq_(this.OBe_);s.ht_(this.OBe_);const e=FMt.VCe_("rgb(100,100,100)","rgb(220, 220, 220)"),A=new hl("rgb(56,93,138)",1),n=new dp(this.OBe_);n.rB_(A);n.iQ_(e);s.GY_(n);const h=new hl("black",3),r=t/3,o=i/7.5;let l,u,a,g;for(let e=0;e<7;++e){l=-t/2+(e%2==0?r/2:r);g=e%2==0?3:2;a=i/15+o*e;for(let t=0;t<g;++t){u=l+r*t;const e=new Rd(new lA(u,a),new lA(u,a+i/15));e.rB_(h);s.GY_(e)}}this.HU_=s;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeSlottedCasing")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Tbt=Ci(function(){let i=class t extends OMt{cde_(){if(this.HU_)return this.HU_;this.HU_=new sI;this.OBe_=new mA(-100,0,100,280);const t=new hl("rgb(46,70,112)",1),i=new hl("rgb(115, 131, 160)",1),s=FMt.VCe_("rgb(46,70,112)","white"),e=FMt.VCe_("rgb(92, 111, 144)","white"),A=FMt.VCe_("rgb(92, 111, 144)","rgb(46,55,72)"),n=FMt.jCe_("rgb(92, 111, 144)","rgb(92, 111, 144)",new lA(0,1),new lA(1,0),[.5],["white"]),h=FMt.jCe_("rgb(92, 111, 144)","rgb(92, 111, 144)",new lA(0,0),new lA(1,1),[.5],["white"]),r=new mA(-50,0,50,50);let o=new dp(r);o.rB_(t);o.iQ_(s);this.HU_.GY_(o);let l=[-90,230,-30,140,30,140,90,230];o=new oE({x:kMt.kCe_(l),y:kMt.FCe_(l)});o.iQ_(A);this.HU_.GY_(o);o=new nE(0,220,60,60);o.iQ_(e);this.HU_.GY_(o);o=new nE(0,220,40,40);o.iQ_(e);o.rB_(i);this.HU_.GY_(o);l=[-50,50,-90,100,-90,230,-30,140,30,140,90,230,90,100,50,50];o=new oE({x:kMt.kCe_(l),y:kMt.FCe_(l)});o.iQ_(e);this.HU_.GY_(o);l=[0,0,100,0,110,10,110,30,100,40,0,40,-10,30,-10,10];l=kMt.rotate(56,l);l=kMt.translate(-93,235,l);o=new oE({x:kMt.kCe_(l),y:kMt.FCe_(l)});o.iQ_(n);o.rB_(i);this.HU_.GY_(o);l=[0,0,100,0,110,10,110,30,100,40,0,40,-10,30,-10,10];l=kMt.rotate(-56,l);l=kMt.translate(39,154,l);o=new oE({x:kMt.kCe_(l),y:kMt.FCe_(l)});o.iQ_(h);o.rB_(i);this.HU_.GY_(o);return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeDrillBit")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var Kbt=Ci(function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("gray",1),fillstyle:new wr({color:"lightblue"})}));this.qwe_=null;this.Jwe_=null}bCe_(t,i){super.bCe_(t);const s=this.k_i_();this.Lq_(new mA(s));const e=t;if(e["level"]===void 0){this.qwe_=this.qbs_;this.Jwe_=this.Jbs_}else{this.qwe_=e["level"]["from"]!==void 0?e["level"]["from"]:this.qbs_;this.Jwe_=e["level"]["to"]!==void 0?e["level"]["to"]:this.Jwe_=this.Jbs_}if(this.qwe_!==this.qbs_||this.Jwe_!==this.Jbs_){const t=new mA(-this.wy_+this.T2_,this.qwe_,this.wy_+this.T2_,this.Jwe_);this.cde_().ht_(t)}else this.cde_().ht_(this.rt_());return this}};i=t([_s("geotoolkit.schematics.scene.impl.NodeFluid")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRHZW9tZXRyeURhdGEiOiJiQ2VfIn19fSAg");var Hbt=Ci(function(){let i=class t extends kMt{constructor(t){super(t);this.kki_=(new oE).rB_(null).iQ_(new wr("lightblue"));const i=new hl("black",1);this.Pwe_=(new ap).rB_(i);this.Vwe_=(new ap).rB_(i);this.GY_(this.kki_);this.GY_(this.Pwe_);this.GY_(this.Vwe_)}vCe_(t){return OMt.dde_(t)}bCe_(t,i){if(!this.vCe_(t))throw new Error("Geometry data is not valid");if(this.kki_==null||this.Pwe_==null||this.Vwe_==null)return;super.bCe_(t);const s=Array.isArray(t)?t[0]:t;this.qbs_=s["depth"]["from"];this.Jbs_=s["depth"]["to"];this.wy_=s["diameter"]["outer"]/2;this.dy_=s["diameter"]["inner"]/2;this.T2_=s["offset"];this.T2_==null&&(this.T2_=0);this.MCe_(new mA(-this.wy_+this.T2_,this.qbs_,this.wy_+this.T2_,this.Jbs_));const e=this.dy_,A=this.wy_,n=this.qbs_,h=this.Jbs_,r=(h-n)/5,o=n+r,l=h-r;this.kki_.Qt_([e+this.T2_,e+this.T2_,A+this.T2_,A+this.T2_,e+this.T2_,e+this.T2_,-e+this.T2_,-e+this.T2_,-A+this.T2_,-A+this.T2_,-e+this.T2_,-e+this.T2_],[n,o,o,l,l,h,h,l,l,o,o,n]);this.Vwe_.Qt_([e+this.T2_,e+this.T2_,A+this.T2_,A+this.T2_,e+this.T2_,e+this.T2_],[n,o,o,l,l,h]);this.Pwe_.Qt_([-e+this.T2_,-e+this.T2_,-A+this.T2_,-A+this.T2_,-e+this.T2_,-e+this.T2_],[h,l,l,o,o,n])}};i=t([_s("geotoolkit.schematics.scene.impl.NodeRiser")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ2YWxpZEdlb21ldHJ5RGF0YSI6InZDZV8iLCJzZXRHZW9tZXRyeURhdGEiOiJiQ2VfIn19fSAg");var qbt=Ci(function(){let i=class t{static J2_(){const t=[];t.push({name:"marker",factory:()=>new LMt});t.push({name:"default",factory:new gvt((t=>new dvt(t)),Cvt.vCe_)});t.push({name:"open hole",factory:new gvt((()=>new wvt),Cvt.vCe_)});t.push({name:"liner hanger",factory:new avt((()=>new Qvt))});t.push({name:"float collar",factory:new avt((()=>new Evt))});t.push({name:"open hole.2",factory:new avt((()=>new mvt))});t.push({name:"liner",factory:new gvt((t=>new Dvt(t)),Cvt.vCe_)});t.push({name:"cement",factory:new avt((()=>new bvt))});t.push({name:"cement.2",factory:new avt((()=>new Nvt))});t.push({name:"tubing",factory:new avt((()=>new Svt))});t.push({name:"tubing sub",factory:new avt((()=>new Svt))});t.push({name:"perforation",factory:new avt((()=>new kvt))});t.push({name:"casing",factory:new gvt((t=>new Dvt(t)),Cvt.vCe_)});t.push({name:"packer",factory:new avt((()=>new Fvt))});t.push({name:"nipple",factory:new avt((()=>new xvt))});t.push({name:"valve closed",factory:new avt((()=>new Lvt))});t.push({name:"gas lift valve",factory:new avt((()=>new Lvt))});t.push({name:"tail pipe",factory:new avt((()=>new Uvt))});t.push({name:"on-off tool",factory:new avt((()=>new Yvt))});t.push({name:"flow coupling",factory:new avt((()=>new Tvt))});t.push({name:"subsurface safety valve closed",factory:new avt((()=>new Kvt))});t.push({name:"gas lift mandrel",factory:new avt((()=>new Hvt))});t.push({name:"wireline guide",factory:new avt((()=>new qvt))});t.push({name:"seal assembly",factory:new avt((()=>new Jvt))});t.push({name:"sliding sleeve",factory:new avt((()=>new Pvt))});t.push({name:"crossover",factory:new avt((()=>new zvt))});t.push({name:"shear tool",factory:new avt((()=>new Xvt))});t.push({name:"gravel pack screen",factory:new avt((()=>new jvt))});t.push({name:"drill pipe",factory:new avt((()=>new Zvt))});t.push({name:"heavy weight drill pipe",factory:new avt((()=>new _vt))});t.push({name:"jar",factory:new avt((()=>new $vt))});t.push({name:"drill collar",factory:new avt((()=>new tbt))});t.push({name:"spiral drill collar",factory:new avt((()=>new ibt))});t.push({name:"stabilizer",factory:new avt((()=>new sbt))});t.push({name:"profile nipple",factory:new avt((()=>new ebt))});t.push({name:"crossover reducing",factory:new avt((()=>new Abt))});t.push({name:"pup joint",factory:new avt((()=>new nbt))});t.push({name:"plug",factory:new avt((()=>new hbt))});t.push({name:"polished rod",factory:new avt((()=>new rbt))});t.push({name:"pony rod",factory:new avt((()=>new obt))});t.push({name:"sucker rod",factory:new avt((()=>new lbt))});t.push({name:"sinker bar",factory:new avt((()=>new ubt))});t.push({name:"tubing anchor",factory:new avt((()=>new abt))});t.push({name:"seating nipple",factory:new avt((()=>new gbt))});t.push({name:"gas anchor",factory:new avt((()=>new cbt))});t.push({name:"pump",factory:new avt((()=>new Ibt))});t.push({name:"tubing hanger",factory:new avt((()=>new fbt))});t.push({name:"straight tubular",factory:new avt((()=>new dbt))});t.push({name:"angled tubular",factory:new avt((()=>new Bbt))});t.push({name:"tubular T connection",factory:new avt((()=>new wbt))});t.push({name:"tubular X connection",factory:new avt((()=>new Qbt))});t.push({name:"tubing valve",factory:new avt((()=>new Ebt))});t.push({name:"horizontal cylinder",factory:new avt((()=>new pbt))});t.push({name:"wellhead",factory:new avt((()=>new mbt))});t.push({name:"wheel 3 blades",factory:new avt((()=>new ybt))});t.push({name:"wheel 4 blades",factory:new avt((()=>new Dbt))});t.push({name:"bha tool.1",factory:new avt((()=>new Mbt))});t.push({name:"bha tool.2",factory:new avt((()=>new vbt))});t.push({name:"bha tool.3",factory:new avt((()=>new bbt))});t.push({name:"cement pocket",factory:new avt((()=>new Nbt))});t.push({name:"motor",factory:new avt((()=>new Sbt))});t.push({name:"transmitter receiver",factory:new avt((()=>new Gbt))});t.push({name:"empty",factory:new avt((()=>new Rbt))});t.push({name:"measurement while drilling",factory:new avt((()=>new kbt))});t.push({name:"sub",factory:new avt((()=>new Fbt))});t.push({name:"cement plug",factory:new avt((()=>new xbt))});t.push({name:"float shoe",factory:new avt((()=>new Lbt))});t.push({name:"tubing head spool",factory:new avt((()=>new Ubt))});t.push({name:"slotted casing",factory:new avt((()=>new Ybt))});t.push({name:"drill bit",factory:new avt((()=>new Tbt))});t.push({name:"drilling fluid",factory:new avt((()=>new Kbt))});t.push({name:"riser",factory:()=>new Hbt});t.push({name:"logging while drilling",factory:new avt((()=>new kbt))});return t}};i=t([_s("geotoolkit.schematics.factory.DefaultMap")],i);return i}(),2,"eyJnZXRFbGVtZW50cyI6IkoyXyIsImdldENsYXNzTmFtZSI6IkRfIn0g");var Jbt=Ci(function(){let i=class t extends $n{constructor(t,i){super();this.mapping={};t!=null&&t!==!0||this.Owe_();i===void 0&&(i=evt);this.Wwe_=i}zwe_(){return Pi(this.Wwe_,{})}Xwe_(t,i){i||Pi(t,this.Wwe_);this.notify(Zn.gf_,this);return this}jwe_(t){for(const i in this.Wwe_)if(this.Wwe_.hasOwnProperty(i)){const s=this.Wwe_[i];if(typeof s=="string"){if(s===t)return i}else if(Array.isArray(s))for(let e=0;e<s.length;++e)if(s[e]===t)return i}return t}clear(){this.mapping={};return this}Owe_(){this.b0_(qbt.J2_());return this}Zwe_(t,i,s){if(t==null)return this;if(i==null)return this;let e;e=i instanceof ZMt?i:new gvt(i,s);const A=e.bde_();this.mapping[t]=A instanceof PMt?new avt(e,A):e;this.notify(Zn.gf_,this);return this}_we_(t){if(t==null)return!1;t=this.jwe_(t);const i=undefined;return this.mapping[t]!=null}$we_(t){if(t==null)return null;t=this.jwe_(t);let i=this.mapping[t];i==null&&(i=this.mapping["default"]);return i}tQe_(){const t=[];for(const i in this.mapping)this.mapping.hasOwnProperty(i)&&t.push(i);return t}b0_(t){if(t==null)return this;const i=t.length;if(i<1)return this;this.yf_(!0);for(let s=0;s<i;++s){const i=t[s];this.Zwe_(i["name"],i["factory"])}this.yf_(!1);this.notify(Zn.gf_,this);return this}};i=t([_s("geotoolkit.schematics.factory.ComponentNodeFactoryRegistry")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbGlhc2VzIjoiendlXyIsInNldEFsaWFzZXMiOiJYd2VfIiwic2V0dXBEZWZhdWx0cyI6Ik93ZV8iLCJzZXRGYWN0b3J5IjoiWndlXyIsImNvbnRhaW5zRmFjdG9yeSI6Il93ZV8iLCJnZXRGYWN0b3J5IjoiJHdlXyIsImdldFJlZ2lzdGVyZWRDb21wb25lbnRzIjoidFFlXyIsInNldE1hcHBpbmciOiJiMF8ifX19");var Pbt=Ci(function(){let i=class t extends Mvt{constructor(t,i){super(t=Pi(t,{externalgeometry:t instanceof sI?t:null}));this.wde_=t["externalgeometry"];this.Qde_=!1;this.GY_([this.cde_(),this.ewe_()]);if(i){i["description"]&&this.kCs_(i["description"]);i["geometry"]&&this.bCe_(i["geometry"])}}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["externalgeometry"]!==void 0&&(this.wde_=t["externalgeometry"]);return this}N_(){const t=super.N_();t["externalgeometry"]=this.wde_;return t}cde_(){return this.wde_}dCe_(){return this.wde_.rt_()}QCe_(){return this.Qde_}mde_(t){this.Qde_=t;return this}};i=t([_s("geotoolkit.schematics.scene.ExternalGeometryFlippedComponentNode")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwiZ2V0VGVtcGxhdGVOb2RlIjoiY2RlXyIsImdldFRlbXBsYXRlQm91bmRzIjoiZENlXyIsImlzUmVzb3VyY2VCYXNlZCI6IlFDZV8iLCJzZXRSZXNvdXJjZUJhc2VkIjoibWRlXyJ9fX0g");var Vbt=Ci(function(){let i=class t extends _Mt{constructor(t,i,s,e){super(t,i,s||new l3);this.twe_=e===!0}iQe_(t,i){this.Z$_().s2i_(this.xde_(),((s,e)=>{let A=null;if(!s){A=this.vw_().parse(i,e);if(A){A["viewbox"]||(A["viewbox"]=A["bounds"]);_Mt.kde_(t,i);t.Awe_()}}A||i.iQ_(new wr("red"));this.Gde_().notify(fm.mot_,this)}))}bde_(t){const i=new sI,s={description:FMt.ZCe_(t["description"]),geometry:t["geometry"]},e=new Pbt(i,s);e.ab_(this.twe_);this.iQe_(e,i);return e}};i=t([_s("geotoolkit.schematics.factory.FlippedSvgNodeFactory")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVDb21wb25lbnROb2RlIjoiYmRlXyJ9fX0g");var Obt=Ci(function(){let i=class t extends Mvt{constructor(t,i){super(t=qi(t,{linestyle:t instanceof hl?t:null,fillstyle:i||{color:"gray"}},!0));this.$Ce_=t["linestyle"]||new hl("white",2);this.FBe_=t["fillstyle"]||new wr("rgb(64, 64, 64)");this.sQe_&&this.sQe_.rB_(this.$Ce_);this.eQe_&&this.eQe_.rB_(this.$Ce_);this.yIt_&&this.yIt_.iQ_(this.FBe_)}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);if(t["linestyle"]!==void 0){this.$Ce_=t["linestyle"];this.sQe_&&this.sQe_.rB_(this.$Ce_);this.eQe_&&this.eQe_.rB_(this.$Ce_)}if(t["fillstyle"]!==void 0){this.FBe_=t["fillstyle"];this.yIt_&&this.yIt_.iQ_(this.FBe_)}return this}N_(){const t=super.N_();t["linestyle"]=this.$Ce_;t["fillstyle"]=this.FBe_;return t}cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);this.yIt_=new dp(this.OBe_).rB_(null).iQ_(this.FBe_);this.sQe_=new Rd(new lA(-100,0),new lA(100,100),!0,this.$Ce_);this.eQe_=new Rd(new lA(-100,100),new lA(100,0),!0,this.$Ce_);this.HU_=new sI;this.HU_.Lq_(this.OBe_);this.HU_.GY_([this.yIt_,this.sQe_,this.eQe_]);return this.HU_}SCe_(t,i){if(t===void 0)return this;if(t!==null){if(t["linestyle"]!==void 0){this.sQe_.rB_(t["linestyle"]);this.eQe_.rB_(t["linestyle"])}t["fillstyle"]!==void 0&&this.yIt_.iQ_(t["fillstyle"])}else{this.sQe_.rB_(this.$Ce_);this.eQe_.rB_(this.$Ce_);this.yIt_.iQ_(this.FBe_)}super.SCe_(t,i);return this}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodePackerFlipped")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0VGVtcGxhdGVCb3VuZHMiOiJkQ2VfIiwic2V0UmVuZGVyaW5nSGludHMiOiJTQ2VfIiwiZ2V0VGVtcGxhdGVOb2RlIjoiY2RlXyJ9fX0g");var Wbt=Ci(function(){let i=class t extends Cvt{constructor(t){super(t);this._gp=new TA;this.Oq_=new Yu({geometry:this._gp,linestyle:new hl("gray",1)});this.pBe_().GY_([this.Oq_])}vn_(t,i){super.vn_();this.Oq_.rd_(!1);Cvt.kBe_(this._gp,this.EBe_());this.Oq_.vn_();this.Oq_.rd_(!0);return this}};i=t([_s("geotoolkit.schematics.scene.impl.NodeTubingMD")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVTdGF0ZSI6InZuXyJ9fX0g");var zbt=Ci(function(){let i=class t extends Jbt{Owe_(){this.Zwe_("default",(t=>{const i=new dvt(t);i.UBe_({fillstyle:wr.RB_});return i}),Cvt.vCe_);this.Zwe_("cement",new avt((()=>new bvt)));this.Zwe_("perforation",new avt((()=>new kvt)));this.Zwe_("packer",new avt((()=>new Obt)));this.Zwe_("tubing",(t=>new Wbt(t)),Cvt.vCe_);this.Zwe_("open hole",(t=>new wvt(t)),Cvt.vCe_);this.Zwe_("casing",(t=>new Dvt(t)),Cvt.vCe_);this.Zwe_("marker",(()=>new LMt),LMt.vCe_);return this}};i=t([_s("geotoolkit.schematics.factory.GrayScaleComponentFactoryRegistry")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXR1cERlZmF1bHRzIjoiT3dlXyJ9fX0g");var Xbt=Ci(function(){let i=class t extends Cvt{constructor(t){super(t);this._gp=new TA;this.CS_=new hl("black",1);this.Oq_=new Yu({geometry:this._gp,linestyle:this.CS_});this.AQe_=new oE;this.AQe_.iQ_(new wr("black"));this.nQe_=new oE;this.nQe_.iQ_(new wr("black"));this.hQe_=5;this.rQe_=5;this.oQe_={linestyle:new hl("black",1),shoe:{height:5,width:5}};this.aJ_=Pi(this.oQe_,{});this.pBe_().GY_([this.Oq_,this.AQe_,this.nQe_])}vn_(t,i){super.vn_();this.Oq_.rd_(!1);Cvt.kBe_(this._gp,this.EBe_(),{},this.mBe_());this.Oq_.vn_();this.AQe_.vn_();this.nQe_.vn_();this.Oq_.rd_(!0);return this}uWs_(t){const i=this.EBe_().qY_();if(i<1)return;this.sd_()&&(t=t.uS_(this.sd_()));const s=undefined,e=this.EBe_().HY_(i-1).getBounds().pe_(),A=this.mBe_().HY_(i-1).k_i_(),n=A.Qe_(),h=A.we_(),r=t.Ji_(),o=this.hQe_/r.sI_(),l=this.rQe_/r.BI_(),u=[n,n+l,n],a=[e,e,e-o];this.AQe_.rd_(!1);this.AQe_.Qt_(u,a);this.AQe_.rd_(!0);const g=[h,h-l,h],c=[e,e,e-o];this.nQe_.rd_(!1);this.nQe_.Qt_(g,c);this.nQe_.rd_(!0)}SCe_(t,i){if(t===void 0)return this;if(t!=null){if(t["linestyle"]!==void 0){this.CS_=hl.Wi_(t["linestyle"]);this.Oq_.rB_(this.CS_)}const i=t["shoe"];if(i!==void 0){i["height"]!==void 0&&(this.hQe_=i["height"]);i["width"]!==void 0&&(this.rQe_=i["width"])}}else this.aJ_=Pi(this.oQe_,{});super.SCe_(t,i);return this}};i=t([_s("geotoolkit.schematics.scene.impl.NodeCasingMD")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVTdGF0ZSI6InZuXyIsInNldFJlbmRlcmluZ0hpbnRzIjoiU0NlXyIsInVwZGF0ZVNoYXBlR2VvbWV0cnkiOiJ1V3NfIn19fSAg");var jbt=Ci(function(){let i=class t extends Jbt{Owe_(){this.b0_(qbt.J2_());this.Zwe_("tubing",(t=>new Wbt(t)),Cvt.vCe_);this.Zwe_("open hole",(t=>new wvt(t)),Cvt.vCe_);this.Zwe_("casing",(t=>new Xbt(t)),Cvt.vCe_);this.Zwe_("marker",(()=>new LMt),LMt.vCe_);return this}};i=t([_s("geotoolkit.schematics.factory.MultiDiameterComponentFactoryRegistry")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXR1cERlZmF1bHRzIjoiT3dlXyJ9fX0g");var Zbt=Ci(function(){let i=class t{constructor(t){this.UU_=Pi(t,{parser:new QZ,dataprovider:new l3,httpservice:null});if(!this.UU_["registry"])throw Error("registry must be defined");if(!this.UU_["path"])throw Error("path must be defined");this.ytt_=this.UU_["httpservice"]?this.UU_["httpservice"]:FB.Ai_().u1_();const i=this.UU_["path"].lastIndexOf("/");this.tY_=i>-1?this.UU_["path"].slice(0,i+1):""}load(){return this.ytt_.get(this.UU_["path"],{responsetype:"json"}).then((t=>{const i=undefined;t["data"].forEach((t=>{let i,s,e;if(typeof t=="string"){i=t;s=!1;e=null}else{i=t["name"];s=t["flipped"]!==void 0&&t["flipped"];e=t["asymmetry"]!==void 0?t["asymmetry"]:null}const A=this.tY_+i+".svg";let n;n=s?new Vbt(this.UU_["parser"],A,this.UU_["dataprovider"],t["left"]):new _Mt(this.UU_["parser"],A,this.UU_["dataprovider"],e);this.UU_["registry"].Zwe_(i,n)}));return Promise.resolve()}),(t=>Promise.reject(t)))}};i=t([_s("geotoolkit.schematics.factory.SVGComponentsLoader")],i);return i}(),2,"eyJnZXRDbGFzc05hbWUiOiJEXyJ9");var _bt=Ci(function(){let i=class t extends rat{constructor(t){super();this.Jp_=t!==void 0?t:100}Ie_(t,i){return this.Jp_}};i=t([_s("geotoolkit.schematics.FixedTrackWidthStrategy")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXaWR0aCI6IkllXyJ9fX0g");var $bt=Ci({lQe_:"Inner",j_:"Middle",uQe_:"Outer"},2,"eyJJbm5lciI6ImxRZV8iLCJNaWRkbGUiOiJqXyIsIk91dGVyIjoidVFlXyJ9");const tNt=[$bt.lQe_,$bt.j_,$bt.uQe_];var iNt=Ci({aQe_:"from",ne_:"center",To:"to"},2,"eyJGcm9tIjoiYVFlXyIsIkNlbnRlciI6Im5lXyJ9");var sNt=Ci(function(){let i=class t{constructor(t){t=Pi(t,{visible:!0,labeldata:null,linestyle:null},!0);this.gQe_=t["labeldata"];this.rB_(t["linestyle"]||new hl);this.GC_=t["visible"]}$C_(){return this.GC_}nf_(t){this.GC_=t;return this}gt_(){return this.CS_}rB_(t,i){if(this.CS_===t)return this;this.CS_=hl.jD_(null,this.CS_,t,i);return this}YCe_(){return this.gQe_}cQe_(t){this.gQe_=t;return this}dt_(t){if((t=Es(t))==null)return this;t["labeldata"]&&this.cQe_(t["labeldata"]);t["linestyle"]&&this.rB_(t["linestyle"]);t["visible"]!==void 0&&this.nf_(t["visible"]);return this}N_(){return{visible:this.GC_,labeldata:this.gQe_,linestyle:this.CS_}}};i.prototype.render=Zi;i=t([_s("geotoolkit.schematics.labeling.ConnectorShape")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWaXNpYmxlIjoiJENfIiwic2V0VmlzaWJsZSI6Im5mXyIsImdldExpbmVTdHlsZSI6Imd0XyIsInNldExpbmVTdHlsZSI6InJCXyIsImdldExhYmVsRGF0YSI6IllDZV8iLCJzZXRMYWJlbERhdGEiOiJjUWVfIiwic2V0UHJvcGVydGllcyI6ImR0XyIsImdldFByb3BlcnRpZXMiOiJOXyJ9fSwiZ2V0Q2xhc3NOYW1lIjoiRF8ifSAg");var eNt=Ci(function(){let i=class t{};i.prototype.IQe_=Zi;i=t([_s("geotoolkit.schematics.utils.BoundsCalculation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb21wb25lbnRCb3VuZHMiOiJJUWVfIn19LCJnZXRDbGFzc05hbWUiOiJEXyJ9");var ANt=Ci(function(){let i=class t extends eNt{IQe_(t,i){let s,e,A;if(t instanceof Cvt){const i=t.EBe_(),n=i.qY_();let h;s=[];e=[];for(h=0;h<n;++h){A=i.HY_(h).getBounds();s.push(A.we_());e.push(A.Ee_());s.push(A.we_());e.push(A.pe_())}for(h=n-1;h>=0;--h){A=i.HY_(h).getBounds();s.push(A.Qe_());e.push(A.pe_());s.push(A.Qe_());e.push(A.Ee_())}}else{A=t.getBounds();s=[A.we_(),A.Qe_(),A.Qe_(),A.we_()];e=[A.Ee_(),A.Ee_(),A.pe_(),A.pe_()]}return{x:s,y:e}}};i=t([_s("geotoolkit.schematics.utils.PolygonalBoundsCalculation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb21wb25lbnRCb3VuZHMiOiJJUWVfIn19fSAg");var nNt=Ci({fQe_:"casing",CQe_:"casingmd",dQe_:"openhole",BQe_:"perforation",wQe_:"fluid",L$_:"default"},2,"eyJDYXNpbmciOiJmUWVfIiwiQ2FzaW5nTUQiOiJDUWVfIiwiT3BlbkhvbGUiOiJkUWVfIiwiUGVyZm9yYXRpb24iOiJCUWVfIiwiRmx1aWQiOiJ3UWVfIiwiRGVmYXVsdCI6IkwkXyJ9"),hNt=Ci({QQe_:"ComponentsLoading",EQe_:"ComponentsLoaded"},2,"eyJDb21wb25lbnRzTG9hZGluZyI6IlFRZV8iLCJDb21wb25lbnRzTG9hZGVkIjoiRVFlXyJ9"),rNt=Ci({W8_:"Regular",pQe_:"Compressed",mQe_:"KeepAspectRatio"},2,"eyJSZWd1bGFyIjoiVzhfIiwiQ29tcHJlc3NlZCI6InBRZV8iLCJLZWVwQXNwZWN0UmF0aW8iOiJtUWVfIn0g");const oNt=[rNt.W8_,rNt.pQe_,rNt.mQe_];var lNt=Ci({yQe_:"whole",DQe_:"lefthalf",MQe_:"righthalf"},2,"eyJXaG9sZSI6InlRZV8iLCJMZWZ0SGFsZiI6IkRRZV8iLCJSaWdodEhhbGYiOiJNUWVfIn0g");const uNt=function(t,i){return t.mn_()===i.mn_()&&t.fn_()===i.fn_()},aNt=function(t){return t instanceof avt?t.gBe_:t};var gNt=Ci(function(){var i;let s=i=class t extends sI{constructor(t){super(t);this.vQe_=[];this.bQe_=null;this.NQe_=null;this.MOi_=null;t=Pi(t,{viewmode:rNt.W8_,valueviewmode:lNt.yQe_,forceopenhole:!1,renderinghints:{[nNt.dQe_]:{wiggle:!1}},sortcomponents:null,highlight:{boundscalculation:new ANt,linestyle:new hl("green",1).qD_({x:!0,y:!0}),fillstyle:new wr("rgba(0,255,0,0.2)"),cssclass:"wellborenode_highlight"},selection:{linestyle:new hl("red",1).qD_({x:!0,y:!0}),fillstyle:new wr("rgba(255,0,0,0.2)"),cssclass:"wellborenode_selection"},registry:new Jbt},!0);this.SQe_=t["forceopenhole"];this.GQe_=t["sortcomponents"];this.Rf_={highlight:t["highlight"],selection:t["selection"]};this.RQe_=null;this.zde_=null;this.Xde_=null;this.kQe_=new TQ({id:"components_layer",name:"components_layer"});this.GY_(this.kQe_);this.P3t_=new TQ({id:"highlight_layer",name:"highlight_layer"});this.Gq_(this.P3t_);this.FQe_=t["renderinghints"];this.xQe_=()=>{this.LQe_()};this.UQe_(t["registry"]);const s=i.YQe_(t["viewmode"]);this.TQe_=s["name"];this.KQe_=s["options"];this.HQe_=t["valueviewmode"];this.qQe_={};this.JQe_=null;t["units"]&&this.y_s_(t["units"]);this.PQe_(t["data"])}VQe_(){this.OQe_||(this.OQe_=Au.cN_([this.P3t_]));return this.OQe_}uQs_(t){if(t){this.VQe_().forEach((i=>{i.rd_(!1);i.YY_().forEach((i=>{i.WC_()===this.Rf_["highlight"]["cssclass"]&&this.WQe_(i,t)}));i.rd_(!0)}));Pi(t,this.Rf_["highlight"])}return this}WQe_(t,i){i["cssclass"]!=null&&i["cssclass"]!==""&&t.qC_(i["cssclass"]);i["linestyle"]!==void 0&&t.rB_(i["linestyle"]);i["fillstyle"]!==void 0&&t.iQ_(i["fillstyle"])}zQe_(t,i){const s=new Yu({id:t,visible:!1});this.WQe_(s,this.Rf_[i]);return s}XQe_(t,i,s){const e=s.qY_();for(let A=0;A<e;A++){const e=s.HY_(A);if(e.XC_()===t&&e.WC_()===this.Rf_[i]["cssclass"])return e}const A=this.zQe_(t,i);s.GY_(A);return A}jQe_(t,i){return[this.XQe_(t,i,this.P3t_)]}ZQe_(){return this.Rf_["highlight"]["boundscalculation"]}_Qe_(t,i){const s=this.ZQe_().IQe_(t);let e;e=Array.isArray(s)?s:[s];this.jQe_(t.XC_(),i).forEach((t=>{t.clear();for(let i=0;i<e.length;++i){const s=e[i];for(let i=0;i<s["x"].length;++i)i===0?t.moveTo(s["x"][0],s["y"][0]):t.lineTo(s["x"][i],s["y"][i])}t.close().nf_(!0)}))}$Qe_(t,i){i?this._Qe_(t,"highlight"):this.VQe_().forEach((i=>{i.YY_().forEach((i=>{i.XC_()===t.XC_()&&i.WC_()===this.Rf_["highlight"]["cssclass"]&&i.nf_(!1)}))}))}tEe_(t){this.VQe_().forEach((t=>{t.YY_().forEach((t=>{t.WC_()===this.Rf_["selection"]["cssclass"]&&t.nf_(!1)}))}));for(let i=0;i<t.length;i++){const s=t[i];this._Qe_(s,"selection")}}xCe_(t){return FMt.xCe_(t,this.kQe_)}iEe_(){return this.vQe_}sEe_(t){t=t||[];this.hcs_().forEach((t=>{t.BCe_(!1)}));t.forEach((t=>{t.BCe_(!0)}));this.tEe_(t);this.vQe_=t;return this}static YQe_(t){return typeof t=="object"?t:{name:t,options:null}}eEe_(t){this.RQe_=t;this.uvt_();return this}AEe_(){return this.RQe_?this.RQe_:this.nEe_()}nEe_(){const t=this.hEe_();if(t<1)return null;let s=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY;for(let i=0;i<t;++i){const t=this.getComponent(i),h=t.k_i_();if(h!=null){if(!(t instanceof LMt)){const t=h.we_();t<s&&(s=t);const i=h.Qe_();i>A&&(A=i)}const i=h.Ee_();i<e&&(e=i);const r=h.pe_();r>n&&(n=r)}}if(!isFinite(s)||!isFinite(A)){s=-LMt.tde_;A=LMt.tde_;if(isFinite(e)&&isFinite(n))if(n===e){e-=i.rEe_/2;n+=i.rEe_/2}else{const t=(n-e)/2;e-=t;n+=t}else{e=-i.rEe_/2;n=i.rEe_/2}}return new mA(s,e,A,n)}uvt_(){const t=this.AEe_();if(!t)return this;let i=null;this.HQe_===lNt.yQe_?i=new mA(t):this.HQe_===lNt.MQe_?i=new mA(t.ye_(),t.Ee_(),t.ye_()+t.Ie_(),t.pe_()):this.HQe_===lNt.DQe_&&(i=new mA(t.ye_()-t.Ie_(),t.Ee_(),t.ye_(),t.pe_()));this.Lq_(i);return this}oEe_(t,i){i===rNt.W8_?this.lEe_=t:i===rNt.pQe_?this.uEe_=t:i===rNt.mQe_&&(this.aEe_=t);t.setOptions(this.KQe_);return this}gEe_(t){if(t===rNt.W8_){this.lEe_?this.lEe_.setOptions(this.KQe_):this.lEe_=new ivt;return this.lEe_}if(t===rNt.pQe_){this.uEe_?this.uEe_.setOptions(this.KQe_):this.uEe_=new HMt(this.KQe_);return this.uEe_}if(t===rNt.mQe_){this.aEe_?this.aEe_.setOptions(this.KQe_):this.aEe_=new tvt(this.KQe_);return this.aEe_}return null}static cEe_(t){const i=[];t.forEach((t=>{t instanceof Cvt?t.EBe_().YY_().forEach((t=>{i.push(t)})):t instanceof kMt&&i.push(t)}));return Au.cN_(i)}IEe_(){return this.HQe_}fEe_(t){this.HQe_=t;this.kY_(t!==lNt.yQe_);this.uvt_();return this}CEe_(){return this.TQe_}dEe_(t){const s=this.TQe_,e=Pi(this.KQe_,{});if(t!=null){if(typeof t=="number"){ki("Call WellBoreNode.setViewMode with number is deprecated since 4.0. Use enum ViewMode instead");t=oNt[t]}const s=i.YQe_(t);this.TQe_=s["name"];this.KQe_=s["options"]}const A=this.gEe_(this.TQe_);if(A){const t=i.cEe_(this.hcs_()),s=A.tsi_(t,this.rt_()),e=this.iEe_();e&&e.length>0&&this.tEe_(e);this.vn_();this.td_(void 0,!0);return s}this.TQe_=s;this.KQe_=e;ki("IViewModeBuilder implementation is not provided for requested view mode!");return null}BEe_(t){if(!this.wEe_||!this.JQe_)return this;if(this.JQe_.hcs_().length!==this.kQe_.qY_())throw new Error("WellBoreData and WellBoreNode are _not_ in sync with each other");const i=this.wEe_.$we_(t);this.rd_(!1,!1);const s=this.JQe_.k9_(t);for(let e=0;e<s.length;++e){const A=s[e],n=this.kQe_.HY_(A),h={description:n.Bn_(),geometry:n.NCe_()},r=n.getBounds();this.kQe_.removeChild(n);const o=i.bde_(h);o.HC_(t);o.ht_(r);this.kQe_.xY_(A,o)}this.rd_(!0,!0);return this}RCe_(){return this.FQe_}SCe_(t){this.FQe_=t?Pi(t,this.FQe_):{};this.QEe_();return this}QEe_(){const t=this.hcs_(),i=this._C_();let s=!1;this.rd_(!1);t.forEach((t=>{const i=this.PR_(t.dn_(),t.getData(!1));if(i!==void 0){t.SCe_(i);s=!0}}));this.rd_(i,s);return this}EEe_(){if(!this.pEe_){this.uvt_();this.dEe_();this.mEe_>0||this.notify(hNt.EQe_,this)}}yEe_(){this.DEe_||(this.DEe_=()=>{--this.mEe_;this.mEe_<=0&&this.EEe_()});return this.DEe_}MEe_(){if(!this.JQe_)return!1;if(!this.SQe_)return!1;if(this.JQe_.getComponent("open hole"))return!1;const t=this.JQe_.rBe_();t&&this.JQe_.hBe_("open hole",t);return t!=null}vEe_(){if(!this.JQe_)return;if(this.SQe_)return;const t=this.JQe_.getComponent("open hole");if(!t||t.length===0)return;const i=t[0];i["emulated"]&&this.JQe_.lBe_(i["id"])}bEe_(){return this.SQe_}NEe_(t){this.SQe_=t;t?this.MEe_():this.vEe_();return this}SEe_(t){this.sEe_([]);this.VQe_().forEach((i=>{i.KY_(t)}));this.kQe_.KY_(t)}hcs_(t){return this.kQe_.YY_(t)}getComponent(t){return this.kQe_.HY_(t)}hEe_(){return this.kQe_.qY_()}LQe_(){if(!this.wEe_||!this.JQe_)return;const t=this.iEe_(),i=this._C_();this.rd_(!1);this.SEe_(!0);this.mEe_=0;this.pEe_=!0;this.notify(hNt.QQe_,this);let s=this.JQe_.hcs_();this.GQe_&&(s=this.GQe_.sort(s));this.MEe_()&&(s=this.JQe_.hcs_());s.forEach((t=>{const i=t.name,s=t.data;i&&s&&this.GEe_(t)}));this.pEe_=!1;this.REe_(this.qQe_);this.rd_(i);this.EEe_();const e=[];t.forEach((t=>{const i=this.kEe_(t.XC_());i&&e.push(i)}));this.sEe_(e)}FEe_(){return this.wEe_}UQe_(t){this.wEe_&&this.wEe_.off(Zn.gf_,this.xQe_);this.wEe_=t;this.LQe_();this.wEe_&&this.wEe_.on(Zn.gf_,this.xQe_);return this}xEe_(){return this.JQe_}LEe_(t){if(!t)return this;Array.isArray(t)||(t=[t]);for(let i=0;i<t.length;++i){let s=t[i];for(let t=0;t<this.kQe_.qY_();t++){const i=this.kQe_.HY_(t);if(s["data"]["id"]===i.XC_()){s=Pi(s,{});i.setData(s["data"])}}}this.uvt_();this.dEe_();this.sEe_(this.iEe_());return this}xPi_(){this.MOi_||(this.MOi_=(t,i,s)=>{this.LEe_(s);return this});return this.MOi_}UEe_(t,i){const s=i.name,e=i.data;if(e["id"]!=null){const t=ur(this.kQe_).Gw_((t=>t.XC_()===e["id"])).xw_();if(t)return}const A=t.bde_(e);A.HC_(s);A instanceof PMt||A.setData(e);i.YEe_!==void 0&&A.SCe_(i.YEe_);this.kQe_.GY_(A)}GEe_(t){const i=Pi(t,{}),s=i.name,e=i.data;let A=null;if(this.wEe_._we_(s)){const t=this.wEe_.$we_(s);t.vCe_(e["geometry"])&&(A=t)}if(!A){const t=this.wEe_.$we_("default");t&&t.vCe_(e["geometry"])&&(A=t)}if(A){const t=aNt(A);if(t instanceof _Mt&&!t.Gde_().Ef_()){t.Gde_().on(fm.mot_,this.yEe_());++this.mEe_}const n=this.PR_(s,e);n!==void 0&&(i.YEe_=n);this.UEe_(A,i)}else ki("ERROR! Invalid geometry data: "+JSON.stringify(i))}PR_(t,i){let s;const e=this.FQe_;e&&(s=e[t]||e[t.toLowerCase()]);if(s!==void 0){if(s!==null){let t=i&&i["subset"];if(t){const i=s;if(i){i[t]&&(s=i[t]);t=t.toLowerCase();i[t]&&(s=i[t])}}}}else s=this.FQe_["*"];return s}TEe_(){this.NQe_||(this.NQe_=(t,i,s)=>{Array.isArray(s)?s.forEach((t=>{t.name&&t.data&&this.GEe_(t)})):s.name&&s.data&&this.GEe_(s);this.uvt_();this.dEe_();return this});return this.NQe_}KEe_(){this.bQe_||(this.bQe_=(t,i,s)=>{s&&s["data"]!=null&&s["data"]["id"]!=null&&this.hcs_().forEach((t=>{if(t.XC_()===s["data"]["id"]){this.kQe_.removeChild(t);this.uvt_();this.dEe_()}}));return this});return this.bQe_}PQe_(t){if(this.JQe_){this.JQe_.off(fm.mot_,this.xPi_());this.JQe_.off(fm.Add,this.TEe_());this.JQe_.off(fm.mt_,this.KEe_())}this.JQe_=t;this.LQe_();if(this.JQe_){this.JQe_.on(fm.mot_,this.xPi_());this.JQe_.on(fm.Add,this.TEe_());this.JQe_.on(fm.mt_,this.KEe_())}return this}kEe_(t,i){i||(i=this.kQe_);if(!i)return null;const s=i.qY_();for(let e=0;e<s;++e){const s=i.HY_(e);if(s.XC_()===t)return s}return null}nf_(t,i){if(i==null)return super.nf_(t);const s=this.kQe_.qY_();let e,A;for(e=0;e<s;++e){A=this.kQe_.HY_(e);A.dn_()!==i&&A.XC_()!==i||A.nf_(t)}return this}$C_(t){if(t==null)return super.$C_();const i=this.kQe_.qY_();for(let s=0;s<i;++s){const i=this.kQe_.HY_(s);if(i.dn_()===t)return i.$C_()}return!1}HEe_(){return Pi(this.qQe_,{})}REe_(t){if(!t)return this;this.qQe_=Pi(t,{});const i=this._C_();this.rd_(!1);let s;const e=t["visible"],A=t["invisible"];let n,h;if(e){n=e["name"]!=null?e["name"]:e;Array.isArray(n)||(n=[n]);if(n!=null)for(s=0;s<n.length;++s)this.nf_(!0,n[s])}if(A){n=A["name"]!=null?A["name"]:A;Array.isArray(n)||(n=[n]);if(n!=null)for(s=0;s<n.length;++s)this.nf_(!1,n[s])}if(e&&e["id"]){h=Array.isArray(e["id"])?e["id"]:[e["id"]];if(h!=null)for(s=0;s<h.length;++s)this.nf_(!0,h[s])}if(A&&A["id"]){h=Array.isArray(A["id"])?A["id"]:[A["id"]];if(h!=null)for(s=0;s<h.length;++s)this.nf_(!1,h[s])}this.rd_(i,!0);return this}qEe_(){const t=this.xEe_();if(!t||t.hcs_().length<1)return[];const i=[];t.hcs_().forEach((t=>{i.indexOf(t.name)<0&&i.push(t.name)}));return i}JEe_(){return{tolabel:[{collection:this.kQe_,orientation:fg.ax_}],doclip:!1}}N_(){const t=super.N_();t["children"]&&delete t["children"];t["overlays"]&&delete t["overlays"];t["wellboredata"]!=null&&ki('WellBoreNode does not support "wellboredata" param, use "data" instead');t["data"]=this.JQe_;t["bounds"]=this.getBounds();t["sortcomponents"]=this.GQe_;t["highlight"]=this.Rf_["highlight"];t["forceopenhole"]=this.SQe_;t["renderinghints"]=this.FQe_;t["viewmode"]=this.TQe_;t["valueviewmode"]=this.HQe_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["bounds"]!==void 0&&this.ht_(t["bounds"]);t["data"]!==void 0&&this.PQe_(t["data"]);t["viewmode"]!==void 0&&this.dEe_(t["viewmode"]);t["valueviewmode"]!==void 0&&this.fEe_(t["valueviewmode"]);t["units"]!==void 0&&this.y_s_(t["units"]);t["highlight"]!==void 0&&this.uQs_(t["highlight"]);t["registry"]!==void 0&&this.UQe_(t["registry"]);t["forceopenhole"]!==void 0&&(this.SQe_=t["forceopenhole"]);t["renderinghints"]!==void 0&&this.SCe_(t["renderinghints"]);t["sortcomponents"]!==void 0&&(this.GQe_=t["sortcomponents"]);return this}S_s_(){ki("Call WellBoreNode.getUnitsOptions() is deprecated since 4.0. Use WellBoreNode.getWellBoreData().getUnitsOptions() instead");return this.xEe_()?this.xEe_().S_s_():{depth:"ft",value:"in"}}PEe_(){ki("Call WellBoreNode.getDepthUnit() is deprecated since 4.0. Use WellBoreNode.getWellBoreData().getUnitDepth() instead");return this.xEe_()?this.xEe_().Zde_():OA.Ai_().gn_("ft")}Rcs_(){ki("Call WellBoreNode.getValueUnit() is deprecated since 4.0. Use WellBoreNode.getWellBoreData().getUnitValue() instead");return this.xEe_()?this.xEe_()._de_():OA.Ai_().gn_("in")}y_s_(t){ki("Call WellBoreNode.setUnitsOptions() is deprecated since 4.0.");const i=this.xEe_()?this.xEe_().S_s_():{depth:this.zde_||"ft",value:this.Xde_||"in"},s=OA.Ai_();Pi(t,i);const e=s.gn_(i["depth"]);if(!e||!e.En_("length"))throw new TypeError("unitOptions.depth must belong to length units!");const A=s.gn_(i["value"]);if(!A||!A.En_("length"))throw new TypeError("unitOptions.value must belong to length units!");if(this.zde_&&this.Xde_&&uNt(this.zde_,e)&&uNt(this.Xde_,A))return this;this.zde_=e;this.Xde_=A;if(this.JQe_){const t=this.JQe_.hcs_();t&&t.length>0&&this.LEe_(t)}return this}dispose(){if(!this.Df_()){this.PQe_(null);this.wEe_.tQe_().forEach((t=>{const i=aNt(this.wEe_.$we_(t));i instanceof _Mt&&i.Gde_().off(fm.mot_,this.yEe_())}));this.wEe_&&this.wEe_.off(Zn.gf_,this.xQe_);super.dispose()}}};s.rEe_=20;s=i=t([_s("geotoolkit.schematics.scene.WellBoreNode")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRIaWdobGlnaHRMYXllcnNJdGVyYXRvciI6IlZRZV8iLCJnZXRIaWdobGlnaHRTaGFwZXMiOiJqUWVfIiwiZ2V0SGlnaGxpZ2h0Qm91bmRzQ2FsY3VsYXRvciI6IlpRZV8iLCJoaWdobGlnaHRDb21wb25lbnROb2RlIjoiJFFlXyIsImdldENvbXBvbmVudE5vZGVQcm94eSI6InhDZV8iLCJnZXRTZWxlY3RlZENvbXBvbmVudE5vZGVzIjoiaUVlXyIsInNldFNlbGVjdGVkQ29tcG9uZW50Tm9kZXMiOiJzRWVfIiwic2V0QnVpbGRlciI6Im9FZV8iLCJnZXRCdWlsZGVyIjoiZ0VlXyIsImdldFZhbHVlVmlld01vZGUiOiJJRWVfIiwic2V0VmFsdWVWaWV3TW9kZSI6ImZFZV8iLCJnZXRWaWV3TW9kZSI6IkNFZV8iLCJzZXRWaWV3TW9kZSI6ImRFZV8iLCJyZXBsYWNlQ29tcG9uZW50IjoiQkVlXyIsImdldFJlbmRlcmluZ0hpbnRzIjoiUkNlXyIsInNldFJlbmRlcmluZ0hpbnRzIjoiU0NlXyIsImdldEZvcmNlT3BlbkhvbGUiOiJiRWVfIiwic2V0Rm9yY2VPcGVuSG9sZSI6Ik5FZV8iLCJjbGVhckNvbXBvbmVudHMiOiJTRWVfIiwiZ2V0Q29tcG9uZW50cyI6Imhjc18iLCJnZXRGYWN0b3J5UmVnaXN0cnkiOiJGRWVfIiwic2V0RmFjdG9yeVJlZ2lzdHJ5IjoiVVFlXyIsImdldFdlbGxCb3JlRGF0YSI6InhFZV8iLCJzZXRXZWxsQm9yZURhdGEiOiJQUWVfIiwic2V0VmlzaWJsZSI6Im5mXyIsImdldFZpc2libGUiOiIkQ18iLCJnZXRDb21wb25lbnRzVmlzaWJpbGl0eSI6IkhFZV8iLCJzZXRDb21wb25lbnRzVmlzaWJpbGl0eSI6IlJFZV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0VW5pdHNPcHRpb25zIjoiU19zXyIsImdldERlcHRoVW5pdCI6IlBFZV8iLCJnZXRWYWx1ZVVuaXQiOiJSY3NfIiwic2V0VW5pdHNPcHRpb25zIjoieV9zXyJ9fX0g");var cNt=Ci(function(){let i=class t{};i.prototype.VEe_=Zi;i.prototype.reset=Zi;i=t([_s("geotoolkit.schematics.labeling.IComponentsFilter")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJDb21wb25lbnRzIjoiVkVlXyJ9fSwiZ2V0Q2xhc3NOYW1lIjoiRF8ifSAg");const INt=new mA;var fNt=Ci(function(){let i=class t{constructor(t){this.UU_={viewmode:rNt.pQe_,orientation:"vertical",mdsizedevice:3};Pi(t,this.UU_,!0)}VEe_(t,i){ki("geotoolkit.schematics.labeling.DefaultComponentsFilter is deprecated since 4.0. Use geotoolkit.schematics.labeling.LabelsFilter instead.");const s=this.UU_["orientation"]!=="vertical",e=this.UU_["activecomponentsarea"],A=i.Ji_(),n=[];let h,r,o;const l=this.UU_["activecomponentsareamodel"];t.reset();while(t.Hs_()){h=t.next();if(!(h instanceof kMt))continue;if(!h.$C_())continue;if(h instanceof LMt){n.push(h);continue}let i=h.getBounds();if(i!=null){const t=h.ut_();if(t!=null){INt.ce_(i);i=t.rn_(i,INt)}A.rn_(i,INt);if(!e.$s_(INt))continue}const u=new mA(h.getBounds());if(!u.$s_(l))continue;u.intersect(l);const a=A.rn_(u),g=undefined;if(!((s?a.Ie_():a.Ts_())<=this.UU_["mdsizedevice"])){r=A.gI_(a);if(r){if(s){const t=NA.AA_(r.we_(),4),i=NA.AA_(r.Qe_(),4);if(t===i)continue;r.ce_(t,r.Ee_(),i,r.pe_())}else{const t=NA.AA_(r.Ee_(),4),i=NA.AA_(r.pe_(),4);if(t===i)continue;r.ce_(r.we_(),t,r.Qe_(),i)}o=this.UU_["labelinfoprovider"](h);o!=null&&n.push(h)}}}return Au.cN_(n)}reset(t){Pi(t,this.UU_);return this}JV_(){return Pi(this.UU_,{})}N_(){return this.JV_()}dt_(t){if((t=Es(t))==null)return this;Pi(t,this.UU_);return this}};i=t([_s("geotoolkit.schematics.labeling.DefaultComponentsFilter"),Zs(cNt)],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJDb21wb25lbnRzIjoiVkVlXyIsImdldE9wdGlvbnMiOiJKVl8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19LCJnZXRDbGFzc05hbWUiOiJEXyJ9");var CNt=function(){let i=class t extends sNt{constructor(t){super(t);this.OEe_=new ap}render(t){if(!this.$C_())return;const i=this.YCe_()&&this.YCe_().N_();if(i!=null){this.OEe_.Qt_(i["xconnector"],i["yconnector"]);this.OEe_.rB_(this.gt_());this.OEe_.render(t)}}};i=t([_s("geotoolkit.schematics.labeling.DefaultConnectorShape")],i);return i}();var dNt=Ci({z_:"Left",X_:"Right",ne_:"Center",VI_:"Auto"},2,"eyJMZWZ0Ijoiel8iLCJSaWdodCI6IlhfIiwiQ2VudGVyIjoibmVfIiwiQXV0byI6IlZJXyJ9");const BNt=[void 0,dNt.z_,dNt.X_,void 0,dNt.ne_,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,dNt.VI_];var wNt=Ci(function(){let i=class t{constructor(t){const i=qi(t,{nodeinfo:"",anchortype:dA.ne_,xlabel:0,ylabel:0,xconnector:[],yconnector:[]},!0);this.JP_=i["node"];this.WEe_=i["nodeinfo"];this.ubt_=i["anchortype"];this.zEe_=i["xlabel"];this.XEe_=i["ylabel"];this.jEe_=i["xconnector"];this.ZEe_=i["yconnector"];this.m$_=null}get node(){ki("geotoolkit.schematics.labeling.LabelData#node is deprecated since 4.0. Use getProperties instead.");return this.JP_}set node(t){t!==void 0&&ki("geotoolkit.schematics.labeling.LabelData#node is deprecated since 4.0. Use setProperties instead.");this.JP_=t}get _Ee_(){ki("geotoolkit.schematics.labeling.LabelData#nodeInfo is deprecated since 4.0. Use getProperties instead.");return this.WEe_}set _Ee_(t){t!==void 0&&ki("geotoolkit.schematics.labeling.LabelData#nodeInfo is deprecated since 4.0. Use setProperties instead.");this.WEe_=t}get eE_(){ki("geotoolkit.schematics.labeling.LabelData#anchorType is deprecated since 4.0. Use getProperties instead.");return this.ubt_}set eE_(t){t!==void 0&&ki("geotoolkit.schematics.labeling.LabelData#anchorType is deprecated since 4.0. Use setProperties instead.");this.ubt_=t}get $Ee_(){ki("geotoolkit.schematics.labeling.LabelData#xLabel is deprecated since 4.0. Use getProperties instead.");return this.zEe_}set $Ee_(t){t!==void 0&&ki("geotoolkit.schematics.labeling.LabelData#xLabel is deprecated since 4.0. Use setProperties instead.");this.zEe_=t}get tpe_(){ki("geotoolkit.schematics.labeling.LabelData#yLabel is deprecated since 4.0. Use getProperties instead.");return this.ipe_}set tpe_(t){t!==void 0&&ki("geotoolkit.schematics.labeling.LabelData#yLabel is deprecated since 4.0. Use setProperties instead.");this.ipe_=t}get spe_(){ki("geotoolkit.schematics.labeling.LabelData#xConnector is deprecated since 4.0. Use getProperties instead.");return this.jEe_}set spe_(t){t!==void 0&&ki("geotoolkit.schematics.labeling.LabelData#xConnector is deprecated since 4.0. Use setProperties instead.");this.jEe_=t}get epe_(){ki("geotoolkit.schematics.labeling.LabelData#yConnector is deprecated since 4.0. Use getProperties instead.");return this.ZEe_}set epe_(t){t!==void 0&&ki("geotoolkit.schematics.labeling.LabelData#yConnector is deprecated since 4.0. Use setProperties instead.");this.ZEe_=t}N_(){return{nodeinfo:this.WEe_,anchortype:this.ubt_,xlabel:this.zEe_,ylabel:this.XEe_,xconnector:this.jEe_,yconnector:this.ZEe_,node:this.JP_}}dt_(t){if((t=Es(t))==null)return this;t["nodeinfo"]!=null&&(this.WEe_=t["nodeinfo"]);t["anchortype"]!=null&&(this.ubt_=t["anchortype"]);t["xlabel"]!=null&&(this.zEe_=t["xlabel"]);t["ylabel"]!=null&&(this.XEe_=t["ylabel"]);t["xconnector"]!=null&&(this.jEe_=t["xconnector"]);t["yconnector"]!=null&&(this.ZEe_=t["yconnector"]);t["node"]!=null&&(this.JP_=t["node"]);return this}Ape_(t){this.m$_=t}npe_(){return this.m$_}};i=t([_s("geotoolkit.schematics.labeling.LabelData")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJub2RlSW5mbyI6Il9FZV8iLCJhbmNob3JUeXBlIjoiZUVfIiwieExhYmVsIjoiJEVlXyIsInlMYWJlbCI6InRwZV8iLCJ4Q29ubmVjdG9yIjoic3BlXyIsInlDb25uZWN0b3IiOiJlcGVfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyJ9fSwiZ2V0Q2xhc3NOYW1lIjoiRF8ifSAg");const QNt=new hl("red",1).qD_({x:!0,y:!0}),ENt=new wr("rgba(255,0,0,0.2)"),pNt=t=>t["node"].wCe_()?{fillstyle:ENt,linestyle:QNt}:null;var mNt=Ci(function(){var i;let s=i=class t extends Ic{constructor(t){super();t=qi(t,{},!0);this.gQe_=new wNt({node:new kMt});this.hpe_=null;const i=new qa({color:"black",alignment:Fa.ne_,font:"10px sans-serif"});this.rpe_=new YC("",0,0,0,0,i,!0);this.ope_=t["styleshandler"]?t["styleshandler"]:pNt}N_(){const t=super.N_();t["styleshandler"]=this.ope_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["styleshandler"]!==void 0&&(this.ope_=t["styleshandler"]);return this}clone(){if(Object.getPrototypeOf(this)!==i.prototype)return Wi(this);const t=undefined;return(new i).b_(this,!0)}b_(t,i){i===!0&&super.b_(t,i);this.rpe_=t.rpe_.clone();this.hpe_=t.hpe_.clone();this.ope_=t.ope_;return this}setStyle(t){if(t.hasOwnProperty("cssclass")&&t["cssclass"]!=="")this.hpe_.qC_(t["cssclass"]);else{t["linestyle"]!==void 0&&this.hpe_.rB_(hl.Wi_(t["linestyle"]));t["fillstyle"]!==void 0&&this.hpe_.iQ_(il.BD_(t["fillstyle"]))}return this}lpe_(){return this.rpe_}YCe_(){return this.gQe_}upe_(t){if(this.ope_===t)return this;this.ope_=t;return this.td_()}ape_(){return this.ope_}};s.prototype.cQe_=Zi;s.prototype.render=Zi;s.prototype.getBoundingBox=Zi;s=i=t([_s("geotoolkit.schematics.labeling.LabelShape")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY29weUNvbnN0cnVjdG9yIjoiYl8iLCJnZXRMYWJlbFRleHQiOiJscGVfIiwiZ2V0TGFiZWxEYXRhIjoiWUNlXyIsInNldExhYmVsRGF0YSI6ImNRZV8iLCJzZXRTdHlsZXNIYW5kbGVyIjoidXBlXyIsImdldFN0eWxlc0hhbmRsZXIiOiJhcGVfIn19fSAg");const yNt=4;var DNt=Ci(function(){let i=class t extends mNt{constructor(t){(t=Pi(t,{painter:cE,size:12,labelshape:{}},!0))["labelshape"]["linestyle"]===void 0&&(t["labelshape"]["linestyle"]=new hl({color:"blue",width:1,pixelsnapmode:{x:!0,y:!0}}));t["labelshape"]["fillstyle"]===void 0&&(t["labelshape"]["fillstyle"]=new wr("lightblue"));super(t);this.hpe_=new ma(0,0,t["size"],t["size"],dA.ne_,!0,t["painter"]);this.hpe_.rB_(t["labelshape"]["linestyle"]);this.hpe_.iQ_(t["labelshape"]["fillstyle"]);this.rpe_.SE_(dA.ne_);this.gpe_=!1;this.BQt_=t["size"];t["labeltextstyle"]!==void 0&&this.rpe_.g_(t["labeltextstyle"])}b_(t,i){i===!0&&super.b_(t,i);this.BQt_=t.BQt_;this.gpe_=t.gpe_;return this}cpe_(){return this.gpe_}Ipe_(t){this.gpe_=t;return this}fpe_(){return this.hpe_}cQe_(t){this.gQe_=t;const i=t.N_();this.hpe_.SE_(i["anchortype"]);this.hpe_.$I_(i["xlabel"]);this.hpe_.tf_(i["ylabel"]);this.rpe_.$I_(i["xlabel"]);this.rpe_.tf_(i["ylabel"]);this.rpe_.a_(i["nodeinfo"]);return this}N_(){const t=super.N_();t["labelshape"]={linestyle:this.fpe_().gt_(),fillstyle:this.fpe_().ct_()};t["labeltextstyle"]=this.lpe_().FE_();t["painter"]=this.hpe_.ak_();t["size"]=this.BQt_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);if(t["labelshape"]!==void 0){t["labelshape"]["linestyle"]!==void 0&&this.hpe_.rB_(t["labelshape"]["linestyle"]);t["labelshape"]["fillstyle"]!==void 0&&this.hpe_.iQ_(t["labelshape"]["fillstyle"])}t["labeltextstyle"]!==void 0&&this.lpe_().g_(t["labeltextstyle"]);t["painter"]!=null&&this.hpe_.rk_(t["painter"]);t["size"]!=null&&(this.BQt_=t["size"]);return this}Cpe_(t){if(typeof this.ope_=="function"){const i=this.ope_({node:t["node"],text:this.rpe_.SG_()});i&&i.hasOwnProperty("fillstyle")?this.hpe_.iQ_(i["fillstyle"]):this.hpe_.iQ_(this.Odt_);i&&i.hasOwnProperty("linestyle")?this.hpe_.rB_(i["linestyle"]):this.hpe_.rB_(this.Wdt_);i&&i["textstyle"]?this.rpe_.g_(i["textstyle"]):this.rpe_.g_(this.fQi_)}}render(t){if(!this.$C_())return;const i=this.YCe_();if(!i)return;const s=i.N_();if(s["nodeinfo"]==null||s["nodeinfo"].length===0)return;this.Wdt_=this.hpe_.gt_();this.Odt_=this.hpe_.ct_();this.fQi_=this.rpe_.FE_();this.Cpe_(s);const e=t.Ji_();this.gpe_?this.hpe_.setSize(this.BQt_+yNt,this.BQt_+yNt):this.hpe_.setSize(this.rpe_.Ie_()+yNt,this.rpe_.Ts_()+yNt);const A=this.hpe_.Ie_()/e.BI_()/2,n=this.hpe_.Ts_()/e.sI_()/2;let h,r;OC.Zj_(s["anchortype"])&&(h=s["xlabel"]-A);OC.jj_(s["anchortype"])&&(h=s["xlabel"]+A);OC.zj_(s["anchortype"])&&(r=s["ylabel"]+n);OC.Xj_(s["anchortype"])&&(r=s["ylabel"]-n);if(s["anchortype"]===dA.ne_){h=s["xlabel"];r=s["ylabel"]}h&&this.rpe_.$I_(h);r&&this.rpe_.tf_(r);this.hpe_.render(t);this.rpe_.render(t);this.hpe_.rB_(this.Wdt_);this.hpe_.iQ_(this.Odt_);this.rpe_.g_(this.fQi_)}getBoundingBox(t,i){const s=this.YCe_();if(s==null)return null;this.Wdt_=this.hpe_.gt_();this.Odt_=this.hpe_.ct_();this.fQi_=this.rpe_.FE_();this.Cpe_(s.N_());const e=this.hpe_.GE_(),A=this.hpe_.uR_(),n=this.hpe_.aR_(),h=this.hpe_.WG_();let r=this.gpe_?this.BQt_:this.rpe_.Ie_(),o=this.gpe_?this.BQt_:this.rpe_.Ts_(),l,u,a,g;this.hpe_.rB_(this.Wdt_);this.hpe_.iQ_(this.Odt_);this.rpe_.g_(this.fQi_);if(h&&t){r/=t.BI_();o/=t.sI_();r+=yNt;o+=yNt}if(i){l=A-r/2;u=A+r/2;if(e===dA.re_){a=n-o;g=n}else if(e===dA.le_){a=n;g=n+o}else{a=n-o/2;g=n+o/2}}else{a=n-o/2;g=n+o/2;if(e===dA.oe_){l=A-r;u=A}else if(e===dA.he_){l=A;u=A+r}else{l=A-r/2;u=A+r/2}}return new mA(l,a,u,g)}};i=t([_s("geotoolkit.schematics.labeling.SymbolLabelShape")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJiXyIsImdldExhYmVsU3ltYm9sIjoiZnBlXyIsInNldExhYmVsRGF0YSI6ImNRZV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");var MNt=Ci({dpe_:"NoLabels",Bpe_:"Docked",wpe_:"Trajectory",Qpe_:"Adjacent"},2,"eyJOb0xhYmVscyI6ImRwZV8iLCJEb2NrZWQiOiJCcGVfIiwiVHJhamVjdG9yeSI6IndwZV8iLCJBZGphY2VudCI6IlFwZV8ifSAg");var vNt=function(){var t;return class{constructor(){this.Epe_=1}ppe_(){this.Epe_=1}mpe_(){}Zx_(){return this.Epe_++}ype_(t){if(t instanceof kMt){const i=t.Bn_();if(i&&i.length>0)return i}}}}(),bNt=Ci(function(){let i=class t{constructor(t){const i=new vNt;this.UU_={labelinfoprovider:i.ype_.bind(i),beforelabelingproc:i.ppe_.bind(i),afterlabelingproc:i.mpe_.bind(i),nextlabel:i.Zx_.bind(i),connectorshape:null};Pi(t,this.UU_,!0);this.UU_["labelshape"]||(this.UU_["labelshape"]=new DNt({painter:tp}));this.UU_["labelshapehighlighted"]||(this.UU_["labelshapehighlighted"]=new DNt({painter:tp}));this.Dpe_=null;this.gpe_=null;if(typeof this.UU_["defaultlocation"]=="number"){ki("Construct LabelingStrategy with defaultlocation as number is deprecated since 4.0. Use enum LocationType instead");this.UU_["defaultlocation"]=BNt[this.UU_["defaultlocation"]]}if(this.UU_["locationmap"]!=null){let t=!1;for(let i=0;i<this.UU_["locationmap"].length;i++){const s=this.UU_["locationmap"][i]["location"];if(typeof s=="number"){if(!t){ki("Construct LabelingStrategy with locationmap.location as number is deprecated since 4.0. "+"Use enum LocationType instead");t=!0}this.UU_["locationmap"][i]["location"]=BNt[s]}}}}JV_(){const t=Pi(this.UU_,{});return Ss(t,["labelShape","labelShapeHighlighted","deltaPx","equallySpaced","anchorValueFixed","labelInfoProvider","beforeLabelingProc","afterLabelingProc","nextLabel","connectorShape","defaultLocation","defaultAlignment","locationMap","anchorValueShiftMult"],"LabelingStrategy.getOptions")}setOptions(t){Pi(t,this.UU_,!0);if(typeof this.UU_["defaultlocation"]=="number"){ki("Set option LabelingStrategy.defaultlocation with number is deprecated since 4.0. Use enum LocationType instead");this.UU_["defaultlocation"]=BNt[this.UU_["defaultlocation"]]}if(this.UU_["locationmap"]!=null){let t=!1;for(let i=0;i<this.UU_["locationmap"].length;i++){const s=this.UU_["locationmap"][i]["location"];if(typeof s=="number"){if(!t){ki("Set option LabelingStrategy with locationmap.location as number is deprecated since 4.0. "+"Use enum LocationType instead");t=!0}this.UU_["locationmap"][i]["location"]=BNt[s]}}}return this}N_(){return this.JV_()}cpe_(){ki("geotoolkit.schematics.labeling.LabelingStrategy.getLegendMode is deprecated since 4.0. Use geotoolkit.schematics.scene.WellBoreWithLabels with 'nextlabel' instead.");return this.gpe_}Ipe_(t){ki("geotoolkit.schematics.labeling.LabelingStrategy.setLegendMode is deprecated since 4.0. Use geotoolkit.schematics.scene.WellBoreWithLabels with 'nextlabel' instead.");this.gpe_=t;return this}dt_(t){return this.setOptions(t)}Mpe_(t){this.Dpe_=t;return this}vpe_(){return this.Dpe_}};i.prototype.bpe_=Zi;i.prototype.Npe_=Zi;i.prototype.Spe_=Zi;i=t([_s("geotoolkit.schematics.labeling.LabelingStrategy")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoiSlZfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwiZ2V0TGVnZW5kTW9kZSI6ImNwZV8iLCJzZXRMZWdlbmRNb2RlIjoiSXBlXyIsInNldFByb3BlcnRpZXMiOiJkdF8iLCJzZXRBY3RpdmVDb21wb25lbnRzQXJlYSI6Ik1wZV8iLCJnZXRBY3RpdmVDb21wb25lbnRzQXJlYSI6InZwZV8iLCJkb0xhYmVsaW5nIjoiYnBlXyIsInNldExhYmVsc0JvdW5kcyI6Ik5wZV8iLCJnZXRMYWJlbHNCb3VuZHMiOiJTcGVfIn19LCJnZXRDbGFzc05hbWUiOiJEXyJ9");const NNt=new mA,SNt=3,GNt=t=>t&&typeof t.rn_=="function";var RNt=Ci(function(){let i=class t{constructor(t){t=t||{};this.Epe_=1;this.OEt_=t["weight"]||function(t){return-t.N_()["nodeinfo"].length}}Gpe_(t,i,s){const e=s["orientation"]!=="vertical",A=s["activecomponentsarea"],n=GNt(i)?i:i.Ji_(),h=[],r=s["activecomponentsareamodel"];t.reset();while(t.Hs_()){const s=t.next();if(!(s instanceof kMt))continue;if(!s.$C_())continue;if(s instanceof LMt){h.push(s);continue}let o=s.getBounds();if(o!=null){const t=s.ut_();if(t!=null){NNt.ce_(o);o=t.rn_(o,NNt)}i.Ji_().rn_(o,NNt);if(!A.$s_(NNt))continue}const l=new mA(o);if(!l.$s_(r))continue;l.intersect(r);const u=n.rn_(l);if(u.Ie_()<=SNt||u.Ts_()<=SNt)continue;const a=i.Ji_().gI_(u);if(!a)continue;if(e){const t=NA.AA_(a.we_(),4),i=NA.AA_(a.Qe_(),4);if(t===i)continue;a.ce_(t,a.Ee_(),i,a.pe_())}else{const t=NA.AA_(a.Ee_(),4),i=NA.AA_(a.pe_(),4);if(t===i)continue;a.ce_(a.we_(),t,a.Qe_(),i)}const g=undefined;this.Rpe_(s)!=null&&h.push(s)}return Au.cN_(h)}kpe_(t,i,s){const e=(t=t.slice()).slice();t.sort(((t,i)=>this.OEt_(t)-this.OEt_(i)));const A=i.Ji_();for(let i=0;i<t.length;i++){const n=s.cQe_(t[i]).getBoundingBox(A);t[i].Ape_(n);for(let s=0;s<i;s++){const A=t[s].npe_();if(n.$s_(A)){const s=t.splice(i,1);e.splice(e.indexOf(s[0]),1);i--;break}}}return e}Zx_(){return this.Epe_+++""}Rpe_(t){return FMt.ZCe_(t.Bn_())}reset(){this.Epe_=1;return this}};i=t([_s("geotoolkit.schematics.labeling.LabelsFilter")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJiZWZvcmVMYWJlbGluZyI6IkdwZV8iLCJhZnRlckxhYmVsaW5nIjoia3BlXyIsIm5leHRMYWJlbCI6Ilp4XyIsImxhYmVsSW5mbyI6IlJwZV8ifX0sImdldENsYXNzTmFtZSI6IkRfIn0g");const kNt=function(t,i,s){(s===void 0||s<2)&&(s=2);const e=(i-t)/(s-1),A=Math.PI/2/(s-1),n=[],h=[],r=[];r.push(t-e);n.push(0);h.push(-1/(s-1));for(let i=0;i<s;++i){r.push(t+i*e);n.push(1-Math.cos(i*A));h.push(Math.sin(i*A))}r.push(i+e);n.push(1+1/(s-1));h.push(1);return new _Ct({data:{x:n,y:h,d:r}})};var FNt=Ci(function(){var i;let s=i=class t extends gNt{constructor(t){super(t=qi(t,{viewmode:rNt.pQe_,trackwidth:100,deviationdepth:null,lshapeaccuracy:8},!0));this.Fpe_=(new sI).HC_("_groupV").JC_("group_vertical");this.xpe_=(new TQ).JC_("components_layer_vertical");this.Lpe_=(new TQ).JC_("manipulator_layer_vertical");this.Upe_=(new TQ).JC_("highlight_layer_vertical");this.Fpe_.GY_(this.xpe_);this.Fpe_.Gq_([this.Lpe_,this.Upe_]);this.Ype_=(new sI).HC_("_groupVC").JC_("group_vertical_clipped").xb_(new wh);this.Ype_.GY_(this.Fpe_);this.Tpe_=(new tdt).HC_("_groupDEV").JC_("group_deviated");this.Kpe_=(new sI).HC_("_groupLL");this.Hpe_=(new TQ).JC_("manipulator_layer_deviated");this.qpe_=(new TQ).JC_("highlight_layer_deviated");this.Kpe_.Gq_([this.Hpe_,this.qpe_]);this.Tpe_.GY_(this.Kpe_);this.Jpe_=(new sI).HC_("_groupH").JC_("group_horizontal");this.Ppe_=(new TQ).JC_("components_layer_horizontal");this.Vpe_=(new TQ).JC_("manipulator_layer_horizontal");this.Ope_=(new TQ).JC_("highlight_layer_horizontal");this.Jpe_.GY_(this.Ppe_);this.Jpe_.Gq_([this.Vpe_,this.Ope_]);this.Wpe_=(new sI).HC_("_groupR").JC_("group_rotated").xb_(new wh);this.Wpe_.GY_(this.Jpe_);this.tUs_=t["trackwidth"];this.zpe_(t["deviationdepth"]);this.Xpe_=null;this.jpe_=t["lshapeaccuracy"];this.sJt_={horizontal:{left:0,right:0},vertical:{top:0,bottom:0}};this.Zpe_=new hB;this._pe_=new hB;this.$pe_=(new sI).HC_("_groupLabelsArea").JC_("_groupLabelsArea");this.GY_([this.Tpe_,this.Ype_,this.Wpe_,this.$pe_]);this.Bgt_=!0;this.PQe_(t["data"])}VQe_(t){this.OQe_||(this.OQe_=Au.cN_([this.Upe_,this.qpe_,this.Ope_],t));return this.OQe_}jQe_(t,i){const s=[];this.kEe_(t,this.xpe_)&&s.push(this.XQe_(t,i,this.Upe_));this.kEe_(t,this.Kpe_)&&s.push(this.XQe_(t,i,this.qpe_));this.kEe_(t,this.Ppe_)&&s.push(this.XQe_(t,i,this.Ope_));return s}PQe_(t){return this.Bgt_?super.PQe_(t):this}tme_(t){if(this.ime_==null){if(this.Xpe_==null){let t=null;const i=this.xEe_();i&&(t=i.k_i_());if(t){this.Xpe_=t.De_();isFinite(this.Xpe_)||(this.Xpe_=null)}}return this.Xpe_}return this.ime_===null||t===void 0||NA.Ve_(this.ime_)?Ss(this.ime_,["KOP","EOC"],"LShapedWellBoreNode.getDeviationDepth"):this.ime_[t.toLowerCase()]}zpe_(t){this.ime_=typeof t=="number"||t==null?t:qi(t,{},!0);this.LQe_();return this}xCe_(t){let i=FMt.xCe_(t,this.sme_());i||(i=FMt.xCe_(t,this.eme_()));i||(i=FMt.xCe_(t,this.Kpe_));return i}sEe_(t){this.sme_().YY_().forEach((i=>{i instanceof kMt&&i.BCe_(!!t.find((t=>t.XC_()===i.XC_())))}));this.Kpe_.YY_().forEach((i=>{i instanceof kMt&&i.BCe_(!!t.find((t=>t.XC_()===i.XC_())))}));this.eme_().YY_().forEach((i=>{i instanceof kMt&&i.BCe_(!!t.find((t=>t.XC_()===i.XC_())))}));this.tEe_(t);this.vQe_=t;return this}SEe_(t){this.sme_().KY_(t);this.Kpe_.KY_(t);this.eme_().KY_(t);this.Xpe_=null}static k_i_(t){let i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,A=Number.NEGATIVE_INFINITY;const n=t.qY_();for(let h=0;h<n;++h){const n=t.HY_(h);if(!(n instanceof kMt))continue;const r=n.k_i_();if(r!=null){const t=r.we_();t<i&&(i=t);const n=r.Qe_();n>e&&(e=n);const h=r.Ee_();h<s&&(s=h);const o=r.pe_();o>A&&(A=o)}}return new mA(i,s,e,A)}Ame_(){return this.Fpe_}sme_(){return this.xpe_}nme_(){return this.Lpe_}hme_(){return this.Ame_()}rme_(){return this.Wpe_}ome_(){return this.Jpe_}eme_(){return this.Ppe_}lme_(){return this.Vpe_}ume_(){return this.ome_()}ame_(){const t=this.tme_();if(t===null)return this;const s=this.xEe_();if(!s||s.hcs_().length<1)return this;const e=i.k_i_(this.Kpe_);let A,n;if(NA.Ve_(t)){const i=e.Ts_()/1e3;A=t-i;n=t+i}else{A=t["kop"];n=t["eoc"]}const h=new mA(e.we_(),A,e.Qe_(),n);this.Kpe_.Lq_(h);const r=i.k_i_(this.sme_()),o=i.k_i_(this.eme_()),l=Math.min(r.we_(),o.we_()),u=Math.max(r.Qe_(),o.Qe_());let a=Math.min(r.pe_(),A);a=this.Zpe_.transform(a,!0);const g=new mA(l,r.Ee_(),u,a);this.Ame_().Lq_(new mA(g));this.Ame_().getParent().Lq_(new mA(g));this.Ame_().ht_(new mA(g));let c=Math.max(o.Ee_(),n);c=this._pe_.transform(c,!0);const I=new mA(l,c,u,o.pe_());this.ome_().Lq_(new mA(I));this.ome_().getParent().Lq_(new mA(I));this.ome_().ht_(new mA(I));if(!this.gme_||this.cme_!==this.tUs_||this.Ime_!==t||this.fme_!==this.jpe_){const s=i.k_i_(this.Kpe_),e=s.Ee_(),A=s.pe_(),n=kNt(e,A,this.jpe_),h=this.tUs_*(s.Ie_()/(u-l));this.Tpe_.HUs_({trajectory:n,trackwidth:h});this.gme_=s.clone();this.fme_=this.jpe_;this.cme_=this.tUs_;this.Ime_=t}return this}uvt_(){return this.ame_()}wq_(t){super.wq_(t);this.Cme_(this.rt_());return this}dme_(t){const i=t.rt_(),s=i.Ee_(),e=i.pe_(),A=i.we_()-i.Ie_(),n=i.Qe_()+i.Ie_(),h=new TA;h.moveTo(A,s).lineTo(n,s).lineTo(n,e).lineTo(A,e).close();t.Pb_().Pd_(h)}Bme_(){return this.tUs_}nJs_(t){this.tUs_=t;return this}Cme_(t){if(!t)return;const i=t.we_()+this.sJt_["horizontal"]["left"],s=t.Qe_()-this.sJt_["horizontal"]["right"],e=t.Ee_()+this.sJt_["vertical"]["top"],A=t.pe_()-this.sJt_["vertical"]["bottom"],n=this.tUs_,h=this.tUs_,r=new mA(i+n,e,s,A);this.$pe_.ht_(r);const o=new mA(i,e,i+n,A-h);this.Ype_.ht_(o);this.dme_(this.Ype_);const l=Math.PI/2/(this.jpe_-1),u=this.tUs_*Math.sin(l)/2,a=undefined,g=undefined,c=new mA(i+n/2,A-h-u,i+n+u,A-h/2);this.Tpe_.ht_(c);const I=s-i-n,f=new mA(i-h*.5,e-I*.5,i+h*.5,e+I*.5),C=this.rme_(),d=C._C_();C.rd_(!1);C.ht_(f);this.dme_(this.Wpe_);C.at_(null);C.rotate(-Math.PI/2,i,e);C.translate(n+I*.5,A-e-h*.5);C.rd_(d)}CEe_(){return this.TQe_}dEe_(t){const i=this.TQe_,s=Pi(this.KQe_,{});if(t!==void 0){if(typeof t=="number"){ki("Call LShapedWellBoreNode.setViewMode with number is deprecated since 4.0. Use enum ViewMode instead");t=oNt[t]}const i=gNt.YQe_(t);this.TQe_=i["name"];this.KQe_=i["options"]}const e=this.gEe_(this.TQe_),A=typeof e.setOptions=="function";if(e){A&&e.setOptions({horizontal:!1});const t=this.sme_(),i=gNt.cEe_(t.YY_()),s=e.tsi_(i,t.rt_());this.Zpe_.dt_({inputvalues:s["boundsdepths"],outputvalues:s["modellimitsdepths"]});A&&e.setOptions({horizontal:!0});const n=this.eme_(),h=gNt.cEe_(n.YY_()),r=e.tsi_(h,n.rt_());this._pe_.dt_({inputvalues:r["boundsdepths"],outputvalues:r["modellimitsdepths"]});this.ame_();this.vn_();this.td_()}else{this.TQe_=i;this.KQe_=s;ki("IViewModeBuilder implementation is not provided for requested view mode!")}return null}UEe_(t,i){const s=this.tme_();if(s===null)return;const e=i.name,A=i.data;let n=t.bde_(A),h,r;n.HC_(e);n instanceof PMt||n.setData(A);i.YEe_!==void 0&&n.SCe_(i.YEe_);if(NA.Ve_(s)){h=s;r=s}else{h=s["kop"];r=s["eoc"]}const o=this.sme_(),l=this.eme_(),u=n.k_i_(),a=u.Ee_(),g=undefined;if(u.pe_()<=h)o.GY_(n);else if(a>=r)l.GY_(n);else{n.HC_(e);o.GY_(n);n=t.bde_(A,!1,!1);n.HC_(e);i.YEe_!==void 0&&n.SCe_(i.YEe_);n.ht_(n.k_i_());this.Kpe_.GY_(n);n=t.bde_(A,!1,!1);n.HC_(e);i.YEe_!==void 0&&n.SCe_(i.YEe_);l.GY_(n)}}JEe_(){return{tolabel:[{collection:this.sme_(),orientation:fg.ax_},{collection:this.eme_(),orientation:fg.ux_}],doclip:!0}}N_(){const t=super.N_();t["trackwidth"]=this.tUs_;t["deviationdepth"]=this.ime_?Ss(this.ime_,["KOP","EOC"],"LShapedWellBoreNode.getProperties#deviationdepth"):null;t["lshapeaccuracy"]=this.jpe_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["deviationdepth"]!==void 0&&this.zpe_(t["deviationdepth"]);t["trackwidth"]!==void 0&&(this.tUs_=t["trackwidth"]);t["lshapeaccuracy"]!==void 0&&(this.jpe_=t["lshapeaccuracy"]);return this}wme_(t){this.sJt_=Pi(t,this.sJt_);this.wq_();return this}};s=i=t([_s("geotoolkit.schematics.scene.LShapedWellBoreNode")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRIaWdobGlnaHRMYXllcnNJdGVyYXRvciI6IlZRZV8iLCJnZXRIaWdobGlnaHRTaGFwZXMiOiJqUWVfIiwic2V0V2VsbEJvcmVEYXRhIjoiUFFlXyIsImdldERldmlhdGlvbkRlcHRoIjoidG1lXyIsInNldERldmlhdGlvbkRlcHRoIjoienBlXyIsImdldENvbXBvbmVudE5vZGVQcm94eSI6InhDZV8iLCJzZXRTZWxlY3RlZENvbXBvbmVudE5vZGVzIjoic0VlXyIsImNsZWFyQ29tcG9uZW50cyI6IlNFZV8iLCJ1cGRhdGVMYXlvdXQiOiJ3cV8iLCJnZXRWaWV3TW9kZSI6IkNFZV8iLCJzZXRWaWV3TW9kZSI6ImRFZV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");const xNt=20,LNt=function(t,i,s){if(s){const s=i.we_()>t.we_()?i.we_():t.we_(),e=i.Qe_()<t.Qe_()?i.Qe_():t.Qe_();t.ce_(s,t.Ee_(),e,t.pe_())}else{const s=i.Ee_()>t.Ee_()?i.Ee_():t.Ee_(),e=i.pe_()<t.pe_()?i.pe_():t.pe_();t.ce_(t.we_(),s,t.Qe_(),e)}},UNt=function(t,i){let s,e=t,A;while(1){A=e.sd_();A&&!A.isIdentity()&&(s?Gn.multiply(A,s,s):s=A);if(e===i)break;e=e.getParent()}s||(s=new Gn);return s},YNt=function(t){return t===dNt.z_?[dNt.ne_,dNt.X_]:t===dNt.X_?[dNt.ne_,dNt.z_]:[dNt.X_,dNt.z_]},TNt=function(t,i){Array.isArray(t)||(t=[t]);for(let s=0;s<t.length;++s){const e=i.indexOf(t[s]);e>-1&&i.splice(e,1)}},KNt=function(t,i){Array.isArray(t)||(t=[t]);for(let s=0;s<t.length;++s)i.push(t[s])};var HNt=Ci(function(){let i=class t extends bNt{constructor(t){((t=t||{})["connectorShape"]||t["connectorshape"])&&ki("Parameter connectorShape on LabelingStrategyBase is deprecated since 4.0. Use parameter labeling.connectorshape on WellBoreWithLabels");(t["labelShape"]||t["labelshape"])&&ki("Parameter labelShape on LabelingStrategyBase is deprecated since 4.0. Use parameter labeling.labelshape on WellBoreWithLabels");t["componentsfilter"]&&ki("Parameter componentsfilter on LabelingStrategyBase is deprecated since 4.0. "+"Use parameter labeling.labelsfilter on WellBoreWithLabels"+"See geotoolkit/schematics/labeling/LabelsFilter for additional info.");(t["labelInfoProvider"]||t["labelinfoprovider"])&&ki("Parameter labelInfoProvider on LabelingStrategyBase is deprecated since 4.0. "+"Use parameter labeling.labelsfilter on WellBoreWithLabels"+"See geotoolkit/schematics/labeling/LabelsFilter for additional info.");t["labelsfilter"]&&ki("Parameter labelsfilter on LabelingStrategyBase is deprecated since 4.0. Use parameter labeling.labelsfilter on WellBoreWithLabels");super(t=Pi(t,{connectorshape:new CNt,labelshape:new DNt,labelshapehighlighted:new DNt,mode:MNt.Bpe_,defaultlocation:dNt.z_,defaultalignment:$bt.lQe_,connectorlocation:iNt.ne_,locationmap:null,componentsfilter:new fNt},!0));this.Qme_=null;this.Eme_=null;this.pme_=null;if(typeof this.UU_["defaultalignment"]=="number"){ki("Construct LabelingStrategyBase with defaultalignment as number is deprecated since 4.0. Use enum AlignmentType instead");this.UU_["defaultalignment"]=tNt[this.UU_["defaultalignment"]]}}dt_(t){super.dt_(t);if(typeof this.UU_["defaultalignment"]=="number"){ki("Set property LabelingStrategyBase.defaultalignment with number is deprecated since 4.0. Use enum AlignmentType instead");this.UU_["defaultalignment"]=tNt[this.UU_["defaultalignment"]]}return this}setOptions(t){super.setOptions(t);if(typeof this.UU_["defaultalignment"]=="number"){ki("Set option LabelingStrategyBase.defaultalignment with number is deprecated since 4.0. Use enum AlignmentType instead");this.UU_["defaultalignment"]=tNt[this.UU_["defaultalignment"]]}return this}mme_(t,i,s){let e;if(i===dNt.X_){e=this.UU_["defaultalignment"]===$bt.uQe_?s?t.Ee_():t.Qe_():this.UU_["defaultalignment"]===$bt.j_?s?t.De_():t.ye_():s?t.pe_():t.we_();e+=xNt}else if(i===dNt.z_){e=this.UU_["defaultalignment"]===$bt.uQe_?s?t.pe_():t.we_():this.UU_["defaultalignment"]===$bt.j_?s?t.De_():t.ye_():s?t.Ee_():t.Qe_();e-=xNt}return e}yme_(t,i,s,e){let A;s===dNt.X_?A=e?this.Spe_("Top"):this.Spe_("Right"):s===dNt.z_&&(A=e?this.Spe_("Bottom"):this.Spe_("Left"));const n=t.Ji_();let h,r,o;if(A){A=n.rn_(A);LNt(A,this.Dpe_,e);h=this.mme_(A,s,e)}else{A=this.Dme_.rn_(i.getBounds());A=n.rn_(A);LNt(A,this.Dpe_,e);let t=this.Qme_.getBounds();t=n.rn_(t);h=this.Mme_(A,t,s,e)}if(e){r=A.we_();o=A.Qe_()}else{r=A.Ee_();o=A.pe_()}return{vme_:r,bme_:o,value:h}}Npe_(t){this.Eme_=t;return this}Spe_(t){return this.Eme_?this.Eme_[t]:null}bpe_(t,i,s){if(typeof(s=qi(s||{},ds(this.UU_),!0))["defaultlocation"]=="number"){ki("Call LabelingStrategyBase.doLabeling with options.defaultlocation as number is deprecated since 4.0. "+"Use enum LocationType instead");s["defaultlocation"]=BNt[s["defaultlocation"]]}if(s["locationmap"]!=null){let t=!1;for(let i=0;i<s["locationmap"].length;i++){const e=s["locationmap"][i]["location"];if(typeof e=="number"){if(!t){ki("Call LabelingStrategyBase.doLabeling with options.locationmap.location as number is deprecated since 4.0. "+"Use enum LocationType instead");t=!0}s["locationmap"][i]["location"]=BNt[e]}}}this.Qme_=i;if(this.UU_["mode"]===MNt.dpe_&&this.UU_["locationmap"]==null)return[];this.Nme_=this.Qme_.qEe_();let e,A,n=[];if(ys(s["labelsfilter"],RNt)){s["labelsfilter"].reset();s["labelinfo"]=s["labelsfilter"].Rpe_.bind(s["labelsfilter"]);delete s["componentsfilter"]}else{s["labelinfo"]=s["labelinfoprovider"];typeof s["beforelabelingproc"]=="function"&&s["beforelabelingproc"]()}this.HQe_=s["valueviewmode"]==null?lNt.yQe_:s["valueviewmode"];const h=this.Qme_.JEe_(),r=h["tolabel"],o=h["doclip"];for(A=0;A<r.length;++A){const h=r[A]["collection"],l=r[A]["orientation"],u=r[A]["orientation"]==="horizontal";this.Dme_=UNt(h,this.Qme_);const a=t.uS_(this.Dme_);if(o){const t=Xw.u4_(h,a.Ji_());a._R_(t)}if(this.vpe_())this.pme_=a.Ji_().gI_(this.vpe_());else{let s=null;if(t instanceof Ea&&!(i instanceof FNt)){this.pme_=this.Qme_.getParent().rt_();s=t.Ji_().rn_(this.pme_);this.Mpe_(s)}else{this.pme_=h.ot_();s=a.Ji_().rn_(this.pme_);this.Mpe_(s)}}e=this.Sme_(a,dNt.z_,h,l,s);if(e.length>0){this.Gme_=this.yme_(t,h,dNt.z_,u);this.Rme_(a,e,dNt.z_,n,h,u,s)}e=this.Sme_(a,dNt.X_,h,l,s);if(e.length>0){this.Gme_=this.yme_(t,h,dNt.X_,u);this.Rme_(a,e,dNt.X_,n,h,u,s)}e=this.Sme_(a,dNt.VI_,h,l,s);if(e.length>0){this.Gme_=this.yme_(t,h,dNt.VI_,u);this.Rme_(a,e,dNt.VI_,n,h,u,s)}e=this.Sme_(a,dNt.ne_,h,l,s);if(e.length>0){this.Gme_=this.yme_(t,h,dNt.ne_,u);this.Rme_(a,e,dNt.ne_,n,h,u,s)}this.Mpe_(null)}const l=s["labelsfilter"],u=s["labelshape"],a=t.uS_(t.Ji_().rI_());l&&u&&(n=l.kpe_?l.kpe_(n,a,u):l.kme_(n,a,u));const g=l&&l.Zx_?l.Zx_.bind(l):s["nextlabel"];if(this.gpe_===!0||s["legendmode"])for(A=0;A<n.length;++A){const t=undefined;n[A].dt_({nodeinfo:g()})}return n}$x_(t,i){let s;s=t===dNt.X_?this.UU_["defaultalignment"]===$bt.uQe_?i?dA.le_:dA.oe_:this.UU_["defaultalignment"]===$bt.j_?dA.ne_:i?dA.re_:dA.he_:t===dNt.z_?this.UU_["defaultalignment"]===$bt.uQe_?i?dA.re_:dA.he_:this.UU_["defaultalignment"]===$bt.j_?dA.ne_:i?dA.le_:dA.oe_:dA.ne_;return s}Mme_(t,i,s,e){let A,n;if(s===dNt.X_){n=e?new mA(i.we_(),i.Ee_(),i.Qe_(),t.Ee_()):new mA(t.Qe_(),i.Ee_(),i.Qe_(),i.pe_());A=this.UU_["defaultalignment"]===$bt.uQe_?e?n.Ee_():n.Qe_():this.UU_["defaultalignment"]===$bt.j_?e?n.De_():n.ye_():e?n.pe_():n.we_();A+=xNt}else if(s===dNt.z_){n=e?new mA(i.we_(),t.pe_(),i.Qe_(),i.pe_()):new mA(i.we_(),i.Ee_(),t.we_(),i.pe_());A=this.UU_["defaultalignment"]===$bt.uQe_?e?n.pe_():n.we_():this.UU_["defaultalignment"]===$bt.j_?e?n.De_():n.ye_():e?n.Ee_():n.Qe_();A-=xNt}else A=this.HQe_===lNt.yQe_?e?t.De_():t.ye_():this.HQe_===lNt.MQe_?e?t.Ee_():t.we_():e?t.pe_():t.Qe_();return A}Fme_(t,i){return this.UU_["connectorlocation"]===iNt.ne_?t?i.ye_():i.De_():this.UU_["connectorlocation"]===iNt.aQe_?t?i.we_():i.Ee_():t?i.Qe_():i.pe_()}Sme_(t,i,s,e,A){if(s.qY_()<1)return[];A["componentsfilter"]&&A["componentsfilter"].reset({activecomponentsarea:this.Dpe_,activecomponentsareamodel:this.pme_,labelinfoprovider:A["labelinfoprovider"],locationtype:i,viewmode:this.Qme_.CEe_(),orientation:e});const n=this.xme_(i,A),h=[];s.YY_().forEach((t=>{t instanceof kMt&&n.indexOf(t.dn_())>-1&&h.push(t)}));const r=[];h.forEach((function(t){t instanceof Cvt?t.EBe_().YY_().forEach((t=>{r.push(t)})):r.push(t)}));const o=Au.cN_(r);let l=A["componentsfilter"]?A["componentsfilter"].VEe_(o,t):A["labelsfilter"].Gpe_(o,t,{activecomponentsarea:this.Dpe_,activecomponentsareamodel:this.pme_,orientation:e}),u=Au.toArray(l);const a=this.Lme_(i,o.reset());if(a.length>0){const t=[];a.forEach((function(i){u.indexOf(i)<0&&t.push(i)}));t.length>0&&(u=u.concat(t))}if(u.length>0){const t=this.Lme_(YNt(i),o.reset());let s;while(1){const i=t.shift();if(!i)break;s=u.indexOf(i);s>-1&&u.splice(s,1)}}l=Au.cN_(u);l=A["componentsfilter"]?A["componentsfilter"].VEe_(l,t):A["labelsfilter"].Gpe_(l,t,{activecomponentsarea:this.Dpe_,activecomponentsareamodel:this.pme_,orientation:e});const g=[],c=t.Ji_(),I=e===fg.ux_,f=new mA(this.Dpe_),C=c.gI_(f);while(l.Hs_()){const t=l.next(),i=new mA(t.getBounds());if(!i.$s_(C))continue;i.intersect(C);const s=c.rn_(i);if(I){const t=NA.AA_(s.we_(),4),i=NA.AA_(s.Qe_(),4);s.ce_(t,s.Ee_(),i,s.pe_())}else{const t=NA.AA_(s.Ee_(),4),i=NA.AA_(s.pe_(),4);s.ce_(s.we_(),t,s.Qe_(),i)}const e=this.Fme_(I,s);g.push({Node:t,wT_:s,Ume_:e})}g.sort(((t,i)=>t.Ume_-i.Ume_));return g}Lme_(t,i){const s=this.UU_["locationmap"];if(!s||s.length===0)return[];Array.isArray(t)||(t=[t]);const e=[];let A,n;for(let h=0;h<s.length;++h){A=s[h];if(t.indexOf(A["location"])>-1){n=Array.isArray(A["id"])?A["id"]:[A["id"]];i.reset();while(i.Hs_()){const t=i.next();t instanceof kMt&&n.indexOf(t.XC_())>-1&&e.push(t)}}}return e}xme_(t,i){const s=i["locationmap"];if(!s||s.length===0)return t===i["defaultlocation"]?this.Nme_.slice():[];let e,A;if(t===i["defaultlocation"]){e=this.Nme_.slice();for(let i=0;i<s.length;++i){A=s[i];A["location"]!==t&&A["component"]&&TNt(A["component"],e)}}else{e=[];for(let i=0;i<s.length;++i){A=s[i];A["location"]===t&&A["component"]&&KNt(A["component"],e)}}return e}};i=t([_s("geotoolkit.schematics.labeling.LabelingStrategyBase")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwic2V0TGFiZWxzQm91bmRzIjoiTnBlXyIsImdldExhYmVsc0JvdW5kcyI6IlNwZV8iLCJkb0xhYmVsaW5nIjoiYnBlXyIsImNhbGN1bGF0ZUxhYmVsQW5jaG9yVHlwZSI6IiR4XyJ9fX0g");const qNt=40,JNt=new xA(15,15),PNt=new lA,VNt=function(t,i,s){for(let e=0;e<s.length;++e){const A=s[e];if(Math.abs(A-t)<=i)return e}return-1},ONt=function(t,i){const s=i.uG_&&i.uG_();if(!s)return;let e=0,A=0;switch(t["anchortype"]){case dA.le_:A=jA.Ah_(s.Ee_());break;case dA.re_:A=-jA.Ah_(s.pe_());break;case dA.oe_:e=-jA.Ah_(s.Qe_());break;case dA.he_:e=jA.Ah_(s.we_());break}t["xlabel"]+=e;t["ylabel"]+=A},WNt=function(t,i,s){return(s.y-t.y)*(i.x-t.x)>(i.y-t.y)*(s.x-t.x)},zNt=function(t,i,s,e){return WNt(t,s,e)!==WNt(i,s,e)&&WNt(t,i,s)!==WNt(t,i,e)},XNt=function(t,i){return i<0?t:Math.min(t,i)},jNt=function(t,i,s){PNt.vs_(i,s);return t.transformPoint(PNt)},ZNt=function(t,i){return Math.abs(t.x-i.x)>=JNt.Ie_()-.5||Math.abs(t.y-i.y)>=JNt.Ts_()-.5},_Nt=function(t,i){return Math.abs(t.x-i.x)>=JNt.Ie_()-.5&&Math.abs(t.y-i.y)>=JNt.Ts_()-.5},$Nt=function(t){const i=t.length-1,s=t[i-1].getX(),e=t[i].getX(),A=t[i-1].getY(),n=t[i].getY();return Math.abs(s-e)>Math.abs(A-n)?e>s?dA.he_:dA.oe_:n>A?e>s?dA.ie_:dA.ee_:e>s?dA.se_:dA.Ae_},tSt=function(t,i,s,e,A,n){const h=n.Zj_?[n.bounds.Qe_(),s.Qe_()+A]:[n.bounds.we_(),s.we_()-A],r=h.map((s=>jNt(t,s,i)));r[0].bs_(r[1])&&(r[1].x=n.Zj_?Math.max(r[1].x,r[0].x+1):Math.min(r[1].x,r[0].x-1));if(!n.gS_)return{depth:i,pts:r};for(let o=0;o<e.length;o++){const l=e[o];if(zNt(l.pts[0],l.pts[1],r[0],r[1])||!ZNt(l.pts[1],r[1])){const o=i>l.depth?1:-1;if(n.dir!=null&&n.dir!==o){if(n.Zj_){n.dir=null;n.Zj_=!1;return tSt(t,n.depth,s,e,A,n)}return{depth:i,pts:r}}n.dir=o;const u=o>0?n.bounds.pe_():n.bounds.Ee_(),a=jNt(t,h[1],u);if(ZNt(l.pts[1],a)&&!_Nt(l.pts[1],r[1])){const h=Math.abs(r[1].x-l.pts[1].x),o=Math.abs(r[1].y-l.pts[1].y),g=Math.abs(a.x-l.pts[1].x),c=Math.abs(a.y-l.pts[1].y),I=Math.min(h>=JNt.Ie_()?1/0:(JNt.Ie_()-g)/(h-g),o>=JNt.Ts_()?1/0:(JNt.Ts_()-c)/(o-c)),f=NA.clamp(I*i+(1-I)*u,n.bounds.Ee_(),n.bounds.pe_());return tSt(t,f,s,e,A,n)}if(n.Zj_){n.dir=null;n.Zj_=!1;return tSt(t,n.depth,s,e,A,n)}const g=jNt(t,h[0],u);let c=1/0;if(g.getX()!==a.getX()){c=XNt(c,(JNt.Ie_()+l.pts[1].getX()-a.getX())/(a.getX()-g.getX()));c=XNt(c,(-JNt.Ie_()+l.pts[1].getX()-a.getX())/(a.getX()-g.getX()))}if(g.getY()!==a.getY()){c=XNt(c,(JNt.Ts_()+l.pts[1].getY()-a.getY())/(a.getY()-g.getY()));c=XNt(c,(-JNt.Ts_()+l.pts[1].getY()-a.getY())/(a.getY()-g.getY()))}c<=1&&a.translate(c*(a.getX()-g.getX()),c*(a.getY()-g.getY()));return{depth:u,pts:[g,a]}}}return{depth:i,pts:r}};function iSt(t,i,s){const e=[];let A=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;for(let i=0;i<t.length;++i){const s=t[i],e=s.Ee_(),h=s.pe_();e>A&&(A=e);h<n&&(n=h)}i>A&&(A=i);s<n&&(n=s);const h=(n-A)/t.length;for(let i=0,s=A+.5*h;i<t.length;++i,s+=h)e[i]=s;return e}var sSt=function(){let i=class t extends HNt{constructor(t){ki("geotoolkit.schematics.labeling.DefaultDeviatedStrategy is deprecated since 4.0. Use geotoolkit.schematics.labeling.VersatileLabelingStrategy instead.");super(t=Pi(t,{deltapx:3,equallyspaced:!1,anchorvaluefixed:!1,gap:0,labelshape:new DNt({painter:tp}),labelshapehighlighted:new DNt({painter:tp})},!0))}Rme_(t,i,s,e,A,n,h){if(!(t instanceof ogt))return;const r=h["mode"]===MNt.wpe_||s===dNt.ne_||s===dNt.VI_,o=A.rt_(),l=t.Ji_().rn_(o),u=t.Ji_();t.dI_(Gn.JI_);let a=h["anchorvaluefixed"],g=h["equallyspaced"];if(h["mode"]===MNt.wpe_){a=!0;g=!1}if(h["mode"]===MNt.Qpe_){a=!1;g=!0}const c=[],I=[],f=[];let C,d;for(C=0;C<i.length;C++){const t=i[C];let s=VNt(t.Ume_,h["deltapx"],f);if(s<0){s=f.length;f[s]=t.Ume_;c[s]=[];I[s]=[]}c[s].push(t.Node);I[s].push(t.wT_)}const B=this.Gme_.vme_,w=this.Gme_.bme_,Q=Math.min(jNt(t,l.we_(),B).getY(),jNt(t,l.Qe_(),B).getY()),E=Math.max(jNt(t,l.we_(),w).getY(),jNt(t,l.Qe_(),w).getY());let p=B;const m=[],y=h["labelinfo"];let D;const M=f.length,v=[];for(C=0;C<M;C++){const i=I[C];if(c[C].length>1){const t=undefined;D=iSt(i,p,C===M-1?w:I[C+1][0].De_())}else D=[i[0].De_()];for(d=0;d<c[C].length;d++)v.push({Zj_:s!==dNt.z_,gS_:s===dNt.VI_,node:c[C][d],pt:new lA,x:[],y:[],Yme_:dA.W_,bounds:i[d],depth:D[d],height:lA.Gs_(jNt(t,i[d].ye_(),i[d].Ee_()),jNt(t,i[d].ye_(),i[d].pe_()))});p=D[D.length-1]}s===dNt.VI_&&v.sort(((t,i)=>t.height-i.height));let b=0;const N=h["labelshape"].cpe_&&h["labelshape"].cpe_();for(C=0;C<v.length;C++){const e=v[C],A=tSt(t,e.depth,l,m,r?h["gap"]:0,e);if(a)if(r){e.x=[A.pts[0].getX(),A.pts[1].getX()];e.y=[A.pts[0].getY(),A.pts[1].getY()];e.depth=A.depth;if(N){const i=lA.Ss_(A.pts[0],A.pts[1]),s=h["labelshape"].getBoundingBox(t.Ji_()).Ie_()/2;e.pt=new lA(A.pts[0].getX()+(A.pts[1].getX()-A.pts[0].getX())*(i+s)/i,A.pts[0].getY()+(A.pts[1].getY()-A.pts[0].getY())*(i+s)/i)}else e.pt=A.pts[1];e.Yme_=N?dA.ne_:$Nt(A.pts);m.push(A)}else{const s=g?Q+(E-Q)/(i.length+1)*++b:A.pts[1].y;if(e.Zj_){e.pt=jNt(t,l.Qe_(),l.pe_());e.x=[A.pts[0].x,A.pts[1].x,e.pt.x,e.pt.x+qNt];e.y=[A.pts[0].y,A.pts[1].y,A.pts[1].y,s];e.Yme_=dA.he_}else{e.pt=jNt(t,l.we_(),l.Ee_());e.x=[A.pts[0].x,A.pts[1].x,e.pt.x,e.pt.x-qNt];e.y=[A.pts[0].y,A.pts[1].y,A.pts[1].y,s];e.Yme_=dA.oe_}e.pt.vs_(e.x[3],e.y[3])}else{let i;s===dNt.ne_?i=this.Gme_.value:s===dNt.X_?i=e.bounds.Qe_():s===dNt.z_&&(i=e.bounds.we_());e.Yme_=N?dA.ne_:$Nt(A.pts);e.pt=jNt(t,i,e.depth)}}s===dNt.VI_&&v.sort((function(t,i){return t.depth-i.depth}));for(C=0;C<v.length;C++){const t=v[C],i=new wNt({node:t.node,nodeinfo:y(t.node),anchortype:t.Yme_,xlabel:t.pt.getX(),ylabel:t.pt.getY(),xconnector:t.x,yconnector:t.y});ONt(i.N_(),h["labelshape"]);e.push(i)}t.dI_(u)}};i=t([_s("geotoolkit.schematics.labeling.DefaultDeviatedStrategy")],i);return i}();function eSt(t,i,s){const e=[];let A=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;for(let i=0;i<t.length;++i){const s=t[i],e=s.Ee_(),h=s.pe_();e>A&&(A=e);h<n&&(n=h)}i>A&&(A=i);s<n&&(n=s);const h=(n-A)/t.length;for(let i=0,s=A+.5*h;i<t.length;++i,s+=h)e[i]=s;return e}var ASt=function(){let i=class t extends HNt{constructor(t){super(t=Pi(t,{equallyspaced:!0,anchorvaluefixed:!0,deltapx:3,gap:0},!0));this.fEs_=[]}Tme_(t,i,s){const e=t.if_().rn_(t.rt_());if(!e||e.isEmpty())return null;let A;A=i===dNt.X_?s?e.Ee_():e.Qe_():i===dNt.z_?s?e.pe_():e.we_():s?e.De_():e.ye_();return A}Kme_(t){for(let i=0;i<this.fEs_.length;++i){const s=this.fEs_[i];if(Math.abs(s-t)<=this.UU_["deltapx"])return i}return-1}Rme_(t,i,s,e,A,n,h){if(t instanceof ogt){sSt.prototype.Rme_.call(this,t,i,s,e,A,n,h);return}h=qi(h||{},ds(this.UU_),!0);A||(A=this.Qme_);const r=h["labelshape"];this.fEs_=[];const o=[],l=[],u=[],a=new Gn;let g,c,I,f,C,d,B,w,Q,E;const p=i.length;for(g=0;g<p;++g){const t=i[g];c=t.Node;I=t.wT_;f=t.Ume_;d=t.Hme_;B=this.Kme_(f);if(B<0){B=this.fEs_.length;this.fEs_[B]=f;o[B]=[];l[B]=[];u[B]=[]}o[B].push(c);l[B].push(I);u[B].push(d)}const m=this.Gme_.vme_,y=this.Gme_.bme_,D=(y-m)/p,M=new mA(A.rt_()),v=t.Ji_().rn_(M);let b;s===dNt.X_?b=n?v.Ee_():v.Qe_():s===dNt.z_&&(b=n?v.pe_():v.we_());const N=this.$x_(s,n),S=h["anchorvaluefixed"]&&h["equallyspaced"];let G,R;h["anchorvaluefixed"]&&(G=this.Gme_.value);S&&(R=m+.5*D);let k=m;const F=h["labelinfo"];let x,L,U,Y;const T=this.fEs_.length;for(B=0;B<T;++B){w=o[B];Q=l[B];E=u[B];if(w.length===1){c=w[0];I=Q[0];d=E[0];k=n?I.ye_():I.De_();S||(R=k);C=F(c,d);h["anchorvaluefixed"]||(G=this.Tme_(c,s,n));Y=new wNt({node:c,nodeinfo:C,anchortype:N,xlabel:n?R:G,ylabel:n?G:R});r.cQe_(Y);x=r.getBoundingBox(a,n);if(!x)continue;if(s===dNt.X_){L=n?[I.Ee_(),b,x.pe_()]:[I.Qe_(),b,x.we_()];U=[k,k,R]}else if(s===dNt.z_){L=n?[I.pe_(),b,x.Ee_()]:[I.we_(),b,x.Qe_()];U=[k,k,R]}Y.dt_({xconnector:n?U:L,yconnector:n?L:U});e.push(Y);S&&(R+=D)}else{S||(R=k);let t;if(B===T-1)t=y;else{const i=l[B+1];t=n?i[0].ye_():i[0].De_()}const i=eSt(Q,k,t);for(let t=0;t<w.length;++t){c=w[t];I=Q[t];d=E[t];C=F(c,d);h["anchorvaluefixed"]||(G=this.Tme_(c,s,n));Y=new wNt({node:c,nodeinfo:C,anchortype:N,xlabel:n?R:G,ylabel:n?G:R,xconnector:n?U:L,yconnector:n?L:U});r.cQe_(Y);x=r.getBoundingBox(a,n);if(x){S||(R=i[t]);if(s===dNt.X_)if(n)L=[I.Ee_(),b,x.pe_()];else{L=[I.Qe_(),b,x.we_()];U=[i[t],i[t],R]}else if(s===dNt.z_)if(n)L=[I.pe_(),b,x.Ee_()];else{L=[I.we_(),b,x.Qe_()];U=[i[t],i[t],R]}Y.dt_({xconnector:n?U:L,yconnector:n?L:U});e.push(Y);S&&(R+=D)}}k=i[i.length-1]}}}};i=t([_s("geotoolkit.schematics.labeling.DefaultLabelingStrategy")],i);return i}();var nSt=Ci(function(){var i;let s=i=class t extends mNt{constructor(t){ki("geotoolkit.schematics.labeling.DefaultLabelShape is deprecated. Use geotoolkit.schematics.labeling.SymbolLabelShape instead.");super(t=Pi(t,{padding:{top:"2px",bottom:"2px",left:"2px",right:"2px"},labelshape:{linestyle:null,fillstyle:null}},!0));this.hpe_=new dp;this.hpe_.rB_(t["labelshape"]["linestyle"]||new hl("black",1));this.hpe_.iQ_(t["labelshape"]["fillstyle"]||new wr("rgba(255,237,134,1)"));t["labeltextstyle"]!==void 0&&this.rpe_.g_(t["labeltextstyle"]);this.GY_([this.hpe_,this.rpe_]);this.Iq_(t["padding"])}clone(){return Object.getPrototypeOf(this)!==i.prototype?Wi(this):(new i).b_(this,!0)}b_(t,i){i===!0&&super.b_(t,i);t.Aq_!=null&&(this.Aq_=t.Aq_.clone());return this}N_(){return{labelshape:{linestyle:this.qme_().gt_(),fillstyle:this.qme_().ct_()},padding:this.uG_(),labeltextstyle:this.lpe_().FE_()}}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);if(t["labelshape"]!==void 0){t["labelshape"]["linestyle"]!==void 0&&this.hpe_.rB_(t["labelshape"]["linestyle"]);t["labelshape"]["fillstyle"]!==void 0&&this.hpe_.iQ_(t["labelshape"]["fillstyle"])}t["padding"]!==void 0&&this.Iq_(t["padding"]);t["labeltextstyle"]!==void 0&&this.lpe_().g_(t["labeltextstyle"]);return this}qme_(){return this.hpe_}cQe_(t){this.gQe_=t;const i=t.N_();this.rpe_.$I_(i["xlabel"]);this.rpe_.tf_(i["ylabel"]);this.rpe_.SE_(i["anchortype"]);this.rpe_.a_(i["nodeinfo"]);return this}render(t){const i=this.YCe_();if(i==null||i.N_()["nodeinfo"]==null||i.N_()["nodeinfo"].length===0)return;const s=i.N_();let e,A;const n=this.rpe_;typeof this.ope_=="function"&&(A=this.ope_({node:s["node"],text:n.SG_()}));if(A&&A["textstyle"]){const h=A["textstyle"];h instanceof qa?n.g_(h):ki("DefaultLabelShape stylesHandler has to return object with field textstyle");i.dt_({xlabel:n.uR_(),ylabel:n.aR_(),anchortype:n.GE_()});e=this.getBoundingBox(t.Ji_());if(e==null)return;const r=s["xconnector"];r[r.length-1]=Math.abs(r[r.length-1]-e.we_())<Math.abs(r[r.length-1]-e.Qe_())?e.we_():e.Qe_();s["yconnector"][s["yconnector"].length-1]=e.De_()}else e=this.getBoundingBox(t.Ji_());if(e==null)return;this.hpe_.ce_(e);const h=this.hpe_;if(A&&A.hasOwnProperty("fillstyle")){const t=A["fillstyle"];t instanceof wr||t==null?h.iQ_(t):ki("DefaultLabelShape stylesHandler has to return object with field fillstyle")}if(A&&A.hasOwnProperty("linestyle")){const t=A["linestyle"];t instanceof hl||t==null?h.rB_(t):ki("DefaultLabelShape stylesHandler has to return object with field linestyle")}h.render(t);n.render(t)}getBoundingBox(t,i){const s=undefined;if(this.YCe_()==null)return;let e=this.rpe_.BR_(t);if(this.Aq_){let i=t?t.rn_(e):e;i=_l.Cb_(this.Aq_,i);e=t?t.rI_().rn_(i):e}return e}uG_(){return this.Aq_}Iq_(t){this.Aq_=t?_l.Wi_(t):null;return this}};s=i=t([_s("geotoolkit.schematics.labeling.DefaultLabelShape")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJiXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8iLCJnZXRMYWJlbFJlY3RhbmdsZSI6InFtZV8iLCJzZXRMYWJlbERhdGEiOiJjUWVfIiwiZ2V0UGFkZGluZ1N0eWxlIjoidUdfIiwic2V0UGFkZGluZ1N0eWxlIjoiSXFfIn19fSAg");var hSt=Ci(function(){let i=class t{constructor(t){ki("geotoolkit.schematics.labeling.FunctionComponentsFilter is deprecated since 4.0. Use geotoolkit.schematics.labeling.LabelsFilter instead.");this._f=t;this.UU_={}}VEe_(t,i){const s=[];t.reset();while(t.Hs_()){const e=t.next();if(!(e instanceof kMt))continue;const A=undefined;this.UU_["labelinfoprovider"](e)!=null&&(this._f(e,i,this.UU_)&&s.push(e))}return Au.cN_(s)}reset(t){if(typeof t["locationtype"]=="number"){ki("Call FunctionComponentFilter.reset with options.locationtype is deprecated since 4.0. Use enum "+"LocationType instead");t["locationtype"]=BNt[t["locationtype"]]}this.UU_["locationtype"]=t["locationtype"];this.UU_["labelinfoprovider"]=t["labelinfoprovider"];return this}};i=t([_s("geotoolkit.schematics.labeling.FunctionComponentsFilter"),Zs(cNt)],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJDb21wb25lbnRzIjoiVkVlXyJ9fSwiZ2V0Q2xhc3NOYW1lIjoiRF8ifSAg");var rSt=Ci(function(){var t=class{};t.prototype.kme_=Zi;t.prototype.reset=Zi;return t}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJMYWJlbHMiOiJrbWVfIn19fSAg");var oSt=function(){let i=class t extends sNt{constructor(t){super(t);this.Gqi_=new Rd}render(t){if(!this.$C_())return;const i=this.YCe_().N_();if(i==null)return;const s=i["xconnector"],e=i["yconnector"];if(!(!s||s.length<2||!e||e.length<2)){this.Gqi_.zA_({from:{x:s[0],y:e[0]},to:{x:s[s.length-1],y:e[e.length-1]}});this.Gqi_.rB_(this.gt_());this.Gqi_.render(t)}}};i=t([_s("geotoolkit.schematics.labeling.LineConnector")],i);return i}();var lSt=Ci(function(){let i=class t{constructor(t){ki("geotoolkit.schematics.labeling.NoLabelOverlapFilter is deprecated since 4.0. Use geotoolkit.schematics.labeling.LabelsFilter instead.");t=t||{};this.OEt_=t["weight"]||function(t){return-t.N_()["nodeinfo"].length}}kme_(t,i,s){const e=(t=t.slice()).slice();t.sort(((t,i)=>this.OEt_(t)-this.OEt_(i)));const A=i.Ji_();for(let i=0;i<t.length;i++){const n=s.cQe_(t[i]).getBoundingBox(A);t[i].Ape_(n);for(let s=0;s<i;s++){const A=t[s].npe_();if(n.$s_(A)){const s=t.splice(i,1);e.splice(e.indexOf(s[0]),1);i--;break}}}return e}reset(){return this}};i=t([_s("geotoolkit.schematics.labeling.NoLabelOverlapFilter"),Zs(rSt)],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJMYWJlbHMiOiJrbWVfIn19LCJnZXRDbGFzc05hbWUiOiJEXyJ9");var uSt=Ci(function(){let i=class t{constructor(t,i){this.Jme_=t;this.Pme_=0;this.H2_=!1;this.Vme_=i;this.tPs_=new fA(this.getValue()-this.Vme_/2,this.getValue()+this.Vme_/2)}getValue(){return this.Jme_.Ume_}b2_(){return this.tPs_}N2_(){}G2_(){return 0}B$_(){return this.Pme_}d$_(t){this.Pme_=t;return this}S2_(){return this.H2_}R2_(t){this.H2_=t}};i=t([Zs(cw)],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRMYXlvdXRSYW5nZSI6ImIyXyIsInVwZGF0ZUxheW91dFJhbmdlIjoiTjJfIiwiZ2V0T2Zmc2V0IjoiQiRfIiwic2V0T2Zmc2V0IjoiZCRfIiwiZ2V0T3ZlcmxhcHBlZCI6IlMyXyIsImdldERlcHRoIjoiRzJfIiwic2V0T3ZlcmxhcHBlZCI6IlIyXyJ9fX0g"),aSt=Ci(function(){let i=class t extends HNt{constructor(t){super(t=qi(t,{gap:4,layout1d:new dw,equallyspaced:!0,anchorvaluefixed:!0,deltapx:3},!0));this.Ome_=t["layout1d"];const i=t["gap"];if(typeof i=="number")this.Wme_=this.zme_=i;else{this.zme_=typeof i["labels"]=="number"?i["labels"]:4;this.Wme_=typeof i["connectors"]=="number"?i["connectors"]:4}this.q2_=new fA;this.Xme_=new wNt}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["layout1d"]!==void 0&&(this.Ome_=t["layout1d"]);if(t["gap"]!==void 0){const i=t["gap"];if(typeof i=="number")this.Wme_=this.zme_=i;else{typeof i["labels"]=="number"&&(this.zme_=i["labels"]);typeof i["connectors"]=="number"&&(this.Wme_=i["connectors"])}}return this}N_(){const t=super.N_();t["layout1d"]=this.Ome_;this.Wme_===this.zme_?t["gap"]=this.zme_:t["gap"]={labels:this.zme_,connectors:this.Wme_};return t}jme_(){return this.Ome_}Zme_(t){this.Ome_=t;return this}_me_(t,i,s){let e,A;const n=[];for(e=0;e<i.length;++e){A=i[e];const t=new uSt(A,this.Wme_);n.push(t)}const h=new hu(n);s?this.q2_._s_(this.Dpe_.we_(),this.Dpe_.Qe_()):this.q2_._s_(this.Dpe_.Ee_(),this.Dpe_.pe_());this.Ome_.eT_(h,t,this.q2_);for(e=0;e<i.length;++e){A=i[e];A.$me_=A.Ume_+n[e].B$_()}}tye_(t,i,s,e,A,n){const h=this.Gme_.vme_,r=this.Gme_.bme_,o=i.length;let l,u;const a=n["labelshape"];this.Xme_.dt_({anchortype:dA.ne_,xlabel:0,ylabel:0});a.cQe_(this.Xme_);const g=n["labelinfoprovider"],c=[];for(l=0;l<o;++l){u=i[l];this.Xme_.dt_({node:u.Node});const t=g(u.Node,u.Hme_);a.lpe_().a_(t);const s=a.getBoundingBox(Gn.JI_),e=A?s.Ie_()+this.zme_:s.Ts_()+this.zme_,n=new uSt(u,e);c.push(n)}const I=new hu(c);this.q2_._s_(h,r);this.Ome_.eT_(I,t,this.q2_);for(l=0;l<o;++l){u=i[l];u.iye_=u.Ume_+c[l].B$_()}}Rme_(t,i,s,e,A,n,h){if(t instanceof ogt){sSt.prototype.Rme_.call(this,t,i,s,e,A,n,h);return}A||(A=this.Qme_);const r=h["labelshape"],o=new mA(A.rt_()),l=t.Ji_().rn_(o);let u;s===dNt.X_?u=n?l.Ee_():l.Qe_():s===dNt.z_&&(u=n?l.pe_():l.we_());const a=this.$x_(s,n),g=this.Gme_.value,c=h["labelinfo"],I=i.length;let f,C,d,B,w,Q,E,p,m,y,D;this.tye_(t,i,s,A,n,h);this._me_(t,i,n);for(f=0;f<I;++f){const t=i[f];C=t.Node;d=t.wT_;w=t.Hme_;y=t.iye_;D=t.$me_!==void 0?t.$me_:t.Ume_;B=c(C,w);this.Xme_.dt_({nodeinfo:B,anchortype:a,node:t.Node,xlabel:n?y:g,ylabel:n?g:y});r.cQe_(this.Xme_);Q=r.getBoundingBox(Gn.JI_,n);if(Q){if(s===dNt.X_){E=n?[d.Ee_(),u,Q.pe_()]:[d.Qe_(),u,Q.we_()];p=[D,D,y]}else if(s===dNt.z_){E=n?[d.pe_(),u,Q.Ee_()]:[d.we_(),u,Q.Qe_()];p=[D,D,y]}m=new wNt({node:C,nodeinfo:B,anchortype:a,xlabel:n?y:g,ylabel:n?g:y,xconnector:n?p:E,yconnector:n?E:p});e.push(m)}}}};i=t([_s("geotoolkit.schematics.labeling.VersatileLabelingStrategy")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwiZ2V0TGF5b3V0MUQiOiJqbWVfIiwic2V0TGF5b3V0MUQiOiJabWVfIn19fSAg");var gSt=Ci(function(){let i=class t extends ASt{constructor(t){super(t=Pi(t,{defaultlocation:dNt.X_,defaultalignment:$bt.lQe_,connectorshape:null,equallyspaced:!1,anchorvaluefixed:!1,anchorvalueshiftmult:1,columns:3},!0));this.sye_=new mA(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)}static get eye_(){return this.Aye_}nye_(){return this.UU_["columns"]}hye_(t){if(t!==1&&t!==2&&t!==3)throw new Error("Invalid layoutColumnNumber value");this.UU_["columns"]=t;return this}bpe_(t,i,s){if(typeof s["labelalignment"]=="number"){ki("Call XYLabelingStrategy.doLabeling with options.labelalignment as number is deprecated since 4.0."+"Use enum AlignmentType instead");s["labelalignment"]=tNt[s["labelalignment"]]}return super.bpe_(t,i,s)}Rme_(t,i,s,e,A,n,h){super.Rme_(t,i,s,e,A,n,h);this.UU_["columns"]!==1&&(this.UU_["columns"]===2||this.UU_["columns"]===3&&e.length<3?this.rye_(e,t,s,n,h):this.UU_["columns"]===3&&this.oye_(e,t,s,n,h))}rye_(t,i,s,e,A){const n=A["labelshape"];n.cQe_(t[0]);let h=n.getBoundingBox(Gn.JI_,e),r=0;for(let i=1;i<t.length;++i){const o=t[i].N_();n.cQe_(t[i]);const l=n.getBoundingBox(Gn.JI_,e);if(!l)continue;const u=this.lye_(r,h,l,s,e);if(u!==0){e?t[i].dt_({ylabel:o["ylabel"]+u}):t[i].dt_({xlabel:o["xlabel"]+u});if(A["labelalignment"]===$bt.uQe_)throw new Error("The case is not implemented: adjust xConnector when AlignmentType.Outer");if(e){o["yconnector"].push(o["yconnector"][2]+u);o["xconnector"].push(o["xconnector"][2])}else{o["xconnector"].push(o["xconnector"][2]+u);o["yconnector"].push(o["yconnector"][2])}e?l.setY(l.getY()+u):l.setX(l.getX()+u)}r=u;h=l}return t}lye_(t,i,s,e,A){let n=0;const h=this.UU_["anchorvalueshiftmult"]*(A?i.Ts_():i.Ie_());t===0&&s.$s_(i)&&(n=e===dNt.z_&&this.UU_["labelalignment"]===$bt.lQe_||e===dNt.X_&&this.UU_["labelalignment"]===$bt.uQe_?A?h:-h:e===dNt.z_&&this.UU_["labelalignment"]===$bt.uQe_||e===dNt.X_&&this.UU_["labelalignment"]===$bt.lQe_?A?-h:h:e===dNt.z_?A?h:-h:A?-h:h);return n}oye_(t,i,s,e,A){const n=A["labelshape"];let h,r,o;n.cQe_(t[0]);let l=n.getBoundingBox(Gn.JI_,e),u=0;n.cQe_(t[1]);let a=n.getBoundingBox(Gn.JI_,e),g=this.lye_(u,l,a,s,e);if(g!==0){const i=t[1].N_();e?t[1].dt_({ylabel:i["ylabel"]+g}):t[1].dt_({xlabel:i["xlabel"]+g});if(A["labelalignment"]===$bt.uQe_)throw new Error("The case is not implemented: adjust xConnector when AlignmentType.Outer");if(e){i["yconnector"].push(i["yconnector"][2]+g);i["xconnector"].push(i["xconnector"][2])}else{i["xconnector"].push(i["xconnector"][2]+g);i["yconnector"].push(i["yconnector"][2])}a.setX(a.getX()+g)}for(let i=2;i<t.length;++i){h=t[i].N_();n.cQe_(t[i]);r=n.getBoundingBox(Gn.JI_,e);if(r){o=this.uye_(u,l,g,a,r,s,e);if(o!==0){e?t[i].dt_({ylabel:h["ylabel"]+o}):t[i].dt_({xlabel:h["xlabel"]+o});if(A["labelalignment"]===$bt.uQe_)throw new Error("The case is not implemented: adjust xConnector when AlignmentType.Outer");if(e){h["yconnector"].push(h["yconnector"][2]+o);h["xconnector"].push(h["xconnector"][2])}else{h["xconnector"].push(h["xconnector"][2]+o);h["yconnector"].push(h["yconnector"][2])}r.setX(r.getX()+o)}u=g;l=a;g=o;a=r}}return t}uye_(t,i,s,e,A,n,h){const r=this.lye_(0,e,this.sye_,n,h);let o=0;s===0?A.$s_(e)&&(o=r):t===0&&A.$s_(i)&&(o=2*r);return o}};i.Aye_=3;i=t([_s("geotoolkit.schematics.labeling.XYLabelingStrategy")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRMYXlvdXRDb2x1bW5OdW1iZXIiOiJueWVfIiwic2V0TGF5b3V0Q29sdW1uTnVtYmVyIjoiaHllXyIsImRvTGFiZWxpbmciOiJicGVfIn19LCJEZWZhdWx0Q29sdW1uTnVtYmVyIjoiZXllXyJ9");var cSt=Ci(function(){let i=class t extends tdt{constructor(t){super(t);this.aye_=()=>{this.notify(hNt.QQe_,this);this.td_()};this.gye_=()=>{this.notify(hNt.EQe_,this);this.td_()};t&&t["data"]&&this.setData(t["data"],t["options"])}setData(t,i){if(this.JQe_){this.aye_&&this.Qme_.off(hNt.QQe_,this.aye_);this.gye_&&this.Qme_.off(hNt.EQe_,this.gye_)}t["elements"]instanceof nvt?this.JQe_=t["elements"]:this.JQe_=new nvt(t["elements"]);if(this.Qme_==null){this.Qme_=new gNt(Pi({data:this.JQe_},i));this.GY_(this.Qme_)}else{this.Qme_.PQe_(this.JQe_);this.Qme_.dt_(i)}this.aye_&&this.Qme_.on(hNt.QQe_,this.aye_);this.gye_&&this.Qme_.on(hNt.EQe_,this.gye_);const s=_Ct.Wi_(t["trajectory"]);this.HUs_(Pi({trajectory:s},i));return this}dt_(t){if(t==null)return this;if(t["data"]!==void 0)this.setData(t["data"],t["options"]);else if(t["options"]!==void 0){this.Qme_.dt_(t["options"]);this.HUs_(t["options"])}super.dt_(t);return this}N_(){const t=super.N_();this.Qme_&&(t["options"]=Pi(this.Qme_.N_(),this.qUs_()));return t}cye_(){return this.Qme_}Iye_(){const t=this.qUs_();return t?t["trajectory"]:null}nJs_(t){this.HUs_({trackwidth:t})}Bme_(){return this.qUs_()["trackwidth"]}dispose(){if(!this.Df_()){if(this.Qme_){this.Qme_.off(hNt.QQe_,this.aye_);this.Qme_.off(hNt.EQe_,this.gye_)}super.dispose()}}};i=t([_s("geotoolkit.schematics.scene.DeviatedSchematicsNode")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");var ISt=Ci({fye_:"Docked",Cye_:"Adjacent"},2,"eyJMYWJlbGluZ01vZGVEb2NrZWQiOiJmeWVfIiwiTGFiZWxpbmdNb2RlQWRqYWNlbnQiOiJDeWVfIn0g"),fSt=Ci({ax_:"vertical",dye_:"deviated"},2,"eyJWZXJ0aWNhbCI6ImF4XyIsIkRldmlhdGVkIjoiZHllXyJ9");const CSt=new hl("red",1).qD_({x:!0,y:!0}),dSt=new wr("rgba(255,0,0,0.2)");var BSt=Ci(function(){let i=class t extends sI{constructor(t){super(t);t=Pi(t,{wellborenode:null,highlight:{label:{linestyle:CSt,fillstyle:dSt}},trajectory:{lines:{visible:!1,linestyle:"black"},stations:{visible:!1,symbol:{width:7,height:7,alignment:dA.ne_,sizeisindevicespace:!0,painter:cE,linestyle:{color:"blue",width:1},fillstyle:"yellow"}}},deviation:{offset:0,trackwidth:250,clip:!1},labeling:{strategy:new aSt,labelshape:new DNt({painter:tp,styleshandler:i=>i["node"].wCe_()?{fillstyle:t&&t["highlight"]&&t["highlight"]["label"]&&t["highlight"]["label"]["fillstyle"]||dSt,linestyle:t&&t["highlight"]&&t["highlight"]["label"]&&t["highlight"]["label"]["linestyle"]||CSt}:null}),connectorshape:new CNt,labelsfilter:new RNt,legendmode:!1}},!0);this.jFs_=t["trajectory"];this.Bye_=t["labeling"];this.wye_(t["labeling"]["strategy"]);t["labeling"]&&this.Qye_.setOptions(t["labeling"]);this.d_s_=new tdt;this.d_s_.HC_("Deviated Composite Node");this.Eye_=new sI;this.d_s_.GY_(this.Eye_);this.pye_=new ap(t["trajectory"]["lines"]);this.d_s_.GY_(this.pye_);this.mye_=(new TQ).nf_(t["trajectory"]["stations"]["visible"]);this.d_s_.GY_(this.mye_);this.yye_=new zQ;this.pCe_=()=>{this.yye_.td_()};this.Dye_=new sI;this.Mye_=new sI;this.Mye_.ud_=function(){return!0};this.Mye_.JC_("group_with_cache");this.Mye_.GY_([this.d_s_,this.Dye_]);this.Mye_.gk_(this.yye_);this.Qme_=null;this.vye_=null;this.aye_=()=>{this.notify(hNt.QQe_,this);this.td_()};this.gye_=()=>{this.notify(hNt.EQe_,this);this.td_()};this.tys_=fSt.ax_;this.bye_(t["wellborenode"]);this.GY_([this.Mye_,this.Qme_]);this.Nye_=null}dds_(t){this.tys_=t;if(t===fSt.dye_){this.Eye_.GY_(this.Qme_);this.Mye_.nf_(!0);this.Qme_.ht_(this.Nye_);this.Lq_(null)}else{this.Nye_=this.Qme_.getBounds().clone();this.Mye_.nf_(!1);this.GY_(this.Qme_);this.Lq_(this.Qme_.rt_());this.Qme_.ht_(null)}return this}Cds_(){return this.tys_}Sye_(){return this.d_s_}dt_(t){this.setOptions(t);if((t=Es(t))==null)return this;super.dt_(t);return this}N_(){const t=super.N_();t["wellborenode"]=this.Qme_;t["labeling"]=this.Bye_;t["trajectory"]=this.jFs_;t["deviation"]=this.d_s_.qUs_();return t}dispose(){this.bye_(null);super.dispose()}bB_(t,i){super.bB_(t,i);t(this.Bye_["labelshape"],i)}ud_(t){return!0}CEe_(){return this.Qme_.CEe_()}dEe_(t){const i=this.Qme_.dEe_(t);this.Mye_.yq_()&&this.Mye_.yq_().td_(this.Mye_.rt_());return i}Gye_(){return this.Dye_}Rye_(){return this._Ht_}kye_(){return this.$Ht_}bNt_(t){if(this.Qye_!=null&&(this.Bye_["labelshape"].$C_()||this.Bye_["labelshapehighlighted"].$C_()||this.Bye_["connectorshape"]&&this.Bye_["connectorshape"].$C_())){this.sd_()!=null&&(t=t.uS_(this.sd_()));if(this.tys_===fSt.dye_){this.d_s_.sd_()!=null&&(t=t.uS_(this.d_s_.sd_()));const i=new ogt;i.HUs_(this.d_s_.qUs_());const s=t.rS_();i.update(t);const e=i.rYs_(s);i.PUs_(e);const A=i.rYs_(this.Dye_.ot_()),n=this.Eye_.sd_()!=null?i.uS_(this.Eye_.sd_()):i;this.Fye_(n,A)}else this.Fye_(t)}}Fye_(t,i){this.Qye_.Mpe_(i);const s=this.Bye_["legendmode"]||this.Qye_.gpe_;this.Bye_["labelshape"]&&this.Bye_["labelshape"].Ipe_&&this.Bye_["labelshape"].Ipe_(s);const e=this.Qye_.bpe_(t,this.Qme_,{valueviewmode:this.Qme_.IEe_(),labelshape:this.Bye_["labelshape"],connectorshape:this.Bye_["connectorshape"],labelsfilter:this.Bye_["labelsfilter"],defaultlocation:this.Bye_["defaultlocation"],legendmode:s,locationmap:this.Bye_["locationmap"]})||[];this._Ht_=new mA;this.$Ht_=new mA;if(e.length>0){let i,s;const A=t instanceof ogt?t.QUs_():t;A.dI_(Gn.JI_);const n=this.Bye_["connectorshape"];if(n!=null)for(i=0;i<e.length;i++){s=e[i];n.cQe_(s);t.YR_(n);n.render(A)}for(i=0;i<e.length;i++){s=e[i];let t=this.Bye_["labelshape"];const n=undefined;s.N_()["node"].wCe_()&&this.Bye_["labelshapehighlighted"]&&(t=this.Bye_["labelshapehighlighted"]);t.cQe_(s);A.tk_()&&A.YR_(t);t.render(A);const h=s.N_()["xconnector"],r=h[h.length-1]-h[0]<0,o=t.getBoundingBox();r?o.Ie_()>this._Ht_.Ie_()&&(this._Ht_=o):o.Ie_()>this.$Ht_.Ie_()&&(this.$Ht_=o)}const h=undefined;this.Qye_.Spe_("Left")||(this._Ht_=new mA);const r=undefined;this.Qye_.Spe_("Right")||(this.$Ht_=new mA)}this.vye_!=null&&this.vye_(e,t instanceof Ea)}render(t){if(!(this.tys_!==fSt.dye_||this.d_s_.qUs_()&&this.d_s_.qUs_()["trajectory"]))return this;super.render(t);this.bNt_(t);return this}ad_(t,i){const s=this;super.ad_(t,(function(){s.bNt_(t);i()}))}setOptions(t){if((t=Es(t))==null)return this;if(t["trajectory"]){const i=t["trajectory"]["lines"];if(i){i["visible"]!==void 0&&this.pye_.nf_(i["visible"]);i["linestyle"]!==void 0&&this.pye_.rB_(i["linestyle"])}const s=t["trajectory"]["stations"];if(s){s["visible"]!==void 0&&this.mye_.nf_(s["visible"]);s["symbol"]!==void 0&&this.mye_.YY_().forEach((t=>{t.dt_(s["symbol"])}))}this.jFs_=Pi(t["trajectory"],this.jFs_,!0)}if(t["labeling"]){this.Qye_.setOptions(t["labeling"]);if(t["labeling"]["labelshape"]&&!(t["labeling"]["labelshape"]instanceof mNt)){this.Bye_["labelshape"].dt_(t["labeling"]["labelshape"]);delete t["labeling"]["labelshape"]}this.Bye_=Pi(t["labeling"],this.Bye_,!0)}t["wellborenode"]instanceof gNt&&this.bye_(t["wellborenode"]);t["deviation"]&&this.HUs_(t["deviation"]);t["padding"]!=null&&this.wq_();return this}cps_(t){this.d_s_.cps_(t);return this}HUs_(t){const i=t["trajectory"]||this.d_s_.qUs_()&&this.d_s_.qUs_()["trajectory"];if(!i)return this;this.d_s_.HUs_(t);const s=new mA(i.F_s_(),i.x_s_(),i.L_s_(),i.U_s_());this.Dye_.Lq_(s);this.yye_.I6_(this.rt_().clone().Le_(this.rt_().Ie_()/2,this.rt_().Ts_()/2));const e=this.d_s_.rt_(),A=e?e.ye_():0;this.mye_.KY_();const n=this.jFs_["stations"],h=[],r=[];for(let t=0;t<i.count();++t){h.push(A);r.push(i.G2_(t));const s=new ma(n["symbol"]);s.gR_(A,i.G2_(t));this.mye_.GY_(s)}this.pye_.Qt_(h,r);if(this.Qme_!=null){const t=this.Qme_.xEe_();if(t){const s=t.k_i_(),e=t.S_s_(),A=i.S_s_();if(s){let t=i.nIs_(),n=i.hIs_(),h=s.Ee_(),r=s.pe_();const o=OA.Ai_(),l=e?o.gn_(e["depth"]):null,u=A?o.gn_(A["distance"]):null;if(l&&l.Qn_(u)){h=l.wn_(h,u);r=l.wn_(r,u)}if(n>t&&r>h){if(h<t){i.G_s_(h);t=h}if(r>n){i.R_s_(r);n=r}const e=this.Eye_._C_();this.Eye_.rd_(!1);const A=this.Qme_._C_();this.Qme_.rd_(!1);const o=s.we_(),l=s.Qe_();this.Eye_.Lq_(new mA(o,t,l,n));this.Qme_.ht_(new mA(o,h,l,r));this.Qme_.rd_(A);this.Eye_.rd_(e)}}}}return this}Lq_(t){super.Lq_(t);this.tys_===fSt.dye_&&this.yye_.I6_(this.rt_().clone().Le_(this.rt_().Ie_()/2,this.rt_().Ts_()/2));return this}qUs_(){return this.d_s_.qUs_()}xye_(t){this.vye_=t;return this}Lye_(){return this.vye_}cye_(){return this.Qme_}bye_(t){if(this.Qme_!=null){this.Eye_.removeChild(this.Qme_);this.Qme_.off(hNt.QQe_,this.aye_);this.Qme_.off(hNt.EQe_,this.gye_);this.Uye_()}this.Qme_=t;if(this.Qme_!=null){this.Eye_.GY_(this.Qme_);this.Lq_(this.Qme_.rt_());this.Qme_.ht_(null);this.Qme_.on(hNt.QQe_,this.aye_);this.Qme_.on(hNt.EQe_,this.gye_);this.Yye_()}return this}Yye_(){for(let t=0;t<this.Qme_.hEe_();++t){const i=this.Qme_.getComponent(t);i.yCe_()&&i.DCe_().forEach((t=>{t.hasEventListener(rh.sC_,this.pCe_)||t.on(rh.sC_,this.pCe_)}))}}Uye_(){for(let t=0;t<this.Qme_.hEe_();++t){const i=this.Qme_.getComponent(t);i.yCe_()&&i.DCe_().forEach((t=>{t.off(rh.sC_,this.pCe_)}))}}Tye_(){return this.Qye_}wye_(t){this.Qye_=t;return this}Kye_(){ki("WellBoreWithLabels.prototype.getLabelingMode is deprecated. Use LabelingStrategy instead");return ISt.Hye_}qye_(t){ki("WellBoreWithLabels.prototype.setLabelingMode is deprecated. Use LabelingStrategy instead");if(t!==ISt.Cye_&&t!==ISt.fye_)throw new Error("Invalid labeling mode");t===ISt.fye_?this.wye_(new ASt):this.wye_(new gSt);return this}};i=t([Zs(qh),_s("geotoolkit.schematics.scene.WellBoreWithLabels")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXREaXNwbGF5TW9kZSI6ImRkc18iLCJnZXREaXNwbGF5TW9kZSI6IkNkc18iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwiZW51bWVyYXRlTm9kZXMiOiJiQl8iLCJjaGVja0NvbGxpc2lvbiI6InVkXyIsImdldFZpZXdNb2RlIjoiQ0VlXyIsInNldFZpZXdNb2RlIjoiZEVlXyIsInJlbmRlckFzeW5jIjoiYWRfIiwic2V0V2ViR0xSZW5kZXJpbmciOiJjcHNfIiwic2V0RGV2aWF0aW9uIjoiSFVzXyIsInNldE1vZGVsTGltaXRzIjoiTHFfIiwiZ2V0RGV2aWF0aW9uIjoicVVzXyIsInNldE9uRG9MYXlvdXRIYW5kbGVyIjoieHllXyIsImdldE9uRG9MYXlvdXRIYW5kbGVyIjoiTHllXyIsImdldFdlbGxCb3JlTm9kZSI6ImN5ZV8iLCJzZXRXZWxsQm9yZU5vZGUiOiJieWVfIiwiZ2V0TGFiZWxpbmdTdHJhdGVneSI6IlR5ZV8iLCJzZXRMYWJlbGluZ1N0cmF0ZWd5Ijoid3llXyIsImdldExhYmVsaW5nTW9kZSI6Ikt5ZV8iLCJzZXRMYWJlbGluZ01vZGUiOiJxeWVfIn19fSAg");const wSt=new hl("red",1).qD_({x:!0,y:!0}),QSt=new wr("rgba(255,0,0,0.2)"),ESt=function(t,i){return t&&i&&t.mn_()===i.mn_()&&t.fn_()===i.fn_()};var pSt=Ci(function(){let i=class t extends sI{constructor(t){ki("geotoolkit.schematics.scene.DeviatedWellBoreWithLabels is deprecated since 4.0. Use geotoolkit.schematics.scene.WellBoreWithLabels instead.");super(t);if(!(t["wellBoreNode"]instanceof gNt))throw new Error("Only geotoolkit.schematics.scene.WellBoreNode supported");this.Jye_=ISt.fye_;this.UU_={padding:this.Pye_.bind(this),wellBoreNode:null,highlight:{label:{linestyle:wSt,fillstyle:QSt}},trajectory:{lines:{visible:!1,linestyle:"black"},stations:{visible:!1,symbol:{width:7,height:7,alignment:dA.ne_,sizeisindevicespace:!0,painter:cE,linestyle:{color:"blue",width:1},fillstyle:"yellow"}}},deviation:{offset:0,trackWidth:250,clip:!1}};this.UU_=Pi(t,this.UU_);this.UU_["labelingStrategy"]||(this.UU_["labelingStrategy"]=new sSt);this.wye_(this.UU_["labelingStrategy"]);this.UU_["labeling"]&&this.Qye_.setOptions(this.UU_["labeling"]);this.Qme_=null;this.aye_=()=>{this.notify(hNt.QQe_,this,null);this.td_()};this.gye_=()=>{this.notify(hNt.EQe_,this,null);this.td_()};this.vye_=void 0;this.d_s_=new tdt;this.d_s_.HC_("Deviated Composite Node");this.Eye_=new sI;this.d_s_.GY_(this.Eye_);this.pye_=new ap(this.UU_["trajectory"]["lines"]);this.d_s_.GY_(this.pye_);this.mye_=(new TQ).nf_(this.UU_["trajectory"]["stations"]["visible"]);this.d_s_.GY_(this.mye_);this.yye_=new zQ;this.pCe_=()=>{this.yye_.td_()};this.bye_(this.UU_["wellBoreNode"]);this.Dye_=new sI;this.Mye_=new sI;this.Mye_.ud_=function(){return!0};this.Mye_.JC_("group_with_cache");this.Mye_.GY_([this.d_s_,this.Dye_]);this.GY_(this.Mye_);this.Mye_.gk_(this.yye_)}dt_(t){if(t==null)return this;this.setOptions(t);if((t=Es(t))==null)return this;super.dt_(t);return this}N_(){const t=super.N_();return Pi(this.UU_,t)}dispose(){this.bye_(null);super.dispose()}bB_(t,i){super.bB_(t,i);t(this.Vye_,i);t(this.Oye_,i)}ud_(t){return!0}Pye_(t){return this.UU_["deviation"]["trackWidth"]/2}Wye_(t){const i=this.UU_["padding"];return i===void 0?0:typeof i=="number"?i:typeof i=="function"?i(t):typeof i[t]=="number"?i[t]:0}CEe_(){return this.Qme_.CEe_()}dEe_(t){const i=this.Qme_.dEe_(t);this.Mye_.yq_()&&this.Mye_.yq_().td_(this.Mye_.rt_());return i}wq_(t){if(this.UU_==null||this.UU_["padding"]===0)return super.wq_(t);ki("Padding on DeviatedWellBoreWithLabels is deprecated since 3.2. Use DeviatedSchematicsWidget with gaps instead.");const i=this.d_s_.qUs_();if(!i)return this;const s=this.rt_();let e=this.Wye_("left"),A=this.Wye_("right");const n=this.Wye_("top"),h=this.Wye_("bottom"),r=i["offset"];if(r){e-=r;A+=r}const o=10;let l=s.we_()+o+e,u=s.Qe_()-o-A;const a=u-l-2;if(a<0){l-=Math.abs(a)/2;u+=Math.abs(a)/2}let g=s.Ee_()+o+n,c=s.pe_()-o-h;const I=c-g-2;if(I<0){g-=Math.abs(I)/2;c+=Math.abs(I)/2}const f=new mA(l,g,u,c);this.d_s_.ht_(f);this.Dye_.ht_(f);return this}bNt_(t){if(this.Qme_==null||this.Qye_==null)return;this.sd_()!=null&&(t=t.uS_(this.sd_()));this.d_s_.sd_()!=null&&(t=t.uS_(this.d_s_.sd_()));const i=new ogt;i.HUs_(this.d_s_.qUs_());const s=t.rS_();i.update(t);const e=i.rYs_(s);i.PUs_(e);const A=i.rYs_(this.Dye_.ot_());this.Fye_(i,A)}render(t){if(!this.d_s_.qUs_()||!this.d_s_.qUs_()["trajectory"])return this;super.render(t);this.bNt_(t);return this}ad_(t,i){const s=this;super.ad_(t,(function(){s.bNt_(t);i()}))}setOptions(t){if(t["trajectory"]){const i=t["trajectory"]["lines"];if(i){i["visible"]!==void 0&&this.pye_.nf_(i["visible"]);i["linestyle"]!==void 0&&this.pye_.rB_(i["linestyle"])}const s=t["trajectory"]["stations"];if(s){s["visible"]!==void 0&&this.mye_.nf_(s["visible"]);s["symbol"]!==void 0&&this.mye_.YY_().forEach((function(t){t.dt_(s["symbol"])}))}}t["labeling"]&&this.Qye_.setOptions(t["labeling"]);t["wellBoreNode"]&&this.bye_(t["wellBoreNode"]);this.UU_=Pi(t,this.UU_);t["deviation"]&&this.HUs_(t["deviation"]);t["padding"]!=null&&this.wq_();return this}cps_(t){this.d_s_.cps_(t);return this}zye_(t){const i=this.d_s_.rt_(),s=i?i.ye_():0,e=this.mye_._C_();this.mye_.rd_(!1);this.mye_.KY_();const A=this.UU_["trajectory"]["stations"],n=[],h=[];for(let i=0;i<t.count();++i){n.push(s);h.push(t.G2_(i));const e=new ma(A["symbol"]);e.gR_(s,t.G2_(i));this.mye_.GY_(e)}this.mye_.rd_(e);this.pye_.Qt_(n,h)}HUs_(t){Pi(t,this.UU_["deviation"]);const i=this.UU_["deviation"]["trajectory"];if(!i)return this;this.d_s_.HUs_(this.UU_["deviation"]);const s=new mA(i.F_s_(),i.x_s_(),i.L_s_(),i.U_s_());this.Dye_.Lq_(s);this.yye_.I6_(this.rt_().clone().Le_(this.rt_().Ie_()/2,this.rt_().Ts_()/2));this.zye_(i);if(this.Qme_!=null){const t=this.Qme_.AEe_();if(t&&t){let s=i.nIs_(),e=i.hIs_(),A=t.Ee_(),n=t.pe_();const h=this.Qme_.PEe_(),r=i.N_s_();if(h&&!ESt(r,h)&&h.Qn_(r)){A=h.wn_(A,r);n=h.wn_(n,r)}if(e>s&&n>A){if(A<s){i.G_s_(A);s=A}if(n>e){i.R_s_(n);e=n}const h=this.Eye_._C_();this.Eye_.rd_(!1);const r=this.Qme_._C_();this.Qme_.rd_(!1);const o=t.we_(),l=t.Qe_();this.Eye_.Lq_(new mA(o,s,l,e));this.Qme_.ht_(new mA(o,A,l,n));this.Qme_.rd_(r);this.Eye_.rd_(h)}}}return this}Lq_(t){super.Lq_(t);this.yye_.I6_(this.rt_().clone().Le_(this.rt_().Ie_()/2,this.rt_().Ts_()/2));return this}qUs_(){return this.d_s_.qUs_()}xye_(t){this.vye_=t;return this}Lye_(){return this.vye_}cye_(){return this.Qme_}Yye_(){for(let t=0;t<this.Qme_.hEe_();++t){const i=this.Qme_.getComponent(t);i.yCe_()&&i.DCe_().forEach((t=>{t.on(rh.sC_,this.pCe_)}))}}Uye_(){for(let t=0;t<this.Qme_.hEe_();++t){const i=this.Qme_.getComponent(t);i.yCe_()&&i.DCe_().forEach((t=>{t.off(rh.sC_,this.pCe_)}))}}bye_(t){if(this.Qme_!=null){this.Eye_.removeChild(this.Qme_);this.Uye_();this.Qme_.off(hNt.QQe_,this.aye_);this.Qme_.off(hNt.EQe_,this.gye_)}this.Qme_=t;if(this.Qme_!=null){this.Eye_.GY_(this.Qme_);this.Yye_();this.Qme_.on(hNt.QQe_,this.aye_);this.Qme_.on(hNt.EQe_,this.gye_)}return this}Xye_(){const t=this.Qye_.JV_();t["labelShape"]&&(this.Oye_=t["labelShape"].clone());t["labelShapeHighlighted"]&&(this.Vye_=t["labelShapeHighlighted"].clone());this.UU_["highlight"]["label"]&&this.Vye_.setStyle(this.UU_["highlight"]["label"])}wye_(t){if(!(t instanceof bNt))throw new Error("Invalid labeling strategy");this.Qye_=t;this.Xye_();return this}Tye_(){return this.Qye_}Fye_(t,i){const s=this.Eye_.sd_()!=null?t.uS_(this.Eye_.sd_()):t;this.Qye_.Mpe_(i);const e=this.Qye_.bpe_(s,this.Qme_)||[];if(e.length>0){let i,A;const n=t.SUs_;n.dI_(Gn.JI_);const h=this.Qye_.JV_()["connectorShape"];if(h!=null)for(i=0;i<e.length;i++){A=e[i];h.cQe_(A);s.YR_(h);h.render(n)}for(i=0;i<e.length;i++){A=e[i];const t=undefined,s=A["node"].wCe_()?this.Vye_:this.Oye_;s.cQe_(A);n.tk_()&&n.YR_(s);s.render(n)}}this.vye_!=null&&this.vye_(e)}Sye_(){return this.d_s_}};i=t([Zs(qh),_s("geotoolkit.schematics.scene.DeviatedWellBoreWithLabels")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwiZW51bWVyYXRlTm9kZXMiOiJiQl8iLCJjaGVja0NvbGxpc2lvbiI6InVkXyIsImdldFZpZXdNb2RlIjoiQ0VlXyIsInNldFZpZXdNb2RlIjoiZEVlXyIsInVwZGF0ZUxheW91dCI6IndxXyIsInJlbmRlckFzeW5jIjoiYWRfIiwic2V0V2ViR0xSZW5kZXJpbmciOiJjcHNfIiwic2V0RGV2aWF0aW9uIjoiSFVzXyIsInNldE1vZGVsTGltaXRzIjoiTHFfIiwiZ2V0RGV2aWF0aW9uIjoicVVzXyIsInNldE9uRG9MYXlvdXRIYW5kbGVyIjoieHllXyIsImdldE9uRG9MYXlvdXRIYW5kbGVyIjoiTHllXyIsImdldFdlbGxCb3JlTm9kZSI6ImN5ZV8iLCJzZXRXZWxsQm9yZU5vZGUiOiJieWVfIiwic2V0TGFiZWxpbmdTdHJhdGVneSI6Ind5ZV8iLCJnZXRMYWJlbGluZ1N0cmF0ZWd5IjoiVHllXyJ9fX0g");var mSt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("black",1),fillstyle:new wr("gray")}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeDefault")],i);return i}();var ySt=Ci(function(){let i=class t extends Mvt{cde_(){if(this.HU_)return this.HU_;this.OBe_=new mA(-100,0,100,100);const t=new sI;t.Lq_(this.OBe_);const i=new dp(-100,0,100,100);i.rB_(new hl("red",0));i.iQ_(new wr("red"));const s=new dp(-100,99,100,100);s.rB_(new hl("black"));s.iQ_(new wr("black"));t.GY_(i);t.GY_(s);this.HU_=t;return this.HU_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeLinerFlipped")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZW1wbGF0ZUJvdW5kcyI6ImRDZV8iLCJnZXRUZW1wbGF0ZU5vZGUiOiJjZGVfIn19fSAg");var DSt=function(){let i=class t extends pvt{constructor(t){super(t=Pi(t,{linestyle:new hl("red",1),fillstyle:new wr("rgb(207, 182, 101)")}))}};i=t([_s("geotoolkit.schematics.scene.impl.NodeOpenHole")],i);return i}();var MSt=Ci(function(){let i=class t extends Mvt{constructor(t,i){super(t=qi(t,{linestyle:t instanceof hl?t:{color:"gray"},fillstyle:i||{color:"gray"}},!0));this.$Ce_=t["linestyle"];this.FBe_=t["fillstyle"];this.yIt_&&this.yIt_.rB_(this.$Ce_).iQ_(this.FBe_)}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);if(t["linestyle"]!==void 0){this.$Ce_=t["linestyle"];this.yIt_&&this.yIt_.rB_(this.$Ce_)}if(t["fillstyle"]!==void 0){this.FBe_=t["fillstyle"];this.yIt_&&this.yIt_.iQ_(this.FBe_)}return this}cde_(){if(this.yIt_)return this.yIt_;this.OBe_=new mA(-100,0,100,100);this.yIt_=new dp(this.OBe_).rB_(this.$Ce_).iQ_(this.FBe_);return this.yIt_}SCe_(t,i){if(t===void 0)return this;if(t!==null){t["linestyle"]!==void 0&&this.yIt_.rB_(t["linestyle"]);t["fillstyle"]!==void 0&&this.yIt_.iQ_(t["fillstyle"])}else{this.yIt_.rB_(this.$Ce_);this.yIt_.iQ_(this.FBe_)}super.SCe_(t,i);return this}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.impl.NodeRectangleFlipped")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0VGVtcGxhdGVCb3VuZHMiOiJkQ2VfIiwic2V0UmVuZGVyaW5nSGludHMiOiJTQ2VfIiwiZ2V0VGVtcGxhdGVOb2RlIjoiY2RlXyJ9fX0g");var vSt=Ci(function(){var i;let s=i=class t{static jye_(t){return typeof t=="string"?t:"{x: "+t.x+" y: "+t.y+" md: "+t.md+"}"}static Zye_(t,i,s){if(i===rNt.W8_)return t;const e=s.k_i_(),A=s.getBounds(),n=e.Ee_(),h=e.pe_(),r=A.Ee_(),o=A.pe_(),l=(o-r)/(h-n),u=undefined;return l*t+(o-l*h)}static _ye_(t,s){const e=undefined;return ur(t).Gw_((t=>{if(!(t instanceof kMt))return!1;if(i.$ye_.indexOf(t.dn_())<0)return!1;const e=t.k_i_();return e.Ee_()<=s&&s<=e.pe_()})).Fw_()}static aI_(t,i){const s=t["deviatednode"],e=s.if_(),A=s.qUs_(),n=undefined,h=A["transformer"].create(A,e).uI_(i),r=undefined,o=undefined;return t["wellborenode"].sd_().uI_(h)}static tDe_(t,i){const s=t["deviatednode"],e=s.if_(),A=s.qUs_(),n=A["transformer"].create(A,e),h=t["wellborenode"].sd_(),r=[];n.xFs_(i.Me_(),i.Ne_(),r,h);const o=[];n.xFs_(i.Me_(),i.ve_(),o,h);const l=[];n.xFs_(i.ve_(),i.be_(),l,h);const u=[];n.xFs_(i.Ne_(),i.be_(),u,h);return{left:r,top:o,right:l,bottom:u}}static iDe_(t,s,e,A,n,h){const r=t[s],o=e[A],l=FCt.LZs_(r,o);if(l){const t=i.aI_(n,l);if(!NA.Ve_(t.getX())||!NA.Ve_(t.getY()))return;h.push(t)}}static sDe_(t){for(let i=0;i<t.Aut_().length;++i){const s=undefined;if(t.Aut_()[i].getData().eDe_["primary"]===!0)return i}return 0}static ADe_(t){}static nDe_(t,s){if(t.Aut_().length<2)return;i.$ye_=s["clip"]["components"]?s["clip"]["components"]:[];if(i.$ye_.length<1)return;const e=new lA(t.getData().x,t.getData().y),A=i.sDe_(t),n=t.Aut_()[A],h=new lA(n.getData().x,n.getData().y),r=gu.bN_(e,h),o=n.getData().eDe_,l=o["wellborenode"],u=t.getData().md,a=i._ye_(l,u);if(!a||a.length!==1)return;const g=undefined,c=a[0].getBounds(),I=i.tDe_(o,c);for(let s=0;s<t.Aut_().length;++s){if(s===A)continue;const n=t.Aut_()[s],h=n.getData().eDe_,o=h["wellborenode"],l=i._ye_(o,u);if(!l||l.length!==1)return;const a=undefined,g=l[0].getBounds(),c=i.tDe_(h,g),f=new lA(n.getData().x,n.getData().y),C=gu.bN_(e,f);if(C===r)continue;const d=[];if(C<r){i.iDe_(I,"left",c,"left",h,d);i.iDe_(I,"left",c,"top",h,d);i.iDe_(I,"left",c,"right",h,d)}i.iDe_(I,"bottom",c,"left",h,d);i.iDe_(I,"bottom",c,"top",h,d);i.iDe_(I,"bottom",c,"right",h,d);if(C>r){i.iDe_(I,"right",c,"left",h,d);i.iDe_(I,"right",c,"top",h,d);i.iDe_(I,"right",c,"right",h,d)}d.sort(((t,i)=>t.getX()-i.getX()));if(d.length<2)continue;d.splice(1,0,new lA(g.ye_(),u));const B=i._ye_(o,u);for(let t=0;t<B.length;++t){const i=B[t],s=i.getBounds(),e=new TA;e.moveTo(d[0].getX(),d[0].getY());for(let t=1;t<d.length;++t)e.lineTo(d[t].getX(),d[t].getY());e.lineTo(s.Qe_(),s.pe_()).lineTo(s.we_(),s.pe_()).close();const A=i._C_();i.rd_(!1);i.xb_(new wh(e));i.rd_(A)}}}};s.$ye_=[];s=i=t([_s("geotoolkit.schematics.utils.ClipHelper")],s);return s}(),2,"eyJtZFRvVmlld01vZGVEZXB0aCI6Ilp5ZV8iLCJnZXRDbGFzc05hbWUiOiJEXyJ9");var bSt=Ci({tVt_:"Free",hDe_:"Keep"},2,"eyJGcmVlIjoidFZ0XyIsIktlZXAiOiJoRGVfIn0g"),NSt=Ci(function(){let i=class t extends sI{constructor(t){super(t);this.aye_=()=>{this.notify(hNt.QQe_,this,null)};this.gye_=()=>{this.notify(hNt.EQe_,this,null)};this.UU_=Pi(t,{clip:{on:!0,components:["casing","cement"]},sparse:{on:!1,components:["tubing"],offset:10,widthscale:1},trajectory:{lines:{visible:!1},stations:{visible:!1,symbol:{width:7,height:7,alignment:dA.ne_,sizeisindevicespace:!0,painter:cE,linestyle:{color:"blue",width:1},fillstyle:"yellow"}},branching:{visible:!1,symbol:{width:10,height:10,alignment:dA.ne_,sizeisindevicespace:!0,painter:cE,linestyle:{color:"blue",width:2},fillstyle:"red"}}},viewmode:rNt.W8_,trackwidth:100},!0);this.rDe_=new Gy;this.oDe_=new Gy;this.lDe_=NaN;this.uDe_=NaN;this.aDe_=Number.POSITIVE_INFINITY;this.gDe_=Number.POSITIVE_INFINITY;this.cDe_=Number.NEGATIVE_INFINITY;this.IDe_=Number.NEGATIVE_INFINITY;this.setOptions(this.UU_)}fDe_(t,i,s){t instanceof nvt&&(t=t.hcs_());const e=[];t.forEach((t=>{(i&&i.indexOf(t["name"])>-1||s&&s.indexOf(t["name"])<0)&&e.push(t)}));return e}CDe_(t){let i=Pi(this.UU_,{});const s=new tdt,e=_Ct.Wi_(t["trajectory"]);i=Pi({trajectory:e},i);s.HUs_(i);const A=s.rt_(),n=A?A.ye_():0,h=this.UU_["trajectory"]["lines"],r=new ap(h),o=[],l=[];for(let t=0;t<e.count();++t){o.push(n);l.push(e.G2_(t))}r.Qt_(o,l);r.nf_(!0);s.GY_(r);s.nf_(h["visible"]);s.HC_("trajectory-lines");return s}dDe_(t){const i=Pi(this.UU_,{}),s=new tdt,e=_Ct.Wi_(t["trajectory"]);Pi({trajectory:e},i);s.HUs_(i);const A=s.rt_(),n=A?A.ye_():0,h=this.UU_["trajectory"]["stations"];for(let t=0;t<e.count();++t){const i=new ma(h["symbol"]);i.gR_(n,e.G2_(t));i.nf_(!0);s.GY_(i)}s.nf_(h["visible"]);s.HC_("trajectory-stations");return s}BDe_(t,i,s,e,A){if(i!=null||s!=null){const e=undefined;t={elements:this.fDe_(t["elements"],i,s),primary:t["primary"],trajectory:t["trajectory"]}}const n=Pi(this.UU_["wellborenode"],{components:{whitelist:i,blacklist:s}}),h=Pi(this.UU_,n);h["clip"]=A;delete h["data"];delete h["wellborenode"];const r=new cSt({data:t,options:h});r.on(hNt.QQe_,this.aye_);r.on(hNt.EQe_,this.gye_);if(e){const i={primary:t["primary"],deviatednode:r,wellborenode:r.cye_(),trajectory:r.Iye_()};this.wDe_(e,i)}this.QDe_(r);return r}EDe_(){for(let t=0;t<this.qY_();++t)if(this.HY_(t)instanceof cSt)return!0;return!1}vn_(t,i){if(this.pDe_)return this;super.vn_(t,i);return this}wq_(t){super.wq_(t);if(!this.EDe_())return this;this.aDe_=Number.POSITIVE_INFINITY;this.gDe_=Number.POSITIVE_INFINITY;this.cDe_=Number.NEGATIVE_INFINITY;this.IDe_=Number.NEGATIVE_INFINITY;for(let t=0;t<this.qY_();++t){const i=this.HY_(t);if(!(i instanceof cSt))continue;const s=undefined,e=i.qUs_()["trajectory"],A=e.F_s_(),n=e.x_s_(),h=e.L_s_(),r=e.U_s_();A<this.aDe_&&(this.aDe_=A);n<this.gDe_&&(this.gDe_=n);h>this.cDe_&&(this.cDe_=h);r>this.IDe_&&(this.IDe_=r);i.ht_(new mA(A,n,h,r))}this.pDe_=!0;this.Lq_(new mA(this.aDe_,this.gDe_,this.cDe_,this.IDe_));this.pDe_=!1;return this}wDe_(t,i){const s=i["trajectory"],e=function(t,i){return t.x===i.x&&t.y===i.y&&t.md===i.md},A=new lA,n=new lA,h=new lA;let r,o;if(t.getRoot())for(r=0;r<s.count();++r){const l={x:s.getX(r),y:s.getY(r),md:s.G2_(r),eDe_:i},u=undefined;if(!t.contains(l,e)){let i=null;t.lut_((t=>{const s=t.getParent();if(s){A.vs_(t.getData().x,t.getData().y);n.vs_(s.getData().x,s.getData().y);h.vs_(l.x,l.y);aat.rxs_(A,n,h)&&(i=t)}}));if(i){const t=i.getParent();t.removeChild(i);const s=new Sy(l,t);t.Aut_().push(s);s.GY_(i)}else t.add(l,o,e)}o=l}else for(r=0;r<s.count();++r){const A={x:s.getX(r),y:s.getY(r),md:s.G2_(r),eDe_:i};r===0?t.add(A):t.add(A,o,e);o=A}return this}QDe_(t,i,s){i===void 0&&(i=this.UU_["trackwidth"]);s===void 0&&(s=1);const e=t.cye_();let A=e.xEe_().k_i_();A||(A=e.rt_());const n=A.Ee_(),h=A.pe_(),r=s*i;e.ht_(new mA((i-r)/2,n,(i+r)/2,h));e.Lq_(new mA(this.lDe_,e.rt_().Ee_(),this.uDe_,e.rt_().pe_()));return this}setData(t){return this.mDe_(t)}yDe_(t){for(let i=0;i<t.length;++i){const s=this.CDe_(t[i]);this.GY_(s)}}DDe_(t){for(let i=0;i<t.length;++i){const s=this.dDe_(t[i]);this.GY_(s)}}MDe_(){this.rDe_.lut_((t=>{!(t.Aut_().length<2)}))}vDe_(t,i,s,e,A,n){let h=this.BDe_(t[i],s,e,A,!1);this.GY_(h);for(let r=0;r<t.length;++r)if(r!==i){h=this.BDe_(t[r],s,e,A,n);this.GY_(h)}}mDe_(t,i){i&&Pi(i,this.UU_);if(!t)return this;Array.isArray(t)||(t=[t]);let s,e,A;if(t.length>1){const i=[];t.forEach((t=>{i.push(t["trajectory"])}));_Ct.J_s_(i)}for(e=0;e<t.length;++e){const i=t[e];let n;n=i["elements"]instanceof nvt?i["elements"]:new nvt(i["elements"]);const h=n.k_i_(),r=i["trajectory"],o=h.Ee_(),l=h.pe_(),u=r.nIs_(),a=r.hIs_();o<u&&r.G_s_(o);l>a&&r.R_s_(l);if(e===0){s=0;A=n}if(i["primary"]){s=e;A=n}}const n=A.k_i_();this.lDe_=n.we_();this.uDe_=n.Qe_();if(t.length>1){const i=this.UU_["clip"]["on"]&&this.UU_["clip"]["components"]&&this.UU_["clip"]["components"].length>0;this.vDe_(t,s,this.UU_["clip"]["components"],null,this.rDe_,i);this.vDe_(t,s,this.UU_["sparse"]["components"],null,this.oDe_,!1);const e=this.UU_["clip"]["components"].concat(this.UU_["sparse"]["components"]);this.vDe_(t,s,null,e,null,!1)}else this.vDe_(t,s,null,null,null,!1);this.yDe_(t);this.DDe_(t);this.vn_();return this}render(t){t.tk_()||(this.UU_["clip"]["on"]?this.rDe_.lut_(vSt.nDe_,this.UU_):this.rDe_.lut_(vSt.ADe_));super.render(t)}JV_(){return Pi(this.UU_,{})}nJs_(t){for(let i=0;i<this.qY_();++i){const s=this.HY_(i);if(s instanceof cSt){s.nJs_(t);this.QDe_(s,t)}}this.vn_();return this}bDe_(t){const i=t["on"]!==void 0?t["on"]:this.UU_["sparse"]["on"],s=i?t["offset"]!==void 0?t["offset"]:this.UU_["sparse"]["offset"]:0,e=i?t["widthscale"]!==void 0?t["widthscale"]:this.UU_["sparse"]["widthscale"]:1,A=[];let n;this.oDe_.lut_((t=>{if(!(t.Aut_().length>0)){n=t.getData().eDe_["deviatednode"];A.push(n)}}));if(A.length<1)return this;const h=(A.length-1)/2;for(let t=0;t<A.length;++t){n=A[t];n.HUs_({offset:(t-h)*s});this.QDe_(n,void 0,e)}this.vn_();return this}NDe_(t){for(let i=0;i<this.qY_();++i){const s=this.HY_(i);s.dn_()==="trajectory-lines"&&t["visible"]!==void 0&&s.nf_(t["visible"])}return this}SDe_(t){for(let i=0;i<this.qY_();++i){const s=this.HY_(i);s.dn_()==="trajectory-stations"&&t["visible"]!==void 0&&s.nf_(t["visible"])}return this}setOptions(t){Pi(t,this.UU_,!0);(t=Es(t))["data"]&&this.setData(t["data"]);t["trackwidth"]&&this.nJs_(t["trackwidth"]);const i=t["trajectory"];if(i!==void 0){i["lines"]&&this.NDe_(i["lines"]);i["stations"]&&this.SDe_(i["stations"])}const s=t["sparse"];s&&this.bDe_(s);this.td_(null,!0);return this}GDe_(){this.RDe_===void 0&&(this.RDe_=!1);return this.RDe_}kDe_(t){this.RDe_=t;return this}N_(){return this.JV_()}dt_(t){if(t==null)return this;this.setOptions(t);return this}dispose(){if(!this.Df_()){for(let t=0;t<this.qY_();++t){const i=this.HY_(t);if(i instanceof cSt){i.off(hNt.QQe_,this.aye_);i.off(hNt.EQe_,this.gye_)}}super.dispose()}}};i=t([_s("geotoolkit.schematics.scene.MultiLateralWellBoreNode")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVTdGF0ZSI6InZuXyIsInVwZGF0ZUxheW91dCI6IndxXyIsImdldE9wdGlvbnMiOiJKVl8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");var SSt=Ci(function(){let i=class t extends OMt{constructor(t){super(t=Pi(t,{url:typeof t=="string"?t:null}));this.oJ_=new df({x:-100,y:0,w:200,h:100,url:t["url"],alignment:dA.ie_,sizeisindevicespace:!1});this.OBe_=new mA(-100,0,100,100);this.GY_(this.oJ_)}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["url"]!==void 0&&this.oJ_.dt_({url:t["url"]});return this}N_(){const t=super.N_();t["url"]=this.oJ_.N_()["url"];return t}cde_(){return this.oJ_}dCe_(){return this.OBe_}};i=t([_s("geotoolkit.schematics.scene.ReusableImageComponentNode")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwiZ2V0VGVtcGxhdGVOb2RlIjoiY2RlXyIsImdldFRlbXBsYXRlQm91bmRzIjoiZENlXyJ9fX0g");const GSt=function(t,i){const s=Math.max(t["low"],i["low"]),e=Math.min(t["high"],i["high"]);return s<e?{low:s,high:e}:null};var RSt=Ci(function(){let i=class t extends gNt{constructor(t){super(t);this.FDe_={amplitude:1,period:20,accuracy:9,linestyle:new hl,depthfrom:0};Pi(t["sinusoid"],this.FDe_);this.kY_(!0);this.xDe_=[];this.LQe_()}N_(){const t=super.N_();t["sinusoid"]=Pi(this.FDe_,{});return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["sinusoid"]!==void 0&&Pi(t["sinusoid"],this.FDe_);this.td_();return this}dEe_(t){if(t!==void 0){if(typeof t=="number"){ki("Call SinusoidNode.setViewMode with number is deprecated since 4.0. Use enum ViewMode instead");t=oNt[t]}this.TQe_=t}const i=this.gEe_(this.TQe_);if(i){const t=gNt.cEe_(this.hcs_()),s=i.tsi_(t,this.rt_());this.RY_()&&this.LDe_(t);this.vn_();this.td_();return s}return null}zY_(t){let i=null;if(this.RY_()){i=this.UDe_(t);this.xb_(new wh(i))}super.zY_(t);if(this.RY_()){this.xb_(null);if(this.FDe_["linestyle"]){i=this.UDe_(t,!0);const s=undefined;new Yu({geometry:i,linestyle:this.FDe_["linestyle"]}).render(t)}}}OY_(t,i){const s=this;let e=null;if(this.RY_()){e=this.UDe_(t);this.xb_(new wh(e))}super.OY_(t,(function(){if(s.RY_()){s.xb_(null);if(s.FDe_["linestyle"]){e=s.UDe_(t,!0);const i=undefined;new Yu({geometry:e,linestyle:s.FDe_["linestyle"]}).render(t)}}i()}))}UDe_(t,i){const s=new TA;let e=this.xDe_.length;if(e<1)return s;const A=t.Ji_(),n=this.FDe_["period"]/A.sI_(),h=this.FDe_["amplitude"]/A.BI_(),r=[],o=[];let l,u,a;if(i=i===!0&&this.FDe_["depthfrom"]>this.xDe_[0]["depth"]["low"]&&this.FDe_["depthfrom"]<this.xDe_[e-1]["depth"]["high"]){a=[];this.xDe_.forEach((t=>{a.push(Pi(t,{}))}));for(l=e-1;l>=0;--l){u=a[l];if(!(this.FDe_["depthfrom"]<=u["depth"]["low"])){if(this.FDe_["depthfrom"]<u["depth"]["high"]){u["depth"]["low"]=this.FDe_["depthfrom"];l>0&&a.splice(0,l)}else a.splice(0,l+1);break}}e=a.length}else a=this.xDe_;for(l=0;l<e;++l){if(l>0){r.push(r[r.length-1]);o.push(o[o.length-1])}u=a[l];Bvt.YBe_(u["depth"]["low"],u["depth"]["high"],n,h,this.FDe_["accuracy"],u["value"]-h,o,r)}let g=o.length,c;for(c=g-1;c>=0;--c){r.push(-r[c]);o.push(o[c])}g=o.length;if(g>1){s.moveTo(r[0],o[0]);for(c=1;c<g;++c)s.lineTo(r[c],o[c])}i||s.close();return s}LDe_(t){this.xDe_=[];t.reset();let i,s,e,A,n=-1/0,h=1/0,r,o,l,u,a,g;while(t.Hs_()){const c=t.next();if(!(c instanceof kMt))continue;A=c.getBounds();if(!A)continue;i=A.Ee_();s=A.pe_();if(i===void 0||s===void 0||i===s)continue;e=A.Ie_()/2;if(this.xDe_.length<1){this.xDe_.push({depth:{low:i,high:s},value:e});n=e;h=e;continue}r=this.xDe_[0]["depth"]["low"];o=this.xDe_[this.xDe_.length-1]["depth"]["high"];if(e<=n)n=e;else if(e>=h){h=e;if(i<=r&&s>=o){this.xDe_=[];this.xDe_.push({depth:{low:i,high:s},value:e});n=e;continue}}if(i>=o){i>o&&this.xDe_.push({depth:{low:o,high:i},value:-1});this.xDe_.push({depth:{low:i,high:s},value:e});continue}if(s<=r){s<r&&this.xDe_.splice(0,0,{depth:{low:s,high:r},value:-1});this.xDe_.splice(0,0,{depth:{low:i,high:s},value:e});continue}let I,f=-1,C=-1;for(I=0;I<this.xDe_.length;++I){l=this.xDe_[I];if(!(l["depth"]["high"]<i)){f<0&&(f=C=I);if(l["depth"]["low"]>=s)break;C=I}}for(I=f;I<=C;++I){l=this.xDe_[I];u=l["depth"]["low"];a=l["depth"]["high"];g=l["value"];if(g>=e)continue;const t=GSt(l["depth"],{low:i,high:s});if(t!==null)if(t["low"]===u&&t["high"]===a)l["value"]=e;else if(t["low"]>u&&t["high"]<a){l["depth"]["high"]=i;++C;++I;this.xDe_.splice(I,0,{depth:{low:i,high:s},value:e});++C;++I;this.xDe_.splice(I,0,{depth:{low:s,high:a},value:g})}else if(t["low"]>u){l["depth"]["high"]=i;++C;++I;this.xDe_.splice(I,0,{depth:{low:i,high:a},value:e})}else{if(!(t["high"]<a))throw new Error("SCREWED UP!");l["depth"]["high"]=s;l["value"]=e;++C;++I;this.xDe_.splice(I,0,{depth:{low:s,high:a},value:g})}}i<r&&this.xDe_.splice(0,0,{depth:{low:i,high:r},value:e});s>o&&this.xDe_.push({depth:{low:o,high:s},value:e})}}};i=t([_s("geotoolkit.schematics.scene.SinusoidNode")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwic2V0Vmlld01vZGUiOiJkRWVfIiwicmVuZGVyQ29udGVudCI6InpZXyIsInJlbmRlckNvbnRlbnRBc3luYyI6Ik9ZXyJ9fX0g");var kSt=Ci(function(){var i;let s=i=class t extends eNt{static IQe_(t){const i=t.getBounds();return{x:[i.we_(),i.Qe_(),i.Qe_(),i.we_()],y:[i.Ee_(),i.Ee_(),i.pe_(),i.pe_()]}}IQe_(t,s){return i.IQe_(t)}};s=i=t([_s("geotoolkit.schematics.utils.RectangularBoundsCalculation")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb21wb25lbnRCb3VuZHMiOiJJUWVfIn19fSAg");var FSt=Ci(function(){var i;let s=i=class t extends eNt{constructor(){super();this.Dw_={};this.Dw_[oE.D_()]=i.YDe_}static TDe_(t,i,s){const e=new Gn;while(1){let A=t.sd_();A&&!A.isIdentity()&&Gn.multiply(A,e,e);const n=t.getParent();if(n===i){A=i.sd_();A&&!A.isIdentity()&&Gn.multiply(A,e,e);if(s){A=s.sd_();A&&!A.isIdentity()&&Gn.multiply(A,e,e)}break}t=n}return e}static KDe_(t,s,e){if(!ie(t))return null;const A=t.getBounds();if(!A)return null;let n=[A.we_(),A.Qe_(),A.Qe_(),A.we_()],h=[A.Ee_(),A.Ee_(),A.pe_(),A.pe_()];const r=i.TDe_(t,s,e);if(r&&!r.isIdentity()){n=n.slice();h=h.slice();r.NI_(n,h,n.length)}return{x:n,y:h}}static YDe_(t,s,e){if(!(t instanceof oE))return null;let A=t.Bt_(),n=t.wt_();const h=i.TDe_(t,s,e);if(h&&!h.isIdentity()){A=A.slice();n=n.slice();h.NI_(A,n,A.length)}return{x:A,y:n}}IQe_(t,s){let e;if(t instanceof jMt){e=t;t=e.vde_()}else e=null;const A=[];let n;if(t instanceof cvt){n=kSt.IQe_(t);n&&A.push(n)}else{const s=undefined;ur(t).Gw_((t=>t instanceof su)).Fw_().forEach((s=>{let h=this.Dw_[s.D_()];h||typeof s.getBounds!="function"||(h=i.KDe_);if(h){n=h(s,t,e);n&&A.push(n)}}))}return A}};s=i=t([_s("geotoolkit.schematics.utils.ShapesBoundsCalculation")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb21wb25lbnRCb3VuZHMiOiJJUWVfIn19fSAg");var xSt=Ci(function(){let i=class t extends RMt{constructor(t){super();this.UU_=Pi(t,{filternode:null,getfillstyle:null,getlinestyle:null})}apply(t){const i=this.UU_["filternode"],s=this.UU_["getfillstyle"],e=this.UU_["getlinestyle"],A=t._C_();t.rd_(!1);s&&ur(t).Gw_((t=>!(i&&!i(t))&&ae(t))).Eu_((i=>{const e=i.ct_(),A=s({shape:i,componentnode:t});e!==A&&i.iQ_(A)}));e&&ur(t).Gw_((t=>!(i&&!i(t))&&ae(t))).Eu_((i=>{const s=i.gt_(),A=e({shape:i,componentnode:t});s!==A&&i.rB_(A)}));t.rd_(A)}cCe_(t){const i=[],s=this.UU_["filternode"];ur(t).Gw_((t=>!(s&&!s(t))&&ae(t))).Eu_((t=>{const s=t.ct_();i.push({shape:t,fillstyle:s})}));ur(t).Gw_((t=>!(s&&!s(t))&&ae(t))).Eu_((t=>{const s=t.gt_();i.push({shape:t,linestyle:s})}));return i}ICe_(t,i){const s=t._C_();t.rd_(!1);i.forEach((t=>{t["fillstyle"]!==void 0?t["shape"].iQ_(t["fillstyle"]):t["linestyle"]!==void 0&&t["shape"].rB_(t["linestyle"])}));t.rd_(s)}};i=t([_s("geotoolkit.schematics.utils.StylesRenderingHints")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzYXZlRGVmYXVsdHMiOiJjQ2VfIiwicmVzdG9yZURlZmF1bHRzIjoiSUNlXyJ9fX0g");var LSt=Ci(function(){var i;let s=i=class t{static HDe_(t){const i=(t.Is_()+t.Cs_()+t.fs_())/3;return new nA(i,i,i,t.ds_())}static qDe_(t){if(!t)return null;const s=t.clone();if(s instanceof Fo){const e=t;s.Iy_(i.HDe_(nA.cs_(e._p_())).Es_());s.fy_(i.HDe_(nA.cs_(e.tm_())).Es_());const A=undefined;s.N_()["stoppoints"].forEach((function(t){const s=t["color"];t["color"]=i.HDe_(nA.cs_(s)).Es_()}))}else s.setColor(i.HDe_(t.hB_()));return s}static JDe_(t){if(!t)return null;const s=t.clone();s.setColor(i.HDe_(t.hB_()));return s}};s=i=t([_s("geotoolkit.schematics.utils.StyleUtils")],s);return s}(),2,"eyJnZXRBdmVyYWdlR3JheUNvbG9yIjoiSERlXyIsImdldEdyYXlTY2FsZUZpbGxTdHlsZSI6InFEZV8iLCJnZXRHcmF5U2NhbGVMaW5lU3R5bGUiOiJKRGVfIiwiZ2V0Q2xhc3NOYW1lIjoiRF8ifSAg");var USt=Ci(function(){let i=class t extends rat{constructor(t){super();const i=qi(t,{minwidth:1,maxwidth:+1/0,aspectratio:10},!0);this.OFs_=i["minwidth"];this.WFs_=i["maxwidth"];this.xZs_=i["aspectratio"];this.Qme_=i["wellborenode"]}PDe_(t,i){const s=undefined;let e;if(i["trajectory"].count()<2)e=i["width"]*t.BI_();else{const i=this.Qme_.rt_().Ts_()*t.sI_()/this.xZs_,s=undefined;if(this.Qme_.hEe_()<1)return i;const A=this.Qme_.hcs_();let n=0,h=0,r=0,o;A.forEach((t=>{t instanceof LMt?++h:++r;const i=t.NCe_(),s=FMt.HCe_(i);s!=null&&(n+=s)}));if(r>0)o=n/r;else{if(!(h>0))return i;o=LMt.tde_}e=i*(this.Qme_.rt_().Ie_()/o)}return e}Ie_(t,i){let s=this.PDe_(t,i);s<this.OFs_&&(s=this.OFs_);s>this.WFs_&&(s=this.WFs_);return s}};i=t([_s("geotoolkit.schematics.WeightedAspectRatioWidthStrategy")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXaWR0aCI6IkllXyJ9fX0g");var YSt=Ci(function(){let i=class t{};i.prototype.VDe_=Zi;i=t([_s("geotoolkit.schematics.widgets.legend.AbstractLegendItemInfoProvider")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRMZWdlbmRJdGVtSW5mbyI6IlZEZV8ifX0sImdldENsYXNzTmFtZSI6IkRfIn0g");var TSt=Ci({ODe_:"Description",Rie_:"Name",WDe_:"DescriptionOrName"},2,"eyJEZXNjcmlwdGlvbiI6Ik9EZV8iLCJOYW1lIjoiUmllXyIsIkRlc2NyaXB0aW9uT3JOYW1lIjoiV0RlXyJ9"),KSt=Ci(function(){let i=class t extends YSt{constructor(t){super();this.d4_=t||TSt.ODe_}VDe_(t){if(!(t instanceof kMt))throw new Error("Invalid parameter type");return this.d4_===TSt.ODe_?FMt.ZCe_(t.Bn_()):this.d4_===TSt.Rie_?t.dn_():FMt.ZCe_(t.Bn_())||t.dn_()}};i=t([_s("geotoolkit.schematics.widgets.legend.DefaultLegendItemInfoProvider")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRMZWdlbmRJdGVtSW5mbyI6IlZEZV8ifX19");const HSt=function(t){return t&&typeof t.zDe_=="function"};var qSt=function(){var i;let s=i=class t{constructor(){this.XDe_={offset:{x:0,y:0},visible:!1,linestyle:"blue",fillstyle:"lightblue",sizeisindevicespace:!0,alignment:dA.ee_,autosize:!0,padding:{top:0,bottom:0,right:0,left:0},legenditem:{textstyle:{color:"black",font:"10px sans-serif"},symbol:{painter:CE,width:0,height:0,linestyle:null,fillstyle:null},gettext:new KSt}}}jDe_(t){const i=Pi(this.XDe_,{});Pi(t,i);return i}static ZDe_(t){return t.xlt_().HY_(0)}static _De_(t,s,e){if(!e)return;(e=Pi(e,{}))["options"]!=null&&e["options"]["scroll"]!=null&&s.IUt_(e["options"]["scroll"]);if(e["visible"]!=null){s.nf_(e["visible"]);e["visible"]=null}if(e["alignment"]!==null){i.$De_(t,s);e["alignment"]=null}const A=e["linestyle"];if(A!=null){const t=!(A instanceof hl);s.rB_(A,t);i.ZDe_(s).rB_(null);e["linestyle"]=null}const n=e["fillstyle"];if(n!=null){const t=!(n instanceof wr);s.iQ_(n,t);i.ZDe_(s).iQ_(n,t);e["fillstyle"]=null}const h=e["width"],r=e["height"];if(h!=null||r!=null){const t=s.getBounds(),i=h!=null?h:t.Ie_(),e=r!=null?r:t.Ts_();s.ht_(new mA(0,0,i,e))}}tMe_(t,s,e){e=Pi(e,{});Pi({alignment:dA.ie_},e);const A=new fN(e);A.Yb_(new xl({css:".SymbolLegendItem:hover { "+" textstyle-underline-color: #000000; textstyle-underline-pixelsnapmode: true; textstyle-color: red;}"+".SymbolLegendItem:selection { "+" textstyle-shadow-enable: true; textstyle-shadow-offsetx: 0.1; textstyle-font-weight: bold;}"}));A.cq_(new Ew(e));i.iMe_(HSt(s)?s:t,A,e);A.nf_(!0);const n=Pi(e["options"],{content:A}),h=new YG(n),r=(new sI).JC_("legendLayer").HC_("legendLayer").aq_(!0).GY_(h),o=new OH({widget:s,layer:r,group:h});o.HC_("legendTool");o.on(HH.e4_,(function(){h.Wj_()}));A.getData().on(fm.yot_,(function(){h.Wj_()}));s.K3_().g1_(0,o);o.g1_(1,h.cUt_());return h}static iMe_(t,i,s){const e=HSt(t)?t:null;if(!((t=HSt(t)?t.zDe_():t)instanceof BSt||t instanceof pSt))return i;t.xye_(((A,n)=>{if(!i.$C_()||!i.getData())return;const h=i.getParent()&&i.getParent().getParent();if(!(h instanceof YG))return;if(!h.$C_())return;const r=i.getData();r.yf_(!0);const o=[],l=A.length,u=s["legenditem"]["gettext"],a=u instanceof YSt?u.VDe_.bind(u):u;for(let n=0;n<l;++n){t;const h=A[n].N_(),l=h["nodeinfo"]+" - "+a(h["node"]);let u=!0,g;for(let t=0;t<r.jv_();t++){g=r.get(t);if(g.Uw_()===h["node"]){g.dt_({text:l});u=!1;break}}if(u){g=new Mb(h["node"],{text:l,textstyle:s["legenditem"]["textstyle"],symbol:s["legenditem"]["symbol"]});g.on(Hs.__,((i,s)=>{(t instanceof BSt||t instanceof pSt)&&t.cye_().$Qe_(s.Uw_(),!0)}));g.on(Hs.Z_,((i,s)=>{(t instanceof BSt||t instanceof pSt)&&t.cye_().$Qe_(s.Uw_(),!1)}));g.on(Hs.st_,((s,A)=>{if((t instanceof BSt||t instanceof pSt)&&e){i.getData().IN_().forEach((t=>{t.Qd_(Rl.Selection)}));const s=A.Uw_();A.Bd_(Rl.Selection);s.BCe_(!0);t.cye_().sEe_([s])}}))}o.push(g)}i.setOptions({data:o});i.wq_();i.zT_();n&&h.gUt_()}));return i}static sMe_(t){const i=undefined;if(t.JV_()["legend"]["alignment"]===dA.W_)return null;let s=t.JV_()["legendalignmentarea"];s==null&&(s=ha.W_);if(s===ha.W_)return t.rt_();const e=t.v4_(s);return e?e.getBounds():null}static eMe_(t,s){const e=i.sMe_(t);if(!e||e.isEmpty())return;const A=s.getBounds();if(!A||A.isEmpty())return;const n=t.JV_()["legend"]["alignment"],h=bn.tI_(e,n),r=bn.tI_(A,n),o=r.getX()-h.getX(),l=r.getY()-h.getY();t.setOptions({legend:{width:A.Ie_(),height:A.Ts_(),offset:{x:o,y:l}}})}static AMe_(t,s){const e=i.sMe_(t);if(!e||e.isEmpty())return;const A=s.getBounds();if(!A||A.isEmpty())return;const n=t.JV_()["legend"]["alignment"],h=bn.tI_(e,n),r=bn.tI_(A,n),o=r.getX()-h.getX(),l=r.getY()-h.getY();t.setOptions({legend:{offset:{x:o,y:l}}})}static $De_(t,s){const e=i.sMe_(t);if(!e||e.isEmpty())return;const A=t.JV_()["legend"]["alignment"],n=bn.tI_(e,A);let h=n.getX(),r=n.getY();const o=t.JV_()["legend"]["offset"];if(o!=null){o["x"]!=null&&(h+=o["x"]);o["y"]!=null&&(r+=o["y"])}const l=s.getBounds(),u=new mA,a=Gn.JI_;bn.iI_(h,r,l.Ie_(),l.Ts_(),a,A,u);s.ht_(u)}};s=i=t([_s("geotoolkit.schematics.widgets.legend.LegendHelper")],s);return s}();const JSt=new hl({color:"blue"}).qD_({x:!0,y:!0}),PSt=new wr({color:"lightblue"}),VSt=new hl("red",1).qD_({x:!0,y:!0}),OSt=new wr("rgba(255,0,0,0.2)");var WSt=Ci(function(){let i=class t{constructor(){ki("geotoolkit.schematics.widgets.utils.LabelingHelper is deprecated since 4.0. Use geotoolkit.schematics.widgets.CompositeSchematicsWidget instead.");this.hpe_=new DNt({painter:tp});this.hpe_.setStyle({linestyle:JSt,fillstyle:PSt});this.Vye_=new DNt({painter:tp});this.Vye_.setStyle({linestyle:VSt,fillstyle:OSt});this.nMe_=new CNt}hMe_(t,i){const s=Pi(i,{});Pi(t,s);this.nMe_=t["connectorShape"]||this.nMe_;let e={};const A=t["mode"];if(A){switch(A){case MNt.dpe_:e={connectorShape:null};break;case MNt.wpe_:e={anchorValueFixed:!0,connectorShape:this.nMe_};t.hasOwnProperty("gap")&&(e["gap"]=t["gap"]);break;case MNt.Qpe_:e={anchorValueFixed:!1,equallySpaced:!1,connectorShape:null};break;case MNt.Bpe_:default:e={anchorValueFixed:!0,equallySpaced:!0,connectorShape:this.nMe_};break}Pi(e,s)}return s}rMe_(){this.hpe_.Ipe_&&this.hpe_.Ipe_(!1);this.Vye_.Ipe_&&this.Vye_.Ipe_(!1);return Pi(null,{labelShape:this.hpe_.dt_({painter:tp}),labelShapeHighlighted:this.Vye_.dt_({painter:tp}),connectorShape:this.nMe_})}oMe_(){this.hpe_.Ipe_&&this.hpe_.Ipe_(!0);this.Vye_.Ipe_&&this.Vye_.Ipe_(!0);return Pi(null,{labelShape:this.hpe_.dt_({painter:cE}),labelShapeHighlighted:this.Vye_.dt_({painter:cE})})}};i=t([_s("geotoolkit.schematics.widgets.utils.LabelingHelper")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREZWZhdWx0TGFiZWxPcHRpb25zIjoick1lXyIsImdldFN5bWJvbExhYmVsT3B0aW9ucyI6Im9NZV8ifX0sImdldENsYXNzTmFtZSI6IkRfIn0g");var zSt=Ci({yQe_:"Whole",Range:"Range"},2,"eyJXaG9sZSI6InlRZV8ifSAg");const XSt=new Bp;var jSt=Ci(function(){let i=class t{render(t,i,s){XSt.Qt_([i.we_(),i.ye_(),i.Qe_()],[i.Ee_(),i.pe_(),i.Ee_()]);XSt.gt_()!==t.gt_()&&XSt.rB_(t.gt_());XSt.render(s)}};i=t([_s("geotoolkit.schematics.widgets.painters.SeaLevelSymbolPainter")],i);return i}(),2,"eyJnZXRDbGFzc05hbWUiOiJEXyJ9");var ZSt=Ci(function(){let i=class t extends su{constructor(t){t=Pi(t,{depth:0});const i=new jSt,s={ax:0,ay:0,width:20,height:5,alignment:dA.le_,sizeisindevicespace:!0,painter:i.render,linestyle:{color:"blue",width:1},fillstyle:null};t["symbol"]=t["symbol"]||new ma(s);super(t);this.setOptions(t)}k6_(t){this.DIt_=t}fn_(){return this.DIt_}lfs_(t){this.X9_=t}G2_(){return this.X9_}render(t){const i=this.getParent();if(!(i instanceof Ic))return;const s=i.getBounds();if(!s)return;this.DIt_.tf_(this.X9_);let e=this.DIt_.Ie_();this.DIt_.WG_()&&(e/=t.Ji_().BI_());const A=s.we_(),n=s.Qe_();for(let i=A;i<=n;i+=e){this.DIt_.$I_(i);this.DIt_.render(t)}}setOptions(t){super.dt_(t);t["symbol"]!==void 0&&this.k6_(t["symbol"]);t["depth"]!==void 0&&this.lfs_(t["depth"])}JV_(){const t=super.N_();t["symbol"]=this.DIt_;t["depth"]=this.X9_;return t}N_(){return this.JV_()}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);this.setOptions(t);return this}};i=t([_s("geotoolkit.schematics.widgets.SeaLevel")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");var _St=Ci(function(){let i=class t{};i.prototype.CEe_=Zi;i.prototype.dEe_=Zi;i.prototype.Tye_=Zi;i.prototype.oAi_=Zi;i.prototype.setData=Zi;i.prototype.JV_=Zi;i.prototype.setOptions=Zi;i=t([_s("geotoolkit.schematics.widgets.ISchematicsWidget")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWaWV3TW9kZSI6IkNFZV8iLCJzZXRWaWV3TW9kZSI6ImRFZV8iLCJnZXRMYWJlbGluZ1N0cmF0ZWd5IjoiVHllXyIsImdldENlbnRlck1vZGVsTGltaXRzIjoib0FpXyIsImdldE9wdGlvbnMiOiJKVl8ifX0sImdldENsYXNzTmFtZSI6IkRfIn0g");function $St(t){return t["type"]!=null}var tGt=function(){let i=class t{static lMe_(t,i,s,e){const A=t.gAi_(i);if(A){const t=OA.Ai_().gn_(s).fn_();A.a_(e+t)}}static G4_(t,i){Object.values(ha).forEach((s=>{const e=i[s];if(!e)return;const A=t.v4_(s);if(!A)return;if(e instanceof ch||Array.isArray(e))return;const n=e.title;if(n!=null){const i=t.gAi_(s);i?i.dt_(n):t.aAi_(s,n)}const h=e.axis;if(h!=null){const i=rQ.R4_(A,nd);let e=null;if(i.length>0){e=i[0];e.dt_(h)}else{const i=t.uMe_?t.uMe_():null;e=t.CAi_(h,s,i)["axis"]}if(e!=null){const t=$St(h)?h["type"]:null;t!=null&&e.setProperty("type",t)}}}))}static aMe_(t){let i=null;Object.values(ha).forEach((s=>{const e=t.v4_(s);if(!e)return;let A=null;const n=t.gAi_(s);n!=null&&(A={title:n.N_()});const h=rQ.R4_(e,nd);if(h.length>0){A==null&&(A={});const t=h[0];A["axis"]=t.N_();const i=t.Id_("type");i!=null&&(A["axis"]["type"]=i)}if(A!=null){i==null&&(i={});i[s]=A}}));return i}static cye_(t){return ur(t).Gw_((function(t){return t instanceof gNt})).xw_()}};i=t([_s("geotoolkit.schematics.widgets.utils.WidgetHelper")],i);return i}();var iGt=Ci({VI_:"Auto",Dt_:"Linear"},2,"eyJBdXRvIjoiVklfIiwiTGluZWFyIjoiRHRfIn0g");const sGt=new hl({color:"blue"}).qD_({x:!0,y:!0}),eGt=new wr({color:"lightblue"}),AGt=new lA,nGt=function(t){return t===LB.X_?dNt.z_:dNt.X_},hGt=function(t){return!t||t.length<1?null:t[t.length-1].toString()},rGt=function(t,i,s,e){for(let A=0;A<i.length;++A){const n=i[A];for(let i=0;i<s.length;++i){const A=s[i],h=undefined;if(ur(A).Gw_((function(t){return t===n})).xw_()){const i=A.getBounds();i&&i.contains(e)&&t.indexOf(A)<0&&t.push(A)}}}},oGt=function(t,i){const s=[],e=[],A=[];let n;for(n=0;n<t.length;++n){const i=t[n];if(i instanceof kMt&&!(i instanceof Cvt)){A.push(i);i instanceof cvt&&e.push(i)}else i instanceof su&&FMt.TCe_(i)&&e.push(i)}rGt(s,e,A,i);return s},lGt=function(t,i){const s=[],e=[];let A;for(A=0;A<t.length;++A){const i=t[A];i instanceof kMt&&!(i instanceof cvt)?e.push(i):i instanceof su&&FMt.TCe_(i)&&s.push(i)}const n=[];rGt(n,s,e,i);return n};var uGt=Ci(function(){var i;let s=i=class t extends _H{constructor(t){ki("geotoolkit.schematics.widgets.SchematicsWidget is deprecated since 4.0. Use geotoolkit.schematics.widgets.CompositeSchematicsWidget instead.");if(t&&t["options"]){ki("geotoolkit.schematics.widgets.SchematicsWidget() param options is deprecated since 2021.1 (3.3) set options in root of params object.");t=Pi(t["options"],{data:t["data"]},!0)}const s=new qSt,e=new WSt,A=Pi({mode:MNt.Bpe_},e.rMe_());let n=(t=Pi(t,{tools:{crosshair:{enabled:!0,horizontal:new hl("red",1,[3,2]).qD_({x:!1,y:!0}),vertical:null},rubberbandzoom:{mode:Wk.ax_,enabled:!1,linestyle:new hl("darkgray",1,[2,2]),fillstyle:new wr("rgba(237,237,237,0.5)")}},tooltip:{divelement:null,gettext:hGt},annotationssizes:{north:60,south:0,east:0,west:65},northwest:{title:{textstyle:{color:"gray",font:"12px Arial"}}},west:{axis:{type:i.gMe_.Dt_,tickposition:yr.PQ_,labelposition:Dr.ne_}},scalescrollstrategy:new jQ,alignment:LB.z_,gap:{horizontal:{left:60,right:60},vertical:{top:0,bottom:0}},sealevel:{depth:0,visible:!1},wellborenode:{automodellimitsmode:!0,valueviewmode:lNt.yQe_,viewMode:rNt.pQe_},trackWidthStrategy:null,multidiameterselectionmode:zSt.Range,legendalignmentarea:ha.ne_,legend:s.jDe_(),labeling:A}))["labelingStrategy"];if(n instanceof bNt)t["labelingStrategy"]=n;else{n=Pi(n,{defaultLocation:nGt(t["alignment"]),defaultAlignment:$bt.lQe_});t["labelingStrategy"]=new aSt(n)}const h=t["wellborenode"];t["highlight"]&&t["highlight"]["component"]&&(h["highlight"]=t["highlight"]["component"]);const r=(new sI).aq_(!1),o=new gNt(h);o.JC_("well_bore_node");o.aq_(h["automodellimitsmode"]);const l=o.S_s_();super(t=Pi({tools:{verticalscroll:{visible:!1},horizontalscroll:{visible:!1}},keepvisiblelimits:!1,model:r,northwest:{title:{text:"MD, "+OA.Ai_().gn_(l["depth"]).fn_()}}},t));this.UU_=t;delete this.UU_["model"];this.cMe_=s;this.IMe_=e;this.Qme_=o;const u={wellborenode:this.Qme_,labelingstrategy:t["labelingStrategy"]};t["highlight"]&&(u["highlight"]=t["highlight"]);this.aye_=()=>{this.notify(hNt.QQe_,this,null)};this.gye_=()=>{this.fMe_();this.wq_();this.notify(hNt.EQe_,this,null)};this.Eye_=new BSt(u);this.Eye_.JC_("well_bore_with_labels");this.Eye_.on(hNt.QQe_,this.aye_);this.Eye_.on(hNt.EQe_,this.gye_);this.ide_=new hB;this.CMe_=new ZSt(t["sealevel"]);this.JQe_=null;this.dMe_=(new sI).aq_(!1).GY_(this.CMe_);this.LM_().GY_([this.dMe_,this.Eye_]);this.BMe_=vd.Ai_().E$_();this.wMe_=new iB;this.vni_=this.cMe_.tMe_(this.Eye_,this,this.UU_["legend"]);this.GY_(this.QMe_());qSt.$De_(this,this.vni_);const a=this.C5_("legendTool");a instanceof OH&&a.on(HH.cei_,this.EMe_.bind(this));this.s3t_.aq_(!0);this.X$i_().forEach((t=>{this.s3t_.connect(t,this.Qme_)}));this.pMe_=this.s3t_.L4_();this.pMe_.GY_((new Sc).rB_(new hl("grey",1)));this.Qye_=this.Eye_.Tye_();this.Qye_.JV_()["labelshape"].setStyle({linestyle:sGt,fillstyle:eGt});this.s3t_.GY_((new Sc).rB_(new hl("grey",1)));this.UU_["trackWidthStrategy"]||(this.UU_["trackWidthStrategy"]=new USt({wellborenode:this.Qme_}));this.setOptions(this.UU_);if(t["data"]){this.setData(t["data"]);h["componentsvisibility"]&&this.Qme_.REe_(h["componentsvisibility"])}else this.fMe_();delete this.UU_["data"]}uMe_(){return this.Qme_}O4_(t,i,s,e){super.O4_(1,i,0,e);return this}P4_(t,i){super.P4_(0,i);return this}oN_(t){this.UU_["scalescrollstrategy"]=t;super.oN_(t);return this}QMe_(){return this.vni_.getParent()}k$s_(t,i){return this.ide_&&NA.Ve_(t)?this.ide_.transform(t,i):NaN}EMe_(t,i,s){i===this.C5_("legendTool")&&qSt.AMe_(this,this.vni_);return this}mMe_(){ur(this.v4_(ha.sG_)).Gw_((function(t){return t instanceof nd})).Eu_((t=>{this.yMe_(t,"west")}));ur(this.v4_(ha.AG_)).Gw_((function(t){return t instanceof nd})).Eu_((t=>{this.yMe_(t,"east")}))}DMe_(t,i){return t[i]&&t[i]["axis"]&&t[i]["axis"]["type"]?t[i]["axis"]["type"]:null}yMe_(t,s){const e=this.DMe_(this.UU_,s);if(!e)return this;const A=this.Qme_.CEe_();let n=null;if(this.UU_[s]["axis"]["tickgenerator"]){n=this.UU_[s]["axis"]["tickgenerator"];n.hL_(this.ide_);n.Yx_((function(t,i,s,e,A,n){return Math.round(n).toString()}))}else if(e===i.gMe_.Dt_||A===rNt.W8_){n=this.BMe_;n.hL_(this.ide_);n.Yx_((function(t,i,s,e,A,n){return Math.round(n).toString()}))}else if(e===i.gMe_.VI_){const t=this.ide_.N_();if(t["outputvalues"]&&t["outputvalues"].length>0){const i=[];for(let s=0;s<t["outputvalues"].length;++s)i.push(Math.round(t["outputvalues"][s]));this.wMe_.X$_({positions:t["inputvalues"],labels:i});n=this.wMe_}}n&&t.jZ_(n);return this}CEe_(){return this.Qme_.CEe_()}dEe_(t){const i=this.Qme_.dEe_(t);if(i){this.ide_.dt_({inputvalues:i["boundsdepths"],outputvalues:i["modellimitsdepths"]});const t=this.ide_.transform(this.UU_["sealevel"]["depth"],!0);this.CMe_.lfs_(t);this.mMe_()}if(t===rNt.mQe_){this.fMe_();this.td_(void 0,!0)}this.wq_();return i}yus_(t,i){i||(i=new lA);if(isNaN(t.getY())){i.vs_(Number.NaN,Number.NaN);return i}isNaN(t.getX())&&t.setX(0);this.Qme_.if_().aI_(t,i);const s=this.ide_.transform(i.getY());i.setY(s);return i}MMe_(t,i){i||(i=new lA);const s=this.ide_.transform(t.getY(),!0);i.vs_(t.getX(),s);this.Qme_.if_().transformPoint(i,i);return i}Tye_(){return this.Eye_.Tye_()}oAi_(){return this.Qme_!=null?this.Qme_.rt_():null}vMe_(t){this.OSt_||(this.OSt_=bC.IO_());const i=this.OSt_.select(this,t.x,t.y,2);this.Qme_.if_().aI_(t,AGt);let s;s=this.UU_["multidiameterselectionmode"]===zSt.yQe_?lGt(i,AGt):oGt(i,AGt);const e=undefined;return this.UU_["tooltip"]["gettext"](s)}Jei_(t){if(!t)return this;super.Jei_(t);if(t["rubberbandzoom"]!=null&&t["rubberbandzoom"]["mode"]!=null){const i=this.C5_("rubberband");i&&i.TZt_(t["rubberbandzoom"]["mode"])}if(t["tooltip"]!=null){const i=this.C5_("tooltip");i&&i.dt_(t["tooltip"])}return this}iEe_(){return this.Qme_.iEe_()}sEe_(t){this.Qme_.sEe_(t);return this}A4t_(t){super.A4t_();const i=new iY({layer:this,divelement:t["tooltip"]["divelement"],autoupdate:!1,autoflip:t["tooltip"]["autoflip"],callback:this.vMe_.bind(this)});this.s3t_.on(sQ.w4_,(()=>{const t=this.C5_("tooltip");t&&t.isEnabled()&&t.s0t_()}));let s=[];this.C5_("pick").jOt_(CF.et_).$qt_(fk.zqt_).off(wF.yOt_).Kv_(!0).on(wF.yOt_,(()=>{this.sEe_(s.length>0?[s[s.length-1]]:s);s=[]})).HOt_((t=>{let i=null;if(t instanceof mNt)i=FMt.UCe_(t);else if(t instanceof su){i=FMt.TCe_(t);i instanceof Cvt&&this.UU_["multidiameterselectionmode"]===zSt.Range&&(i=null)}else t instanceof cvt&&(i=this.UU_["multidiameterselectionmode"]===zSt.yQe_?ch.Dd_(t,kMt):t);if(i){const t=this.Qme_.xCe_(i);t&&(i=t);s.indexOf(i)<0&&s.push(i)}}));this.h4t_(i);return this}PQe_(t){this.JQe_&&this.JQe_.off(fm.mot_,this.$Mt_.bind(this));this.JQe_=t;this.JQe_&&this.JQe_.on(fm.mot_,this.$Mt_.bind(this));this.$Mt_();return this}getData(){return this.JQe_}$Mt_(){this.Qme_.PQe_(this.JQe_);this.dEe_(this.Qme_.CEe_());this.fMe_();return this}setData(t){if(this.JQe_===t){this.$Mt_();return this}this.JQe_&&this.JQe_.hcs_().length>0&&this.JQe_.uBe_();if(t instanceof nvt)this.PQe_(t);else if(!t||Array.isArray(t)&&t.length===0)this.JQe_=null;else if(this.JQe_)this.JQe_.jde_(t);else{const i=new nvt(t);this.PQe_(i)}return this}JV_(){return Pi(this.UU_,{})}setOptions(t){this.UU_=Pi(t,this.UU_);tGt.G4_(this,t);t["tools"]!=null&&this.Jei_(t["tools"]);t["sealevel"]!==void 0&&this.CMe_.dt_(t["sealevel"]);t["trackWidthStrategy"]!==void 0&&(this.UU_["trackWidthStrategy"]=t["trackWidthStrategy"]);t["scalescrollstrategy"]!==void 0&&this.oN_(t["scalescrollstrategy"]);t["legendalignmentarea"]!==void 0&&(this.UU_["legendalignmentarea"]=t["legendalignmentarea"]);t["multidiameterselectionmode"]!==void 0&&(this.UU_["multidiameterselectionmode"]=t["multidiameterselectionmode"]);t["annotationssizes"]!=null&&this.vei_(t["annotationssizes"]);if(t["labelingStrategy"]!=null){if(typeof t["labelingStrategy"]["defaultAlignment"]=="number"){ki("Set option ScematicsWidget.labelingStrategy.defaultAlignment with number is deprecated "+"since 4.0. Use enum AlignmentType instead");t["labelingStrategy"]["defaultAlignment"]=tNt[t["labelingStrategy"]["defaultAlignment"]]}if(typeof t["labelingStrategy"]["defaultLocation"]=="number"){ki("Set option ScematicsWidget.labelingStrategy.defaultLocation with number is deprecated "+"since 4.0. Use enum LocationType instead");t["labelingStrategy"]["defaultLocation"]=BNt[t["labelingStrategy"]["defaultLocation"]]}this.Qye_=t["labelingStrategy"];this.Eye_.wye_(t["labelingStrategy"])}t["alignment"]&&this.Eye_.Tye_().setOptions({defaultlocation:nGt(t["alignment"])});const i=t["wellborenode"];if(i!=null){i["highlight"]&&ki("highlight options is deprecated. Use SymbolLabelShape with stylesHandler instead.");i["automodellimitsmode"]!=null&&this.Qme_.aq_(i["automodellimitsmode"]);i["modellimits"]==null||this.Qme_.gq_()||this.Qme_.Lq_(i["modellimits"]);i["renderinghints"]!=null&&this.Qme_.SCe_(i["renderinghints"]);if(i["registry"]!=null){this.Qme_.UQe_(i["registry"]);this.dEe_(this.CEe_())}if(i["viewMode"]!=null){const t=gNt.YQe_(i["viewMode"]);this.Qme_.dEe_(t)}if(i["units"]!=null){this.y_s_(i["units"]);t["northwest"]!==void 0&&t["northwest"]["title"]!==void 0&&t["northwest"]["title"]["text"]!==void 0||tGt.lMe_(this,ha.hG_,this.Qme_.S_s_()["depth"],"MD, ")}i["forceopenhole"]!=null&&this.Qme_.NEe_(i["forceopenhole"]);if(i["valueviewmode"]!=null){this.Qme_.fEe_(i["valueviewmode"]);this.Qme_.kY_(i["valueviewmode"]!==lNt.yQe_)}i["componentsvisibility"]&&this.Qme_.REe_(i["componentsvisibility"]);i["geometrylimits"]!==void 0&&this.Qme_.eEe_(i["geometrylimits"])}t.hasOwnProperty("labelshape")&&this.Qye_.JV_()["labelShape"]instanceof nSt&&t["labelshape"]["padding"]!==void 0&&this.Qye_.JV_()["labelShape"].Iq_(t["labelshape"]["padding"]);const s=t["labeling"];if(s!=null){this.Eye_.setOptions({labeling:s});this.Qye_.setOptions(this.IMe_.hMe_(s,this.Qye_.JV_()));this.Eye_.wye_(this.Qye_);if(s["mode"]&&s["mode"]===MNt.dpe_){t["legend"]===void 0&&(t["legend"]={});t["legend"]["visible"]===void 0&&(t["legend"]["visible"]=!1)}}const e=t["legend"];if(e!=null){e["alignment"]==null&&(e["alignment"]=this.JV_()["legend"]["alignment"]);qSt._De_(this,this.vni_,e);e["visible"]!=null&&this.C5_("legendTool")&&this.C5_("legendTool").setActive(e["visible"]);if(e["legenditem"]){const t=qSt.ZDe_(this.vni_);qSt.iMe_(this.Eye_,t,this.UU_["legend"])}}t["legend"]&&t["legend"]["visible"]!=null&&this.Qye_.Ipe_(t["legend"]["visible"]);(this.DMe_(t,"west")||this.DMe_(t,"east"))&&this.mMe_();this.wq_();return this}y_s_(t){this.Qme_.y_s_(t);this.dEe_(this.CEe_());return this}bMe_(t){return this.UU_["annotationssizes"][t]}wq_(t){if(this.pMe_==null)return this;const i=new mA(this.getBounds()),s=i.Ie_(),e=i.Ts_();if(s===0||e===0)return this;if(!this.s3t_)return this;if(this.NMe_)return this;this.NMe_=!0;this.Lq_(new mA(i));this.s3t_.Lq_(new mA(i));const A=this.bMe_(ha.sG_),n=this.bMe_(ha.eG_),h=this.bMe_(ha.AG_),r=this.bMe_(ha.nG_),o=new mA(0,0,s-A-h,e-n-r);this.pMe_.Lq_(new mA(o));this.LM_().Lq_(new mA(o));if(this.CEe_()===rNt.mQe_){this.fMe_();this.td_()}this.fMe_();this.NMe_=!1;return this}SMe_(t){const i=this.UU_["trackWidthStrategy"],s=this.Qme_.if_(),e=this.T4_.if_();if(s&&e){const A=Gn.multiply(e.rI_(),s),n=new _Ct({data:{x:[0,0],y:[t.Ee_(),t.pe_()]}});return i.Ie_(A,{trajectory:n,width:t.Ie_()})}return t.Ie_()}X$i_(t){return ur(this.s3t_).Gw_((function(i){return i instanceof nd&&(t===void 0||i.KH_()===t)})).Fw_()}GMe_(t){this.X$i_().forEach((function(i){i.nf_(t)}))}RMe_(t,i){return this.UU_["gap"]===void 0?0:typeof this.UU_["gap"]=="number"?this.UU_["gap"]:this.UU_["gap"][t]===void 0?0:typeof this.UU_["gap"][t]=="number"?this.UU_["gap"][t]:this.UU_["gap"][t][i]}fMe_(){if(this.JQe_&&this.JQe_.hcs_().length<1)return;this.s3t_.oN_(null);const t=this.LM_().rt_(),i=t.we_(),s=t.Qe_(),e=this.Qme_.rt_();if(!e||e.isEmpty())return;const A=e.Ee_(),n=e.pe_(),h=new mA(i,A,s,n);this.Eye_.Lq_(new mA(h));this.dMe_.Lq_(new mA(h));const r=this.SMe_(e),o=this.RMe_("horizontal","left"),l=this.RMe_("horizontal","right"),u=this.RMe_("vertical","top"),a=this.RMe_("vertical","bottom"),g=this.Eye_.Tye_();let c,I;if(this.UU_["alignment"]===LB.z_){c=new mA(i+o,A+u,i+o+r,n-a);I=new mA(i+o+r+l,A+u,s-l,n-a);g.Npe_({Right:I})}else if(this.UU_["alignment"]===LB.X_){c=new mA(s-l-r,A+u,s-l,n-a);I=new mA(i+o,A+u,s-l-r-o,n-a);g.Npe_({Left:I})}else{const e=t.ye_();c=new mA(e-r/2,A,e+r/2,n);const h=new mA(i+o,A+u,c.we_()-o,n-a),I=new mA(c.Qe_()+l,A+u,s-l,n-a);g.Npe_({Left:h,Right:I})}this.Qme_.ht_(c);this.s3t_.oN_(this.UU_["scalescrollstrategy"]);qSt.$De_(this,this.vni_);this.C5_("legendTool")&&this.C5_("legendTool").setActive(!1);this.td_(void 0,!0)}N_(){let t=super.N_();t=qi(this.UU_,t);delete t["tooltip"];return t}dt_(t){if(t==null)return this;super.dt_(t);this.setOptions(t);t["data"]!==void 0&&this.setData(t["data"]);return this}kMe_(){return this.vni_.xlt_().getBounds()!=null?this.vni_.xlt_().getBounds().Ie_():0}FMe_(){const t=this.RMe_("horizontal","left"),i=this.RMe_("horizontal","right");let s=t+this.Qme_.getBounds().Ie_()+i;const e=this.Tye_();this.xMe_=[];let A=e.JV_()["defaultLocation"];A!==dNt.z_&&A!==dNt.X_||this.xMe_.push(A);const n=e.JV_()["locationMap"];if(n)for(let t=0;t<n.length;++t){A=n[t]["location"];(A===dNt.z_||A===dNt.X_)&&this.xMe_.indexOf(A)<0&&this.xMe_.push(A)}s+=this.Eye_.Rye_().Ie_()+this.Eye_.kye_().Ie_();if(this.UU_["legend"]["visible"]&&this.kMe_()>0){s+=this.kMe_();this.UU_["alignment"]===LB.z_?s+=2*i:this.UU_["alignment"]===LB.X_&&(s+=2*t)}else this.UU_["alignment"]===LB.z_?s+=i:this.UU_["alignment"]===LB.X_&&(s+=t);return s}DP_(){super.DP_();this.QMe_().ht_(new mA(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER));if(this.UU_["legend"]["visible"]&&this.kMe_()>0){this.mAi_().LMe_=this.vni_.getBounds().clone();const t=this.vni_.getBounds().clone(),i=this.RMe_("horizontal","left"),s=this.RMe_("horizontal","right");this.UU_["alignment"]===LB.z_?t.setX(this.bMe_(ha.sG_)+this.UMe_-s-this.kMe_()):this.UU_["alignment"]===LB.X_&&t.setX(this.bMe_(ha.sG_)+i);this.vni_.ht_(t)}return this}sei_(t){t||(t={});t["modellimits"]=t["modellimits"]||this.LM_().rt_().clone();const i=this.LM_().rt_(),s=this.FMe_();let e,A;if(this.UU_["alignment"]===LB.z_){e=i.we_();A=e+s}else if(this.UU_["alignment"]===LB.X_){A=i.Qe_();e=A-s-this.bMe_(ha.sG_)-this.RMe_("horizontal","left")}else if(this.xMe_.length===0||this.xMe_.length===2){const t=i.ye_();e=t-s/2-this.RMe_("horizontal","left");A=t+s/2+this.RMe_("horizontal","right")}else{const t=this.Qme_.getBounds();if(this.xMe_[0]===dNt.z_){A=t.Qe_()+this.RMe_("horizontal","right");e=A-s}else{e=t.we_()-this.RMe_("horizontal","left");A=e+s}}this.UMe_=A-e;t["modellimits"].setX(e).de_(this.UMe_);return super.sei_(t)}yP_(){this.UU_["legend"]["visible"]&&this.kMe_()>0&&this.vni_.ht_(this.mAi_().LMe_);super.yP_()}dispose(){if(!this.Df_()){if(this.Eye_){this.Eye_.off(hNt.QQe_,this.aye_);this.Eye_.off(hNt.EQe_,this.gye_)}super.dispose()}}};s.gMe_=iGt;s=i=t([Zs(_St),_s("geotoolkit.schematics.widgets.SchematicsWidget")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzY2FsZU1vZGVsIjoiTzRfIiwidHJhbnNsYXRlTW9kZWwiOiJQNF8iLCJzZXRTY2FsZVNjcm9sbFN0cmF0ZWd5Ijoib05fIiwidHJhbnNmb3JtRGVwdGgiOiJrJHNfIiwiZ2V0Vmlld01vZGUiOiJDRWVfIiwic2V0Vmlld01vZGUiOiJkRWVfIiwiZ2V0TW9kZWxQb2ludCI6Inl1c18iLCJnZXREZXZpY2VQb2ludCI6Ik1NZV8iLCJnZXRMYWJlbGluZ1N0cmF0ZWd5IjoiVHllXyIsImdldENlbnRlck1vZGVsTGltaXRzIjoib0FpXyIsInNldFRvb2xzT3B0aW9ucyI6IkplaV8iLCJnZXRTZWxlY3RlZENvbXBvbmVudE5vZGVzIjoiaUVlXyIsInNldFNlbGVjdGVkQ29tcG9uZW50Tm9kZXMiOiJzRWVfIiwiaW5pdGlhbGl6ZVRvb2xzIjoiQTR0XyIsImdldE9wdGlvbnMiOiJKVl8iLCJ1cGRhdGVMYXlvdXQiOiJ3cV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiYmVnaW5FeHBvcnQiOiJEUF8iLCJleHBvcnRUb1BkZiI6InNlaV8iLCJlbmRFeHBvcnQiOiJ5UF8ifX19");var aGt=Ci(function(){let i=class t extends YB{ce_(t){if(!t)throw new Error("Invalid layout area");super.ce_(t);return this}IN_(t){const i=this.c1_.length>0||t==null?this.c1_:t;return Array.isArray(i)?Au.cN_(i):i}sT_(t,i){const s=this.B1_()!=null?this.B1_():t,e=this.IN_(i).toArray();if(e==null||!s||s.Ie_()<=0)return t.clone();const A=s.Ts_(),n=s.Ie_();let h=-1,r=-1,o=-1,l=-1,u=-1;for(let t=0;t<e.length;++t)e[t].XC_()==="composite_top_gap"?h=t:e[t].XC_()==="composite_left_gap"?r=t:e[t].XC_()==="composite_right_gap"?o=t:e[t].XC_()==="composite_bottom_gap"?l=t:e[t].XC_()==="composite_data_model"&&(u=t);if(u===-1)return t.clone();const a=e[u].NS_(),g=a.Ie_()/a.Ts_();if(Number.isNaN(g))return t.clone();const c=r>-1?ua.gG_(e[r],n):0,I=o>-1?ua.gG_(e[o],n):0;let f=c+ua.gG_(e[u],n)+I;const C=h>-1?ua.cG_(e[h],A):0,d=l>-1?ua.cG_(e[l],A):0;let B=C+ua.cG_(e[u],A)+d;f=n;B=C+d+(f-c-I)/g;if(B>A){B=A;f=c+I+(B-C-d)*g}return new mA(0,0,f,B)}eT_(t,i){const s=this.B1_()!=null?this.B1_():t,e=this.IN_(i).toArray();if(e==null||!s||s.Ie_()<=0)return this;const A=s.Ts_(),n=s.Ie_(),h=s.Me_(),r=h.x,o=h.y;let l=0,u=0,a=-1,g=-1,c=-1,I=-1,f=-1;for(let t=0;t<e.length;++t)e[t].XC_()==="composite_top_gap"?a=t:e[t].XC_()==="composite_left_gap"?g=t:e[t].XC_()==="composite_right_gap"?c=t:e[t].XC_()==="composite_bottom_gap"?I=t:e[t].XC_()==="composite_data_model"&&(f=t);if(f===-1)return this;const C=g>-1?ua.gG_(e[g],n):0,d=c>-1?ua.gG_(e[c],n):0;let B=C+ua.gG_(e[f],n)+d;const w=a>-1?ua.cG_(e[a],A):0,Q=I>-1?ua.cG_(e[I],A):0;let E=w+ua.cG_(e[f],A)+Q;const p=e[f].NS_(),m=p.Ie_()/p.Ts_();if(Number.isNaN(m)){B=n;E=A}else{B=n;E=w+Q+(B-C-d)/m;if(E>A){E=A;B=C+d+(E-w-Q)*m}}const y=B-(C+d),D=E-(w+Q);g>-1&&e[g].ht_(new mA(r,o,r+C,o+E));l=r+C;u=o;a>-1&&e[a].ht_(new mA(l,u,l+y,u+w));l=r+C;u=o+w;e[f].ht_(new mA(l,u,l+y,u+D));l=r+C+y;u=o;c>-1&&e[c].ht_(new mA(l,u,l+d,u+E));l=r+C;u=o+w+D;I>-1&&e[I].ht_(new mA(l,u,l+y,u+Q));return this}};i=t([_s("geotoolkit.schematics.widgets.Layout")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJsYXlvdXQiOiJlVF8iLCJnZXRQcmVmZXJyZWRTaXplIjoic1RfIiwiZ2V0SXRlcmF0b3IiOiJJTl8iLCJzZXRSZWN0IjoiY2VfIn19fSAg");var gGt=Ci(function(){let i=class t extends _H{constructor(t){ki("geotoolkit.schematics.widgets.DeviatedSchematicsWidget is deprecated since 4.0. Use geotoolkit.schematics.widgets.CompositeSchematicsWidget instead.");if(t&&t["options"]){ki("geotoolkit.schematics.widgets.DeviatedSchematicsWidget() param options is deprecated since 2021.1 (3.3) set options in root of params object.");t=Pi(t["options"],{data:t["data"]})}t=t||{};const i=new qSt,s=new WSt,e=Pi({labelsfilter:new RNt,defaultLocation:dNt.VI_,mode:MNt.Bpe_,gap:0},s.rMe_());t["scalesratio"]!=null&&typeof t["scalesratio"]!="number"&&ki("options.scalesratio should be number");(t=Pi(t,{tools:{crosshair:{enabled:!0,horizontal:new hl("white"),vertical:null,center:{visible:!0,textstyle:new qa,fillstyle:"rgba(245,245,245,0.85)",linestyle:"black",padding:6,lockx:!0,radius:6,alignment:dA.re_}},rubberbandzoom:{mode:Wk.tVt_}},tooltip:{divelement:null,gettext:function(t){return!t||t.length<1?null:t[t.length-1].toString()},autoflip:!0},annotationssizes:{north:35,south:35,east:20,west:65},northwest:{title:{textstyle:{color:"gray",font:"12px Arial"}}},southwest:{title:{textstyle:{color:"gray",font:"12px Arial"}}},west:{axis:{tickposition:yr.PQ_,labelposition:Dr.ne_}},south:{axis:{tickposition:yr.PQ_,labelposition:Dr.ne_}},border:null,sealevel:{depth:0,visible:!1},wellborenode:{renderinghints:{},registry:null,viewMode:rNt.pQe_},legendalignmentarea:ha.ne_,legend:i.jDe_({alignment:dA.ee_}),labeling:e,deviation:{trackWidth:250,offset:0,clip:!1},gap:{top:{visible:!0,resizable:!0,fillstyle:null,linestyle:null,size:"50px"},left:{visible:!0,resizable:!0,fillstyle:null,linestyle:null,size:"100px"},right:{visible:!0,resizable:!0,fillstyle:null,linestyle:null,size:"100px"},bottom:{visible:!0,resizable:!0,fillstyle:null,linestyle:null,size:"50px"}},units:{x:"ft",y:"ft"},scalesratiomode:bSt.hDe_,scalesratio:1,webglrendering:!0}))["scalescrollstrategy"]=t["scalesratiomode"]===bSt.tVt_?new jQ:new NQ({keepaspectratio:!0,aspectratio:t["scalesratio"],alignment:dA.ne_,mode:jw.g4_});t["wellborenode"]["registry"]||(t["wellborenode"]["registry"]=new Jbt);super(t=Pi(t,{tools:{verticalscroll:{visible:!0},horizontalscroll:{visible:!0}},model:new sI,keepvisiblelimits:!1}));this.Q_s_=OA.Ai_();const A={crosshair:{center:{textconverter:(t,i)=>{this.ide_&&(i=this.ide_.transform(i,!1));return"MD: "+Math.round(i)}}}};this.Jei_(A);this.UU_=t;this.cMe_=i;this.IMe_=s;this.Qme_=new gNt({viewmode:rNt.W8_});this.Qme_.JC_("well_bore_node");this.aye_=(t,i)=>{this.notify(hNt.QQe_,this,null)};this.gye_=(t,i)=>{this.notify(hNt.EQe_,this,null)};this.Eye_=new pSt({name:"Deviated WellBore Node",wellBoreNode:this.Qme_,padding:0});this.Eye_.on(hNt.QQe_,this.aye_);this.Eye_.on(hNt.EQe_,this.gye_);this.CMe_=new ZSt(t["sealevel"]);this.dMe_=(new sI).aq_(!1).GY_(this.CMe_);const n=this.LM_();this.YMe_=new aGt;this.TMe_=(new sI).ft_({left:0,top:0,right:0,height:t["gap"]["top"]["size"]});n.GY_(this.TMe_);this.KMe_=(new sI).ft_({left:0,top:0,bottom:0,width:t["gap"]["left"]["size"]});n.GY_(this.KMe_);this.HMe_=(new sI).ft_({top:0,bottom:0,right:0,width:t["gap"]["right"]["size"]});n.GY_(this.HMe_);this.qMe_=(new sI).ft_({left:0,bottom:0,right:0,height:t["gap"]["bottom"]["size"]});n.GY_(this.qMe_);this.lNt_=(new sI).GY_([this.dMe_,this.Eye_,this.JMe_=(new Sc).JC_("gap_border").NT_(wc.mT_)]).ft_({width:1,height:1});n.GY_(this.lNt_);this.lNt_.ud_=function(){return!0};this.C5_("manipulatorTools").xkt_(this.s3t_);let h,r;this.X$i_().forEach((function(t){const i=t.ZZ_();i instanceof JC&&(t.KH_()==="vertical"?h=i:r=i)}));this.PMe_=h?h.clone():new JC;this.PMe_.Vx_("major").setColor("#ededed").IQ_(el.yD_);this.PMe_.Vx_("minor").setColor("#ededed").IQ_(el.yD_);this.PMe_.Hx_("edge",!1);this.VMe_=r?r.clone():new JC;this.VMe_.Vx_("major").setColor("#ededed").IQ_(el.yD_);this.VMe_.Vx_("minor").setColor("#ededed").IQ_(el.yD_);this.VMe_.Hx_("edge",!1);this.OMe_=new sB(this.PMe_,null)._Z_(!0);this.WMe_=(new sI).GY_(this.OMe_);this.zMe_=new sB(null,this.VMe_)._Z_(!0);this.XMe_=(new sI).GY_(this.zMe_);this.ide_=new hB;this.s3t_.L4_().xY_(0,this.WMe_);this.s3t_.L4_().xY_(0,this.XMe_);this.vni_=this.cMe_.tMe_(this.Eye_,this,this.UU_["legend"]);this.GY_(this.QMe_());qSt.$De_(this,this.vni_);this.C5_("legendTool")&&this.C5_("legendTool").on(HH.cei_,this.EMe_.bind(this));this.jMe_();this.UZs_=this.Eye_.Sye_();this.Qye_=this.Eye_.Tye_();this.ZMe_=[];this._Me_();this.setOptions(this.UU_);if(t["data"]){this.setData(t["data"]);t["wellborenode"]["componentsvisibility"]&&this.Qme_.REe_(t["wellborenode"]["componentsvisibility"])}this.oN_(this.UU_["scalescrollstrategy"])}oN_(t){this.UU_["scalescrollstrategy"]=t;super.oN_(t);return this}QMe_(){return this.vni_.getParent()}yus_(t,i){i||(i=new lA);if(isNaN(t.getX())||isNaN(t.getY())){i.vs_(Number.NaN,Number.NaN);return i}const s=this.$Me_(t);if(isNaN(s.getX())||isNaN(s.getY())){i.vs_(Number.NaN,Number.NaN);return i}const e=this.ide_.transform(s.getY());i.vs_(s.getX(),e);return i}MMe_(t,i){i||(i=new lA);if(isNaN(t.getX())||isNaN(t.getY())){i.vs_(Number.NaN,Number.NaN);return i}const s=this.ide_.transform(t.getY(),!0);t.vs_(t.getX(),s);const e=this.tve_(t);return i.vs_(e.getX(),e.getY())}k$s_(t,i){return this.ide_&&NA.Ve_(t)?this.ide_.transform(t,i):NaN}EMe_(t,i,s){i===this.C5_("legendTool")&&qSt.AMe_(this,this.vni_);return this}_Me_(){this.X$i_().forEach((t=>{const i=new UCt(this.UZs_,this.ide_,t);this.ZMe_.push(i)}))}jMe_(){this.X$i_().forEach((t=>{t._Z_(!0);this.s3t_.connect(t,this.lNt_)}));this.s3t_.connect(this.WMe_,this.lNt_,fg.ax_);this.s3t_.connect(this.XMe_,this.lNt_,fg.ux_)}CEe_(){return this.Qme_.CEe_()}dEe_(t){const i=this.Qme_.dEe_(t);i&&this.ide_.dt_({inputvalues:i["boundsdepths"],outputvalues:i["modellimitsdepths"]});t===rNt.W8_?this.ZMe_.forEach((t=>t._1t_().ZZ_().hL_(null))):this.ZMe_.forEach((t=>t._1t_().ZZ_().hL_(t)));const s=ur(this.Eye_).Gw_('node => id(node) == "group_with_cache"').xw_();s&&s.yq_()&&s.yq_().td_(s.yq_().oA_());return i}oAi_(){return this.Qme_!=null?this.Qme_.rt_():null}ive_(){this.sve_||(this.sve_=new Gn);Gn.xI_(this.UZs_.rt_(),this.Qme_.rt_(),!1,!1,!1,this.sve_);return this.sve_}tve_(t){const i=this.UZs_;if(!i)return null;const s=i.qUs_();if(s==null)return null;const e=i.if_();this.wUs_?this.wUs_.update(e):this.wUs_=s["transformer"].create(s,e);this.ive_().uI_(t,t);const A=undefined;return this.wUs_.transform(t)}$Me_(t){const i=this.UZs_;if(!i)return null;const s=i.qUs_();if(s==null)return null;const e=i.if_();this.wUs_?this.wUs_.update(e):this.wUs_=s["transformer"].create(s,e);const A=this.wUs_.uI_(t);this.ive_().transform(A,A);return A}vMe_(t){this.OSt_||(this.OSt_=bC.IO_());const i=this.OSt_.select(this,t.x,t.y,2),s=[],e=[];let A;for(A=0;A<i.length;++A){const t=i[A];t instanceof kMt?e.push(t):t instanceof su&&FMt.TCe_(t)&&s.push(t)}const n=[];if(s.length>0){const i=this.$Me_(t);for(A=0;A<s.length;++A){const t=s[A];for(let s=0;s<e.length;++s){const A=e[s],h=undefined;if(ur(A).Gw_((function(i){return i===t})).xw_()){const t=A.getBounds();t&&t.contains(i)&&n.indexOf(A)<0&&n.push(A)}}}}const h=undefined;return this.UU_["tooltip"]["gettext"](n)}iEe_(){return this.Qme_.iEe_()}sEe_(t){this.Qme_.sEe_(t);return this}A4t_(t){super.A4t_();const i=new iY(qi({layer:this,autoupdate:!1,callback:this.vMe_.bind(this)},t["tooltip"],!0));this.s3t_.on(sQ.w4_,(()=>{const t=this.C5_("tooltip");t&&t.isEnabled()&&t.s0t_()}));const s=this.mgt_(),e=this.C5_("cross-hair").cOt_((function(t){const i=bC.select(s.getRoot(),t.getX(),t.getY(),1)||[];for(let t=0;t<i.length;t++){const s=i[t];if(s instanceof gNt&&s.dn_()!=="ghost_node")return s}return null}));e.SWt_=e.setPosition;e["setCursor"]=e.setPosition;this.eve_=e;this.C5_("rubberband").off(rU.jZt_).on(rU.jZt_,((t,i,s)=>{const e=s.getArea(),A=this.LM_().if_().transform(e);this.f3t_()._Y_(e);this.Ave_(new lA(A.ye_(),A.De_()))}));let A=[];this.C5_("pick").jOt_(CF.et_).$qt_(fk.zqt_).off(wF.yOt_).Kv_(!0).on(wF.yOt_,(()=>{this.sEe_(A.length>0?[A[A.length-1]]:A);A=[]})).HOt_((t=>{let i=null;t instanceof mNt?i=FMt.UCe_(t):t instanceof su&&(i=FMt.TCe_(t));if(i){const t=this.Qme_.xCe_(i);t&&(i=t);A.indexOf(i)<0&&A.push(i)}}));this.h4t_([i,this.nve_=new wU(s,fg.ax_).S_t_([this.KMe_,this.lNt_,this.HMe_]).on(IU.p_t_,(()=>{this.Ave_()})).on(IU.y_t_,((t,i,s)=>{const e=s.E_t_();let A=null;e["left"]===this.KMe_&&(A=this.JV_()["gap"]["left"]["linestyle"]);e["right"]===this.HMe_&&(A=this.JV_()["gap"]["right"]["linestyle"]);A!=null&&this.nve_.rB_(A)})),this.hve_=new wU(s,fg.ux_).S_t_([this.TMe_,this.lNt_,this.qMe_]).on(IU.p_t_,(()=>{this.Ave_()})).on(IU.y_t_,((t,i,s)=>{const e=s.E_t_();let A=null;e["top"]===this.TMe_&&(A=this.JV_()["gap"]["top"]["linestyle"]);e["bottom"]===this.qMe_&&(A=this.JV_()["gap"]["bottom"]["linestyle"]);A!=null&&this.hve_.rB_(A)}))]);return this}Pei_(){this.Ave_();return this}Ave_(t){this.wq_(null,t);super.Pei_();this.eve_.SWt_(null)}QAi_(){this.f3t_()._Y_(this.LM_().getParent().rt_());this.Ave_();return this}JV_(){const t=Pi(this.UU_,{});t["gap"]=this.rve_();return t}v_s_(){this.E_s_||(this.E_s_=this.Q_s_.gn_(this.UU_["units"]["x"]));return this.E_s_}b_s_(){this.p_s_||(this.p_s_=this.Q_s_.gn_(this.UU_["units"]["y"]));return this.p_s_}y_s_(t){Pi(t,this.UU_["units"]);if(!this.qUs_())return this;if(t["y"]){this.p_s_=null;tGt.lMe_(this,ha.hG_,t["y"],"Y, ")}if(t["x"]){this.E_s_=null;tGt.lMe_(this,ha.lG_,t["x"],"X, ")}const i=this.qUs_()["trajectory"],s=i.v_s_(),e=i.b_s_(),A=this.v_s_(),n=this.b_s_(),h=s.wn_(i.F_s_(),A),r=s.wn_(i.L_s_(),A),o=e.wn_(i.x_s_(),n),l=e.wn_(i.U_s_(),n);this.lNt_.Lq_(new mA(h,o,r,l));this.Eye_.Lq_(new mA(h,o,r,l));this.UZs_.ht_(this.UZs_.getParent().rt_());this.jMe_();return this}Jei_(t){if(!t)return this;super.Jei_(t);if(t["rubberbandzoom"]!=null&&t["rubberbandzoom"]["mode"]!=null){const i=this.C5_("rubberband");i&&i.TZt_(t["rubberbandzoom"]["mode"])}if(t["crosshair"]!=null){const t=this.C5_("cross-hair");if(t){t.SWt_=t.setPosition;t["setCursor"]=t.setPosition;this.eve_=t}}if(t["tooltip"]!=null){const i=this.C5_("tooltip");i&&i.dt_(t["tooltip"])}return this}setOptions(t){tGt.G4_(this,t);t["tools"]!=null&&this.Jei_(t["tools"]);t["annotationssizes"]!=null&&this.vei_(t["annotationssizes"]);const i=t["wellborenode"];if(i!==void 0){this.Qme_.dt_(i);if(i["units"]&&i["units"]["depth"]&&this.qUs_()){const t=this.qUs_()["trajectory"];t.y_s_({distance:i["units"]["depth"]});this.Eye_.zye_(t);const s=this.C5_("cross-hair");s&&s.UFt_()}i["componentsvisibility"]&&this.Qme_.REe_(i["componentsvisibility"]);this.dEe_(this.CEe_())}const s=t["units"];if(s){this.y_s_(s);this.HUs_(this.qUs_())}t["trajectory"]==null&&t["deviation"]==null&&t["padding"]==null||this.Eye_.setOptions(t);const e=t["labeling"];let A=null,n=null,h=null,r=null;if(e!=null){this.Eye_.setOptions({labeling:e});if(e["labelShape"]){A=e["labelShape"];A instanceof DNt?n=A.fpe_():A instanceof nSt&&(n=A.qme_())}if(this.UU_["labeling"]&&this.UU_["labeling"]["labelShape"]){h=this.UU_["labeling"]["labelShape"];h instanceof DNt?r=h.fpe_():h instanceof nSt&&(r=h.qme_())}n&&r&&n.D_()!==r.D_()&&e["labelShape"].dt_({labelshape:{linestyle:r.gt_(),fillstyle:r.ct_()},labeltextstyle:h.lpe_().FE_()});this.Qye_.setOptions(this.IMe_.hMe_(e,this.Qye_.JV_()));if(e["mode"]===MNt.dpe_){t["legend"]==null&&(t["legend"]={});t["legend"]["visible"]==null&&(t["legend"]["visible"]=!1)}}const o=t["legend"];if(o!=null){if(n&&r&&n.D_()!==r.D_()){o["fillstyle"]=r.ct_();o["linestyle"]=r.gt_();this.UU_["legend"]!=null&&this.UU_["legend"]["legenditem"]!=null&&this.UU_["legend"]["legenditem"]["textstyle"]!=null||(o["legenditem"]={textstyle:h.lpe_().FE_()})}qSt._De_(this,this.vni_,o);o["visible"]!=null&&this.C5_("legendTool")&&this.C5_("legendTool").setActive(o["visible"]);if(o["legenditem"]){const t=qSt.ZDe_(this.vni_);qSt.iMe_(this.Eye_,t,this.UU_["legend"])}}t["legend"]&&t["legend"]["visible"]!=null&&this.Qye_.Ipe_(t["legend"]["visible"]);t["webglrendering"]!==void 0&&this.UZs_.cps_(t["webglrendering"]);t["scalesratio"]!=null&&typeof t["scalesratio"]!="number"&&ki("options.scalesratio should be number");t["gap"]!=null&&this.wme_(t["gap"]);this.UU_=Pi(t,this.UU_);this.Eye_.Xye_();this.wq_();return this}wme_(t){if(t!=null){t["left"]&&t["left"]["size"]!=null&&this.KMe_.ft_({left:0,top:0,bottom:0,width:t["left"]["size"]});t["right"]&&t["right"]["size"]!=null&&this.HMe_.ft_({top:0,bottom:0,right:0,width:t["right"]["size"]});t["top"]&&t["top"]["size"]!=null&&this.TMe_.ft_({left:0,top:0,right:0,height:t["top"]["size"]});t["bottom"]&&t["bottom"]["size"]!=null&&this.qMe_.ft_({left:0,bottom:0,right:0,height:t["bottom"]["size"]})}this.UU_["gap"]=Pi(t,this.UU_["gap"],!0);this.KMe_.nf_(this.UU_["gap"]["left"]["visible"]).iQ_(this.UU_["gap"]["left"]["fillstyle"]);this.HMe_.nf_(this.UU_["gap"]["right"]["visible"]).iQ_(this.UU_["gap"]["right"]["fillstyle"]);this.TMe_.nf_(this.UU_["gap"]["top"]["visible"]).iQ_(this.UU_["gap"]["top"]["fillstyle"]);this.qMe_.nf_(this.UU_["gap"]["bottom"]["visible"]).iQ_(this.UU_["gap"]["bottom"]["fillstyle"]);this.JMe_.YT_({left:this.UU_["gap"]["left"]["linestyle"],right:this.UU_["gap"]["right"]["linestyle"],top:this.UU_["gap"]["top"]["linestyle"],bottom:this.UU_["gap"]["bottom"]["linestyle"]});let i=[];this.UU_["gap"]["left"]["resizable"]&&i.push(this.KMe_);i.push(this.lNt_);this.UU_["gap"]["right"]["resizable"]&&i.push(this.HMe_);i.length>1?this.nve_.S_t_(i).Kv_(!0):this.nve_.Kv_(!1);i=[];this.UU_["gap"]["top"]["resizable"]&&i.push(this.TMe_);i.push(this.lNt_);this.UU_["gap"]["bottom"]["resizable"]&&i.push(this.qMe_);i.length>1?this.hve_.S_t_(i).Kv_(!0):this.hve_.Kv_(!1);return this}rve_(){const t=Pi(this.UU_["gap"],{}),i=[this.KMe_,this.HMe_,this.TMe_,this.qMe_],s=["left","right","top","bottom"];for(let e=0;e<i.length;e++){const A=t[s[e]],n=i[e];A["size"]=n.NS_().Ie_();A["visible"]=n.$C_();A["fillstyle"]=n.ct_();this.JMe_.LT_()&&(A["linestyle"]=this.JMe_.LT_()[s[e]])}return t}Tye_(){return this.Qye_}O4_(t,i,s,e){this.f3t_().O4_(t,i,s,e);this.Ave_(new lA(s,e));return this}wq_(t,i){super.wq_(t);if(!this.lNt_)return this;const s=this.LM_(),e=s.getParent().rt_();let A=i;i&&(A=this.lNt_.if_().uI_(i));s.ht_(e.clone()).Lq_(e.clone());let n=Number.NaN;this.UU_&&this.UU_["scalesratiomode"]===bSt.hDe_&&(n=this.v_s_().In_(this.lNt_.rt_().Ie_())/this.b_s_().In_(this.lNt_.rt_().Ts_()));this.lNt_.ft_({height:e.Ts_(),width:e.Ts_()*n});s.Ad_();const h=this.YMe_.sT_(e,s.YY_());this.YMe_.eT_(e,s.YY_());s.ht_(h).Lq_(h.clone());if(A){const t=this.lNt_.if_().transform(A),e=Gn.kI_(i.x-t.x,i.y-t.y),n=new Gn(e),h=s.getParent().if_().clone();n.vI_(h);n.vI_(s.ut_());n.DI_(h.rI_());s.at_(n)}if(this.vni_){qSt.$De_(this,this.vni_);this.C5_("legendTool")&&this.C5_("legendTool").setActive(!1)}this.oN_(this.UU_&&this.UU_["scalescrollstrategy"]);return this}X$i_(){return ur(this.s3t_).Gw_((function(t){return t instanceof nd})).Fw_()}setData(t){if(t["elements"]===null||Array.isArray(t["elements"])&&t.length===0){this.Eye_.Uye_();this.Qme_.xEe_().uBe_();this.Eye_.Yye_()}else{const i=nvt.Wi_(t["elements"]);this.Eye_.Uye_();this.Qme_.PQe_(i);this.Eye_.Yye_();this.dEe_(this.CEe_())}const i=t["trajectory"];if(i instanceof _Ct){this.HUs_({trajectory:i,transformer:this.UU_["deviation"]["transformer"],trackWidth:this.UU_["deviation"]["trackWidth"],offset:this.UU_["deviation"]["offset"],clip:this.UU_["deviation"]["clip"],webglrendering:this.UU_["webglrendering"]});this.y_s_(this.UU_["units"])}this.Ave_();return this}N_(){const t=Pi(this.UU_,super.N_());delete t["data"];t["gap"]=this.rve_();return t}dt_(t){super.dt_(t);this.setOptions(t);t["data"]!==void 0&&this.setData(t["data"]);return this}NAi_(t,i,s){i=Gn.JI_;return super.NAi_(t,i,s)}DP_(){const t=Gn.xI_(this.Eye_.ot_(),this.Eye_.rt_());super.DP_();this.Kei_.Rue_=this.s3t_.v4_(ha.ne_).getBounds().clone();const i=this.s3t_.v4_(ha.AG_),s=this.s3t_.v4_(ha.sG_),e=this.s3t_.v4_(ha.eG_),A=this.s3t_.v4_(ha.nG_),n=this.s3t_.v4_(ha.ne_),h=t.rn_(this.s3t_.v4_(ha.ne_).getBounds());i.ht_(i.getBounds().clone().Be_(h.Ts_()));s.ht_(s.getBounds().clone().Be_(h.Ts_()));e.ht_(e.getBounds().clone().de_(h.Ie_()));A.ht_(A.getBounds().clone().de_(h.Ie_()));n.ht_(n.getBounds().clone().de_(h.Ie_()).Be_(h.Ts_()));const r=this.Eye_;this.Kei_.ove_=r.getBounds().clone();const o=t.uI_(r.getBounds());r.ht_(r.getBounds().clone().de_(o.Ie_()).Be_(o.Ts_()));this.QMe_().ht_(new mA(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER));this.wq_();return this}yP_(){this.Eye_.ht_(null);this.s3t_.v4_(ha.ne_).ht_(this.Kei_.Rue_);const t=this.s3t_.v4_(ha.AG_),i=this.s3t_.v4_(ha.sG_),s=this.s3t_.v4_(ha.eG_),e=this.s3t_.v4_(ha.nG_);t.ht_(t.getBounds().clone().Be_(this.Kei_.Rue_.Ts_()));i.ht_(i.getBounds().clone().Be_(this.Kei_.Rue_.Ts_()));s.ht_(s.getBounds().clone().de_(this.Kei_.Rue_.Ie_()));e.ht_(e.getBounds().clone().de_(this.Kei_.Rue_.Ie_()));super.yP_()}HUs_(t){this.Eye_.HUs_(t);this.eve_.SWt_(null);return this}qUs_(){return this.Eye_.qUs_()}lve_(t){const i=this.IMe_.oMe_(),s=this.IMe_.rMe_(),e=undefined,A=this.JV_()["legend"]["visible"]?i:s;this.setOptions({labeling:Pi({mode:t},A)});return this}dispose(){if(!this.Df_()){if(this.Eye_){this.Eye_.off(hNt.QQe_,this.aye_);this.Eye_.off(hNt.EQe_,this.gye_)}super.dispose()}}};i=t([Zs(_St),_s("geotoolkit.schematics.widgets.DeviatedSchematicsWidget")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTY2FsZVNjcm9sbFN0cmF0ZWd5Ijoib05fIiwiZ2V0TW9kZWxQb2ludCI6Inl1c18iLCJnZXREZXZpY2VQb2ludCI6Ik1NZV8iLCJ0cmFuc2Zvcm1EZXB0aCI6Imskc18iLCJnZXRWaWV3TW9kZSI6IkNFZV8iLCJzZXRWaWV3TW9kZSI6ImRFZV8iLCJnZXRDZW50ZXJNb2RlbExpbWl0cyI6Im9BaV8iLCJnZXRTZWxlY3RlZENvbXBvbmVudE5vZGVzIjoiaUVlXyIsInNldFNlbGVjdGVkQ29tcG9uZW50Tm9kZXMiOiJzRWVfIiwiaW5pdGlhbGl6ZVRvb2xzIjoiQTR0XyIsInN5bmNocm9uaXplVmlld0xpbWl0cyI6IlBlaV8iLCJmaXRUb0JvdW5kcyI6IlFBaV8iLCJnZXRPcHRpb25zIjoiSlZfIiwic2V0VG9vbHNPcHRpb25zIjoiSmVpXyIsImdldExhYmVsaW5nU3RyYXRlZ3kiOiJUeWVfIiwic2NhbGVNb2RlbCI6Ik80XyIsInVwZGF0ZUxheW91dCI6IndxXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8iLCJiZWdpbkV4cG9ydCI6IkRQXyIsImVuZEV4cG9ydCI6InlQXyIsInNldERldmlhdGlvbiI6IkhVc18iLCJnZXREZXZpYXRpb24iOiJxVXNfIiwic2V0TGFiZWxzTW9kZSI6Imx2ZV8ifX19");var cGt=Ci({ax_:"vertical",dye_:"deviated"},2,"eyJWZXJ0aWNhbCI6ImF4XyIsIkRldmlhdGVkIjoiZHllXyJ9");const IGt=new lG,fGt=function(t,i,s){const e=t.C5_(i);e&&(e["id"]=i+"_"+s)},CGt=function(t,i){fGt(t,"zoom",i);fGt(t,"cross-hair",i);fGt(t,"panning",i);fGt(t,"rubberband",i);fGt(t,"pick",i);fGt(t,"tooltip",i);fGt(t,"legendTool",i)};var dGt=Ci(function(){var i;let s=i=class t extends _H{constructor(t){ki("@int/geotoolkit/schematics/widgets/compatibility/CompositeSchematicsWidget is deprecated since 4.0,"+" use @int/geotoolkit/schematics/widgets/CompositeSchematicsWidget instead");if(t&&t["options"]){ki("geotoolkit.schematics.widgets.CompositeSchematicsWidget() param options"+" is deprecated since 2021.1 (3.3) set options in root of params object.");t=Pi(t["options"],{data:t["data"]})}super(t=Pi(t,{displaymode:cGt.ax_,vertical:{widget:new uGt,annotationssizes:{north:35},tools:{crosshair:{center:{textconverter:null}}}},deviated:{widget:new gGt,gap:{horizontal:200},tools:{crosshair:{center:{textconverter:(t,i)=>{i=this.k$s_(i,!1);return Math.round(i)}}}}}}));this.uve_=!0;this.UU_=t;this.tys_=this.UU_["displaymode"];this.ave_={vertical:this.UU_["vertical"]["widget"],deviated:this.UU_["deviated"]["widget"]};this.gve_={};this.C4t_(this.UU_);this.GY_([this.ave_["vertical"],this.ave_["deviated"]]);this.qei_();this.A4t_();this.setOptions(this.UU_);t["data"]&&this.setData(t["data"]);this.Pei_();this.uve_=!1}yus_(t,i){return this.ave_[this.tys_].yus_(t,i)}MMe_(t,i){return this.ave_[this.tys_].MMe_(t,i)}k$s_(t,i){return this.ave_[this.tys_].k$s_(t,i)}cve_(){const t=[];for(const i in this.ave_){const s=this.ave_[i];s&&t.push(s)}return Au.cN_(t)}ht_(t){const i=super.ht_(t);this.ave_[this.tys_].ht_(t);return i}wq_(t){super.wq_(t);for(const i in this.ave_){const s=this.ave_[i];s&&s.wq_(this,t)}return this}N_(){const t=super.N_();return qi(this.UU_,t)}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);this.setOptions(t);t["data"]!==void 0&&this.setData(t["data"]);return this}Ive_(t,i){const s=i.JV_(),e=i.mgt_();for(const s in t)if(t.hasOwnProperty(s)){const A=this.C5_(s);if(!A){Gi("Tool not found: "+s);continue}const n=A.Pgt_||A.YFt_;typeof n=="function"&&(s==="tooltip"?n.call(A,i):s==="legendTool"?n.call(A,i.QMe_()):n.call(A,e));const h=t[s]["listeners"];for(const i in h)h.hasOwnProperty(i)&&t[s]["listeners"][i].ff_.forEach((e=>{t[s]["listeners"][i].If_.has(e)?A.addListener(i,e):A.on(i,e)}));s==="tooltip"&&A.r0t_(t["tooltip"]["callback"]);s==="cross-hair"&&A.cOt_(t["cross-hair"]["callback"]);s==="pick"&&A.HOt_(t["pick"]["callback"]);if(s==="legendTool"){A._Wt_(i.vni_);A.mei_(i)}}i.Jei_(s["tools"]);return this}fve_(t,i){const s=t.dn_(),e=this.tys_;{let t=this.gve_[e];t||(t={});t[s]||(t[s]={});t[s]["listeners"]||(t[s]["listeners"]={});t[s]["listeners"][i["eventName"]]||(t[s]["listeners"][i["eventName"]]={ff_:[],If_:new Set});t[s]["listeners"][i["eventName"]].ff_.push(i["listener"]);i["short"]&&t[s]["listeners"][i["eventName"]].If_.add(i["listener"])}return this}Cve_(t,i){const s=t.dn_(),e=this.tys_;{const t=this.gve_[e];if(!(t&&t[s]&&t[s]["listeners"]&&t[s]["listeners"].ff_[i["eventName"]]))return this;const A=t[s]["listeners"].ff_[i["eventName"]];t[s]["listeners"].If_.delete(i["listener"]);const n=A.indexOf(i["listener"]);n>-1&&A.splice(n,1)}return this}static dve_(t,i){const s={},e=function(t){const e=t.dn_();if(i){s[e]={};s[e]["listeners"]={}}const A=undefined;(t.Qf_?Object.keys(t.Qf_):[]).forEach((function(A){i&&(s[e]["listeners"][A]={ff_:t.Qf_[A].ff_.slice(),If_:new Set(t.Qf_[A].If_)});t.removeListener(A)}))},A=t.C5_("zoom"),n=t.C5_("cross-hair"),h=t.C5_("panning"),r=t.C5_("rubberband"),o=t.C5_("pick"),l=t.C5_("tooltip"),u=t.C5_("legendTool");A&&e(A);if(n){e(n);if(i){s["cross-hair"]=s["cross-hair"]||{};s["cross-hair"]["callback"]=n.gOt_()}n.UFt_();n.cOt_(null)}h&&e(h);r&&e(r);if(o){e(o);if(i){s["pick"]=s["pick"]||{};s["pick"]["callback"]=o.KOt_()}o.HOt_(null)}if(l){e(l);if(i){s["tooltip"]=s["tooltip"]||{};s["tooltip"]["callback"]=l.o0t_()}l.r0t_(null)}u&&e(u);return s}Bve_(t,i){this.uve_||this.fve_(t,i)}wve_(t,i){this.uve_||this.Cve_(t,i)}A4t_(){if(this.ave_==null)return this;super.A4t_();this.C5_("pick").jOt_(CF.et_).$qt_(fk.zqt_).Kv_(!0);this.h4t_([new iY({layer:this,autoflip:!0,divelement:null,autoupdate:!1})]);const t=new OH({name:"legendTool",widget:this,layer:new sI,group:new YG});this.K3_().g1_(0,t);CGt(this,"Composite");this.mgt_().HC_("ManipulatorLayer_Composite");this.Yei_.HC_("HorizontalScroll_Composite");this.Uei_.HC_("VerticalScroll_Composite");i.dve_(this);this.xAi_();for(const t in this.ave_){const s=this.ave_[t];CGt(s,t);s.mgt_().HC_("ManipulatorLayer_"+t);s.C5_("legendTool").mgt_().HC_("LegendManipulatorLayer_"+t);s.Yei_.HC_("HorizontalScroll_"+t);s.Uei_.HC_("VerticalScroll_"+t);s.kAi_();const e=undefined;s.K3_().Rxt_().forEach((t=>{if(t instanceof OS){t.addListener(xS.Wkt_,this.Bve_.bind(this));t.addListener(xS.zkt_,this.wve_.bind(this))}}));this.gve_[t]=i.dve_(s,!0);this.K3_().remove(s.vni_.cUt_())}return this}C4t_(t){this.ave_!=null&&super.C4t_(t)}qei_(t){this.ave_!=null&&super.qei_(t);return this}LM_(){return this.ave_[this.tys_].LM_()}sei_(t){return this.ave_[this.tys_].sei_(t)}O4_(t,i,s,e){this.ave_[this.tys_].O4_(t,i,s,e);return this}P4_(t,i){this.ave_[this.tys_].P4_(t,i);return this}QAi_(){this.ave_[this.tys_].QAi_();return this}Pei_(){this.ave_!=null&&super.Pei_();return this}CEe_(){return this.ave_[this.tys_].CEe_()}Cds_(){return this.tys_}dEe_(t,i){let s=null;for(const e in this.ave_){const A=this.ave_[e];A&&(s=A.dEe_(t,i))}return s}dds_(t){if(t===cGt.dye_&&this.Us_&&!this.Us_["trajectory"]){this.tys_=cGt.ax_;Gi("Can not set Deviated display mode: Trajectory is missing!");return this}this.uve_=!0;const s=undefined,e=(t=>{const i=[];t.iEe_().forEach((function(t){i.push(t.XC_())}));return i})(this.ave_[this.tys_]);this.tys_=t;this.rd_(!1);let A,n;for(A in this.ave_){n=this.ave_[A];n&&n.rd_(!1)}const h=this.getBounds();i.dve_(this);for(A in this.ave_){if(A===this.tys_)continue;n=this.ave_[A];n.nf_(!1);i.dve_(n,!1);n.kAi_();const t=n.vni_.cUt_();this.K3_().remove(t);n.o4t_(IGt);n.ht_(h)}for(A in this.ave_){if(A!==this.tys_)continue;n=this.ave_[A];n.nf_(!0);n.o4t_(this.K3_());this.Ive_(this.gve_[A],n);n.FAi_();const t=n.vni_.cUt_();this.K3_().g1_(0,t);n.ht_(h)}const r=this.C5_("legendTool");r&&r.reset();for(A in this.ave_){n=this.ave_[A];n&&n.rd_(!0)}this.rd_(!0);this.Us_&&this.setData(this.Us_);const o=this.ave_[this.tys_];o.Pei_();o.td_(void 0,!0);const l=tGt.cye_(o);if(l){const t=l.kEe_(e);o.sEe_(t)}this.uve_=!1;return this}getData(){return this.Us_}setData(t){t instanceof nvt&&(t={elements:t});this.Us_||(this.Us_={});Pi(t,this.Us_);this.ave_["vertical"].setData(this.Us_["elements"]);this.ave_["deviated"].setData(this.Us_);return this}JV_(){return Pi(this.UU_,{})}G4_(t){this.UU_=Pi(t,this.UU_);let i;const s=Pi(t,{});for(i in this.ave_)s[i]&&delete s[i];for(i in this.ave_){const e=this.ave_[i];if(e){e.G4_(s);t[i]&&e.G4_(t[i])}}return this}setOptions(t){this.UU_=Pi(t,this.UU_);t["displaymode"]&&this.dds_(t["displaymode"]);let i;const s=Pi(t,{});for(i in this.ave_)s[i]&&delete s[i];s["displaymode"]&&delete s["displaymode"];for(i in this.ave_){const e=this.ave_[i];if(e){e.setOptions(s);Pi(s,this.UU_[i]);t[i]&&e.setOptions(t[i])}}this.td_(void 0,!0);return this}};s.Qve_=cGt;s=i=t([_s("ivaap.geotoolkit.schematics.widgets.compatibility.CompositeSchematicsWidget")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNb2RlbFBvaW50IjoieXVzXyIsImdldERldmljZVBvaW50IjoiTU1lXyIsInRyYW5zZm9ybURlcHRoIjoiayRzXyIsImdldERpc3BsYXlzIjoiY3ZlXyIsInNldEJvdW5kcyI6Imh0XyIsInVwZGF0ZUxheW91dCI6IndxXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8iLCJpbml0aWFsaXplVG9vbHMiOiJBNHRfIiwiaW5pdGlhbGl6ZUxheW91dCI6IkM0dF8iLCJnZXRNb2RlbCI6IkxNXyIsImV4cG9ydFRvUGRmIjoic2VpXyIsInNjYWxlTW9kZWwiOiJPNF8iLCJ0cmFuc2xhdGVNb2RlbCI6IlA0XyIsImZpdFRvQm91bmRzIjoiUUFpXyIsInN5bmNocm9uaXplVmlld0xpbWl0cyI6IlBlaV8iLCJnZXRWaWV3TW9kZSI6IkNFZV8iLCJzZXRWaWV3TW9kZSI6ImRFZV8iLCJnZXRPcHRpb25zIjoiSlZfIiwic2V0QW5ub3RhdGlvbnNPcHRpb25zIjoiRzRfIn19fSAg");const BGt=t=>{t.Vx_("major").setColor("#ededed").IQ_(el.yD_);t.Vx_("minor")&&t.Vx_("minor").setColor("#ededed").IQ_(el.yD_);t.Hx_("edge",!1);return t},wGt=(t,i,s,e)=>{for(let A=0;A<i.length;++A){const n=i[A];for(let i=0;i<s.length;++i){const A=s[i],h=undefined;if(ur(A).Gw_((t=>t===n)).xw_()){const i=A.getBounds();i&&i.contains(e)&&t.indexOf(A)<0&&t.push(A)}}}},QGt=(t,i)=>{const s=[],e=[],A=[];for(let i=0;i<t.length;++i){const s=t[i];if(s instanceof kMt&&!(s instanceof Cvt)){A.push(s);s instanceof cvt&&e.push(s)}else s instanceof su&&FMt.TCe_(s)&&e.push(s)}wGt(s,e,A,i);return s},EGt=(t,i)=>{const s=[],e=[];for(let i=0;i<t.length;++i){const A=t[i];A instanceof kMt&&!(A instanceof cvt)?e.push(A):A instanceof su&&FMt.TCe_(A)&&s.push(A)}const A=[];wGt(A,s,e,i);return A},pGt=(t,i)=>{const s=t[i];return s instanceof ch||Array.isArray(s)||!s["axis"]||!s["axis"]["type"]?null:s["axis"]["type"]};var mGt=Ci(function(){var i;let s=i=class t extends _H{constructor(t){t=t||{};const i=new qSt;if(t["scalesratio"]!=null&&typeof t["scalesratio"]!="number"){ki("options.scalesratio should be number");t["scalesratio"]=1}typeof t["gap"]=="number"&&(t["gap"]={left:{size:t["gap"]},right:{size:t["gap"]}});(t=Pi(t,{tools:{crosshair:{enabled:!0,horizontal:new hl("white"),vertical:null,center:{visible:!0,textstyle:new qa,fillstyle:"rgba(245,245,245,0.85)",linestyle:"black",padding:6,lockx:!0,radius:6,alignment:dA.re_}},rubberbandzoom:{mode:Wk.tVt_},verticalscroll:{visible:!0,options:{floating:!0}},horizontalscroll:{visible:!0,options:{floating:!0}}},model:new sI,keepvisiblelimits:!1,tooltip:{divelement:null,gettext:t=>!t||t.length<1?null:t[t.length-1].toString(),autoflip:!0},annotationssizes:{north:35,south:25,east:15,west:65},northwest:{title:{textstyle:{color:"gray",font:"12px Arial"}}},southwest:{title:{textstyle:{color:"gray",font:"12px Arial"}}},west:{axis:{type:iGt.Dt_,tickposition:yr.PQ_,labelposition:Dr.ne_}},south:{axis:{tickposition:yr.Top,labelposition:Dr.Top}},border:{width:1,color:"grey"},linestyle:{width:1,color:"grey"},sealevel:{depth:0,visible:!1},wellborenode:{renderinghints:{},registry:null,viewmode:rNt.pQe_},multidiameterselectionmode:zSt.Range,legendalignmentarea:ha.ne_,legend:i.jDe_({options:{scroll:{vertical:{name:"LegendVerticalScroll"},horizontal:{name:"LegendHorizontalScroll"}}},alignment:dA.ee_}),alignment:LB.z_,labeling:{labelsfilter:new RNt,defaultlocation:dNt.X_,mode:MNt.Bpe_},deviation:{offset:0,clip:!1},gap:{top:{visible:!1,resizable:!1,fillstyle:null,linestyle:null,size:"0px"},left:{visible:!0,resizable:!0,fillstyle:null,linestyle:null,size:"100px"},right:{visible:!0,resizable:!0,fillstyle:null,linestyle:null,size:"100px"},bottom:{visible:!1,resizable:!1,fillstyle:null,linestyle:null,size:"0px"}},units:{x:"ft",y:"ft"},scalesratiomode:bSt.hDe_,trackwidthstrategy:new _bt(230),scalesratio:1,webglrendering:!0},!0))["scalescrollstrategy"]=t["scalesratiomode"]===bSt.tVt_?new jQ:new NQ({keepaspectratio:!0,aspectratio:t["scalesratio"],alignment:dA.ne_,mode:jw.g4_});t["wellborenode"]["registry"]||(t["wellborenode"]["registry"]=new Jbt);super(t);this.W_s_=(t,i)=>{this.HUs_({trajectory:i}).wq_()};this.Eve_=!1;this.pve_=null;this.jmt_=this.$Mt_.bind(this);this.vQe_=[];this.sve_=null;this.mve_=t["legendalignmentarea"];this.yve_=t["scalesratio"];this.Dve_=t["gap"];this.Mve_=t["legend"];const s={crosshair:{center:{textconverter:(t,i)=>{this.ide_&&(i=this.ide_.transform(i,!1));return"MD: "+Math.round(i)}}}};this.Jei_(s);delete t["linestyle"];delete t["border"];this.Qme_=new gNt({viewmode:rNt.W8_});this.Qme_.JC_("well_bore_node");this.aye_=()=>{this.notify(hNt.QQe_,this)};this.gye_=()=>{this.wq_();this.notify(hNt.EQe_,this)};this.Eye_=new BSt({name:"Deviated WellBore Node",wellborenode:this.Qme_});this.Eye_.on(hNt.QQe_,this.aye_);this.Eye_.on(hNt.EQe_,this.gye_);this.CMe_=new ZSt(t["sealevel"]);this.JQe_=null;this.dMe_=(new sI).aq_(!1).GY_(this.CMe_);const e=this.LM_();this.YMe_=new aGt;this.TMe_=(new sI).JC_("composite_top_gap").ft_({left:0,top:0,right:0,height:t["gap"]["top"]["size"]});e.GY_(this.TMe_);this.KMe_=(new sI).JC_("composite_left_gap").ft_({left:0,top:0,bottom:0,width:t["gap"]["left"]["size"]});e.GY_(this.KMe_);this.HMe_=(new sI).JC_("composite_right_gap").ft_({top:0,bottom:0,right:0,width:t["gap"]["right"]["size"]});e.GY_(this.HMe_);this.qMe_=(new sI).JC_("composite_bottom_gap").ft_({left:0,bottom:0,right:0,height:t["gap"]["bottom"]["size"]});e.GY_(this.qMe_);this.JMe_=(new Sc).JC_("gap_border").NT_(wc.mT_);this.lNt_=(new sI).JC_("composite_data_model").GY_([this.dMe_,this.Eye_,this.JMe_]).ft_({width:1,height:1});e.GY_(this.lNt_);this.lNt_.ud_=()=>!0;this.C5_("manipulatorTools").xkt_(this.f3t_());let A=new JC;this.X$i_().forEach((t=>{const i=t.ZZ_();i instanceof JC&&t.KH_()!==fg.ax_&&(A=i)}));this.BMe_=vd.Ai_().E$_();this.wMe_=new iB;this.fNt_=new sB(BGt(this.BMe_.clone()),BGt(A.clone()))._Z_(!0);this.vve_=(new sI).GY_(this.fNt_);this.f3t_().L4_().xY_(0,this.vve_);this.f3t_().L4_().GY_(this.USt_);this.ide_=new hB;this.vni_=i.tMe_(this.Eye_,this,t["legend"]);this.GY_(this.QMe_());this.C5_("legendTool")&&this.C5_("legendTool").on(HH.cei_,this.EMe_.bind(this));this.UZs_=this.Eye_.Sye_();this.ZMe_=[];this._Me_();this.bve_=new lA;this.setOptions(t);this.ani_=t["tooltip"]["gettext"];this.AUs_=t["trackwidthstrategy"];if(t["data"]){let i=null,s=null;if(!(Array.isArray(t["data"])||t["data"]instanceof nvt||t["data"]["trajectory"]==null)){i=t["data"]["trajectory"];s=i.N_()}this.setData(t["data"]);t["wellborenode"]["componentsvisibility"]&&this.Qme_.REe_(t["wellborenode"]["componentsvisibility"]);if(i!=null&&s!=null){const e=t["deviation"]||{trajectory:i};e["trajectory"]==null&&(e["trajectory"]=i);e["trajectory"]===i&&i.dt_(s);t["deviation"]=e}}this.oN_(t["scalescrollstrategy"]);this.tys_=fSt.ax_;this.Nve_(t["scalesratiomode"]);this.LM_().at_(null);qSt.$De_(this,this.vni_);this.HUs_(t["deviation"])}dds_(t){this.UZs_.i$s_();const i=this.tys_===fSt.dye_?this.UZs_.ot_():this.Qme_.ot_(),s=this.tys_!==t;this.tys_=t;this.Eye_.dds_(t);if(t===fSt.dye_){this.oN_(this.Sve_===bSt.tVt_?new jQ:new NQ({keepaspectratio:!0,aspectratio:this.yve_,alignment:dA.ne_,mode:jw.g4_}));this.Gve_=this.Rve_;const t=this.kve_||this.Eye_.Gye_().rt_();this.lNt_.aq_(!1);this.lNt_.Lq_(t.clone());this.jMe_(this.Eye_.Gye_())}else{this.oN_(new jQ);this.Rve_=this.Gve_;this.Gve_=bSt.tVt_;this.lNt_.Lq_(null);this.lNt_.aq_(!0);this.jMe_(this.Qme_)}this.C5_("cross-hair").UFt_();this.y_s_(this.S_s_());this.Pei_();if(!i.isEmpty()&&s){const t=Gn.xI_(i,this.Qme_.rt_());if(this.tys_===fSt.dye_){const i=Math.max(t.BI_(),t.sI_());t.setScale(i,i)}const s=t.rI_().transform(this.LM_().rt_());this._Y_(s)}this.mMe_();this.Fve_();return this}Cds_(){return this.tys_}O4_(t,i,s,e){const A=new lA(s,e);this.bve_=this.lNt_.if_().uI_(A,this.bve_);if(this.tys_===fSt.ax_)super.O4_(1,i,0,e);else{this.f3t_().O4_(t,i,s,e);this.Ave_(A)}return this}P4_(t,i){this.xve_=!0;this.tys_===fSt.ax_&&(t=1);return super.P4_(t,i)}pan(t,i){this.xve_=!0;return super.pan(t,i)}QMe_(){return this.vni_.getParent()}yus_(t,i){i||(i=new lA);if(isNaN(t.getX())||isNaN(t.getY())){i.vs_(Number.NaN,Number.NaN);return i}const s=this.$Me_(t,i);if(isNaN(s.getX())||isNaN(s.getY())){i.vs_(Number.NaN,Number.NaN);return i}const e=this.ide_.transform(s.getY());i.vs_(s.getX(),e);return i}MMe_(t,i){i||(i=new lA);if(isNaN(t.getX())||isNaN(t.getY())){i.vs_(Number.NaN,Number.NaN);return i}const s=this.ide_.transform(t.getY(),!0);i.vs_(t.getX(),s);return this.tve_(i,i)}k$s_(t,i){return this.ide_&&NA.Ve_(t)?this.ide_.transform(t,i):NaN}EMe_(t,i,s){i===this.C5_("legendTool")&&qSt.eMe_(this,this.vni_);return this}_Me_(){this.X$i_().forEach((t=>{const i=new UCt(this.UZs_,this.ide_,t);this.ZMe_.push(i)}))}jMe_(t){this.X$i_().forEach((i=>{i._Z_(!0);this.f3t_().connect(i,t)}));this.f3t_().connect(this.vve_,t)}CEe_(){return this.Qme_.CEe_()}dEe_(t){const i=this.Qme_.dEe_(t);i&&this.ide_.dt_({inputvalues:i["boundsdepths"],outputvalues:i["modellimitsdepths"]});this.mMe_();this.Fve_();const s=ur(this.Eye_).Gw_('node => id(node) == "group_with_cache"').xw_();s instanceof sI&&s.yq_()&&s.yq_().td_(s.rt_());return i}oAi_(){return this.Qme_!=null?this.Qme_.rt_():null}ive_(){this.sve_||(this.sve_=new Gn);Gn.xI_(this.UZs_.rt_(),this.Qme_.rt_(),!1,!1,!1,this.sve_);return this.sve_}tve_(t,i){if(this.tys_!==fSt.dye_)return this.Qme_.if_().transformPoint(t,i);const s=this.UZs_;if(!s)return null;const e=s.qUs_();if(e==null)return null;const A=s.if_();this.wUs_?this.wUs_.update(A):this.wUs_=e["transformer"].create(e,A);this.ive_().uI_(t,t);const n=this.wUs_.transform(t);if(i){i.vs_(n);return i}return n}$Me_(t,i){if(this.tys_!==fSt.dye_)return this.Qme_.if_().aI_(t,i);const s=this.UZs_,e=s.qUs_();if(e==null)return null;const A=s.if_();this.wUs_?this.wUs_.update(A):this.wUs_=e["transformer"].create(e,A);let n=this.wUs_.uI_(t);if(i){i.vs_(n);n=i}return this.ive_().transform(n,n)}vMe_(t){this.OSt_||(this.OSt_=bC.IO_());const i=this.OSt_.select(this,t.x,t.y,2).filter(Ih),s=this.$Me_(t);let e;e=this.Lve_===zSt.yQe_?EGt(i,s):QGt(i,s);const A=undefined;return this.ani_(e)}iEe_(){return this.vQe_}sEe_(t){this.vQe_=t;const i=undefined,s=qSt.ZDe_(this.vni_).getData();for(let t=0;t<s.jv_();t++){const i=s.get(t),e=i.Uw_();this.vQe_.includes(e)||this.vQe_.includes(this.Qme_.xCe_(e))?i.Bd_(Rl.Selection):i.Qd_(Rl.Selection)}this.Qme_.sEe_(this.vQe_);return this}A4t_(t){super.A4t_();const i=new iY({layer:this,autoflip:t["tooltip"]["autoflip"],divelement:t["tooltip"]["divelement"],autoupdate:!1,callback:this.vMe_.bind(this)});this.f3t_().on(sQ.w4_,(()=>{const t=this.C5_("tooltip");t&&t.isEnabled()&&t.s0t_()}));const s=this.mgt_();this.C5_("cross-hair").cOt_((t=>{const i=bC.select(s.getRoot(),t.getX(),t.getY(),1)||[];for(let t=0;t<i.length;t++){const s=i[t];if(s instanceof gNt&&s.dn_()!=="ghost_node")return s}return null}));this.C5_("rubberband").off(rU.jZt_).on(rU.jZt_,((t,i,s)=>{const e=s.getArea(),A=this.LM_().if_().transform(e);this.f3t_()._Y_(e);const n=new lA(A.ye_(),A.De_());this.bve_=this.lNt_.if_().uI_(n,this.bve_);this.Ave_(n)}));let e=[];this.C5_("pick").jOt_(CF.et_).$qt_(fk.zqt_).off(wF.yOt_).Kv_(!0).on(wF.yOt_,(()=>{e.length===0?this.vQe_=[]:this.vQe_=[e[e.length-1]];this.sEe_(this.vQe_);e=[]})).HOt_((t=>{let i=null;if(t instanceof mNt)i=FMt.UCe_(t);else if(t instanceof su){i=FMt.TCe_(t);i instanceof Cvt&&this.Lve_===zSt.Range&&(i=null)}else t instanceof cvt&&(i=this.Lve_===zSt.yQe_?ch.Dd_(t,kMt):t);if(i){const t=this.Qme_.xCe_(i);t&&(i=t);e.indexOf(i)<0&&e.push(i)}}));this.h4t_([i,this.nve_=new wU(s,fg.ax_).S_t_([this.KMe_,this.lNt_,this.HMe_]).on(IU.p_t_,(()=>{this.Ave_()})).on(IU.y_t_,((t,i,s)=>{const e=s.E_t_();let A=null;const n=this.JV_()["gap"];e["left"]===this.KMe_&&(A=n["left"]["linestyle"]);e["right"]===this.HMe_&&(A=n["right"]["linestyle"]);A!=null&&this.nve_.rB_(A)})),this.hve_=new wU(s,fg.ux_).S_t_([this.TMe_,this.lNt_,this.qMe_]).on(IU.p_t_,(()=>{this.Ave_()})).on(IU.y_t_,((t,i,s)=>{const e=s.E_t_();let A=null;const n=this.JV_()["gap"];e["top"]===this.TMe_&&(A=n["top"]["linestyle"]);e["bottom"]===this.qMe_&&(A=n["bottom"]["linestyle"]);A!=null&&this.hve_.rB_(A)}))]);return this}Pei_(){this.Ave_();return this}Ave_(t){this.xve_||this.wq_(null,t);this.xve_=!1;super.Pei_();this.f3t_().y4_();this.C5_("cross-hair").setPosition(null)}QAi_(){this.f3t_()._Y_(this.LM_().getParent().rt_());this.Ave_();return this}v_s_(){this.E_s_||(this.E_s_=OA.Ai_().gn_(this.Uve_));return this.E_s_}b_s_(){this.p_s_||(this.p_s_=OA.Ai_().gn_(this.Yve_));return this.p_s_}y_s_(t){if((t=Es(t))==null)return this;this.Tve_(t);let i="MD, ";if(this.tys_===fSt.dye_){if(!this.qUs_())return this;i="Y, ";this.yNt_();this.jMe_(this.Eye_.Gye_())}else this.dEe_(this.CEe_());if(!this.Kve_&&t["y"]){this.p_s_=null;tGt.lMe_(this,ha.hG_,t["y"],i)}if(!this.Hve_&&t["x"]){this.E_s_=null;tGt.lMe_(this,ha.lG_,t["x"],"X, ")}return this}Tve_(t){if(t!=null){t["x"]!=null&&(this.Uve_=t["x"]);t["y"]!=null&&(this.Yve_=t["y"]);t["distance"]!=null&&(this.qve_=t["distance"])}}S_s_(){const t={x:this.Uve_,y:this.Yve_};this.qve_!=null&&(t["distance"]=this.qve_);return t}Jei_(t){if((t=Es(t))==null)return this;super.Jei_(t);if(t["rubberbandzoom"]!=null&&t["rubberbandzoom"]["mode"]!=null){const i=this.C5_("rubberband");i&&i.TZt_(t["rubberbandzoom"]["mode"])}const i=this.C5_("cross-hair");t["crosshair"]!=null&&i.dt_(t["crosshair"]);if(t["tooltip"]!=null){const i=this.C5_("tooltip");i&&i.dt_(t["tooltip"])}return this}SAi_(){const t=super.SAi_();if(t["rubberbandzoom"]!=null){const i=this.C5_("rubberband");i!=null&&(t["rubberbandzoom"]["mode"]=i.KZt_())}const i=this.C5_("tooltip");i!=null&&(t["tooltip"]=i.N_());this.C5_("zoom")!=null&&(t["zoom"]=this.C5_("zoom").N_());this.C5_("cross-hair")!=null&&(t["crosshair"]=this.C5_("cross-hair").N_());const s=this.C5_("rubberband");s!=null&&(t["rubberbandzoom"]=qi({mode:s.KZt_()},this.C5_("rubberband").N_()));this.C5_("pick")&&(t["selection"]=qi({resetselection:this._ei_},this.C5_("pick")).N_());return t}JV_(){const t={},i=tGt.aMe_(this);i!=null&&qi(i,t);t["tools"]=this.SAi_();t["annotationssizes"]=this.uAi_();t["units"]=this.S_s_();t["wellborenode"]=this.Qme_;t["multidiameterselectionmode"]=this.Lve_;t["scalesratiomode"]=this.Sve_;t["trackwidthstrategy"]=this.AUs_;t["webglrendering"]=this.UZs_.Lps_();t["alignment"]=this.Hk_;const s=this.Eye_.N_();t["labelingstrategy"]=this.Eye_.Tye_();t["deviation"]=this.qUs_();t["labeling"]=s["labeling"];t["trajectory"]=s["trajectory"];t["sealevel"]=this.CMe_.N_();t["scalesratio"]=this.yve_;t["legendalignmentarea"]=this.mve_;this.Mve_!=null&&(t["legend"]=Pi(this.Mve_,{}));this.lN_()!=null&&(t["scalescrollstrategy"]=this.lN_());t["gap"]=Pi(this.Dve_,{});t["gap"]["left"]["size"]=this.KMe_.NS_().Ie_();t["gap"]["right"]["size"]=this.HMe_.NS_().Ie_();t["gap"]["top"]["size"]=this.TMe_.NS_().Ts_();t["gap"]["bottom"]["size"]=this.qMe_.NS_().Ts_();return t}setOptions(t){if((t=Es(t))==null)return this;tGt.G4_(this,t);const i=t["northwest"],s=t["southwest"];this.Kve_=!(i==null||Array.isArray(i)||i instanceof ch||i["title"]==null||i["title"]["text"]==null);this.Hve_=!(s==null||Array.isArray(s)||s instanceof ch||s["title"]==null||s["title"]["text"]==null);const e=t[ha.sG_];this.Jve_=e!=null&&e["axis"]!=null&&e["axis"]["tickgenerator"]!=null?e["axis"]["tickgenerator"]:null;const A=t[ha.AG_];this.Pve_=A!=null&&A["axis"]!=null&&A["axis"]["tickgenerator"]!=null?A["axis"]["tickgenerator"]:null;t["alignment"]!=null&&(this.Hk_=t["alignment"]);t["tools"]!=null&&this.Jei_(t["tools"]);t["annotationssizes"]!=null&&this.vei_(t["annotationssizes"]);const n=t["units"],h=t["wellborenode"];if(h!=null){this.Qme_.dt_(h);h["componentsvisibility"]&&this.Qme_.REe_(h["componentsvisibility"]);this.dEe_(this.CEe_())}n&&this.y_s_(n);t["sealevel"]!=null&&this.CMe_.dt_(t["sealevel"]);t["deviation"]!=null&&this.HUs_(t["deviation"]);const r=t,o=t["wellborenode"];delete t["wellborenode"];this.Eye_.setOptions(r);t["wellborenode"]=o;t["labelingstrategy"]!=null&&this.Eye_.wye_(t["labelingstrategy"]);t["legendalignmentarea"]!=null&&(this.mve_=t["legendalignmentarea"]);const l=t["legend"];if(l!=null){Pi(t["legend"],this.Mve_);qSt._De_(this,this.vni_,l);l["visible"]!=null&&this.C5_("legendTool")&&this.C5_("legendTool").setActive(l["visible"]);if(this.Mve_["legenditem"]){const t=qSt.ZDe_(this.vni_);qSt.iMe_(this,t,this.Mve_)}}t["webglrendering"]!=null&&this.UZs_.cps_(t["webglrendering"]);if(t["scalesratio"]!=null){if(typeof t["scalesratio"]!="number"){ki("options.scalesratio should be number");t["scalesratio"]=1}this.yve_=t["scalesratio"]}typeof t["gap"]=="number"&&(t["gap"]={left:{size:t["gap"]},right:{size:t["gap"]}});if(t["gap"]&&t["gap"]["left"]&&t["gap"]["left"]["size"]!=null){this.KMe_.ft_({left:0,top:0,bottom:0,width:t["gap"]["left"]["size"]});delete t["gap"]["left"]["size"]}if(t["gap"]&&t["gap"]["right"]&&t["gap"]["right"]["size"]!=null){this.HMe_.ft_({top:0,bottom:0,right:0,width:t["gap"]["right"]["size"]});delete t["gap"]["right"]["size"]}if(t["gap"]&&t["gap"]["top"]&&t["gap"]["top"]["size"]!=null){this.TMe_.ft_({left:0,top:0,right:0,height:t["gap"]["top"]["size"]});delete t["gap"]["top"]["size"]}if(t["gap"]&&t["gap"]["bottom"]&&t["gap"]["bottom"]["size"]!=null){this.qMe_.ft_({left:0,bottom:0,right:0,height:t["gap"]["bottom"]["size"]});delete t["gap"]["bottom"]["size"]}t["gap"]=Pi(t["gap"],this.Dve_);this.KMe_.nf_(t["gap"]["left"]["visible"]).iQ_(t["gap"]["left"]["fillstyle"]);this.HMe_.nf_(t["gap"]["right"]["visible"]).iQ_(t["gap"]["right"]["fillstyle"]);this.TMe_.nf_(t["gap"]["top"]["visible"]).iQ_(t["gap"]["top"]["fillstyle"]);this.qMe_.nf_(t["gap"]["bottom"]["visible"]).iQ_(t["gap"]["bottom"]["fillstyle"]);this.JMe_.YT_({left:t["gap"]["left"]["linestyle"],right:t["gap"]["right"]["linestyle"],top:t["gap"]["top"]["linestyle"],bottom:t["gap"]["bottom"]["linestyle"]});let u=[];t["gap"]["left"]["resizable"]&&u.push(this.KMe_);u.push(this.lNt_);t["gap"]["right"]["resizable"]&&u.push(this.HMe_);u.length>1?this.nve_.S_t_(u).Kv_(!0):this.nve_.Kv_(!1);u=[];t["gap"]["top"]["resizable"]&&u.push(this.TMe_);u.push(this.lNt_);t["gap"]["bottom"]["resizable"]&&u.push(this.qMe_);u.length>1?this.hve_.S_t_(u).Kv_(!0):this.hve_.Kv_(!1);t["trackwidthstrategy"]!=null&&(this.AUs_=t["trackwidthstrategy"]);t["scalesratiomode"]!=null&&this.Nve_(t["scalesratiomode"]);t["multidiameterselectionmode"]!=null&&(this.Lve_=t["multidiameterselectionmode"]);this.wq_();return this}zDe_(){return this.Eye_}wq_(t,i){let s=i;i&&(s=this.bve_);super.wq_(t);if(!this.lNt_)return this;const e=this.LM_(),A=e.getParent().rt_();e.yf_(!0);e.ht_(A.clone()).Lq_(A.clone());e.yf_(!1);let n=Number.NaN;this.Gve_===bSt.hDe_&&(n=this.lNt_.rt_().Ie_()/this.lNt_.rt_().Ts_());this.lNt_.ft_({height:A.Ts_(),width:A.Ts_()*n});e.Ad_();const h=this.YMe_.sT_(A,e.YY_());this.YMe_.eT_(A,e.YY_());e.ht_(h).Lq_(h.clone());if(s){const t=this.lNt_.if_().transform(s),A=Gn.kI_(i.x-t.x,i.y-t.y),n=e.getParent().if_().clone();A.vI_(n);A.vI_(e.ut_());A.DI_(n.rI_());e.at_(A)}if(this.vni_){this.Eve_||qSt.$De_(this,this.vni_);this.C5_("legendTool")&&this.C5_("legendTool").setActive(!1)}this.tys_===fSt.dye_&&this.yNt_();this.oN_(this.lN_());this.fMe_();return this}X$i_(){return ur(this.f3t_()).Gw_((t=>t instanceof nd)).Fw_()}getData(){return this.JQe_}setData(t){let i;i=Array.isArray(t)||t instanceof nvt?{elements:t}:t;(Array.isArray(t)||t instanceof nvt)&&(t["elements"]=t);if(i["elements"]===null||Array.isArray(i["elements"])){this.Eye_.Uye_();this.Qme_.xEe_().uBe_();this.Eye_.Yye_()}else if(i["elements"]!=null){const t=nvt.Wi_(i["elements"]);this.Eye_.Uye_();this.PQe_(t);this.Eye_.Yye_();this.dEe_(this.CEe_())}const s=i["trajectory"];if(s instanceof _Ct){this.HUs_({...this.Eye_.qUs_(),trajectory:s});this.y_s_(this.S_s_());this.QAi_();return this}this.Ave_();return this}Vve_(t){if(this.kve_!=null&&this.kve_.Ce_(t))return this;this.kve_!==t&&(this.kve_=t?new mA(t):null);this.tys_===fSt.dye_&&this.yNt_();return this.vn_().td_()}Ove_(){return this.kve_}yNt_(){if(this.qUs_()==null||this.lNt_==null)return this;const t=this.qUs_()["trajectory"],i=t.v_s_(),s=t.b_s_(),e=this.v_s_(),A=this.b_s_();let n,h,r,o;if(this.kve_!=null){n=this.kve_.we_();r=this.kve_.Qe_();h=this.kve_.Ee_();o=this.kve_.pe_()}else{n=t.F_s_();r=t.L_s_();h=t.x_s_();o=t.U_s_()}const l=i.wn_(n,e),u=i.wn_(r,e),a=s.wn_(h,A),g=s.wn_(o,A);this.lNt_.Lq_(new mA(l,a,u,g));this.Eye_.Lq_(new mA(l,a,u,g));this.Eye_.Gye_().Lq_(new mA(l,a,u,g));this.UZs_.ht_(this.UZs_.getParent().rt_()).j_s_(this.kve_);return this}PQe_(t){this.JQe_&&this.JQe_.off(fm.mot_,this.jmt_);this.JQe_=t;this.JQe_&&this.JQe_.on(fm.mot_,this.jmt_);this.Qme_.PQe_(this.JQe_);this.$Mt_();return this}$Mt_(t,i,s){this.dEe_(this.Qme_.CEe_());this.fMe_();return this}N_(){const t=Pi(this.JV_(),super.N_());delete t["data"];t["labeling"]=this.Eye_.N_()["labeling"];return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);this.setOptions(t);t["data"]!==void 0&&this.setData(t["data"]);return this}NAi_(t,i,s){this.tys_===fSt.dye_&&(i=Gn.JI_);return super.NAi_(t,i,s)}KP_(){return this.tys_===fSt.dye_?super.KP_():this.pve_}TP_(t){this.pve_=t;return this}DP_(){this.Eve_=!0;const t=this.vni_&&this.vni_.getBounds().clone(),i=this.uAi_();this.C5_("legendTool")&&this.tys_===fSt.ax_&&this.C5_("legendTool").Nei_();let s=this.LM_().ut_();const e=this.f3t_().v4_(ha.ne_),A=this.f3t_().v4_(ha.AG_),n=this.f3t_().v4_(ha.sG_),h=this.f3t_().v4_(ha.eG_),r=this.f3t_().v4_(ha.nG_);this.mAi_().Rue_=e.getBounds().clone();this.mAi_().Wve_=i;if(this.tys_===fSt.dye_){s=Gn.xI_(this.Eye_.ot_(),this.Eye_.rt_());const t=s.rn_(this.f3t_().v4_(ha.ne_).getBounds());A.ht_(A.getBounds().clone().Be_(t.Ts_()));n.ht_(n.getBounds().clone().Be_(t.Ts_()));h.ht_(h.getBounds().clone().de_(t.Ie_()));r.ht_(r.getBounds().clone().de_(t.Ie_()));e.ht_(e.getBounds().clone().de_(t.Ie_()).Be_(t.Ts_()));const i=s.uI_(this.Eye_.getBounds());this.mAi_().zve_=this.Eye_.getBounds();this.Eye_.ht_(this.Eye_.getBounds().clone().de_(i.Ie_()).Be_(i.Ts_()))}else{const i=this.vni_.$C_(),e=s.uI_(this.vni_.xlt_().getBounds().clone()),A=e.Ie_();e.setY(h.$C_()?h.getBounds().Ts_():0);this.mAi_().LMe_=t;const r=n.$C_()?n.getBounds().Ie_():0,o=this.KP_();if(o==null){let t=this.Qme_.getBounds().Ie_()+20*2,n=this.KMe_.$C_()?this.KMe_.getBounds().Ie_():0,h=this.HMe_.$C_()?this.HMe_.getBounds().Ie_():0;if(this.Hk_===LB.z_){h=i?Math.max(h,A):h;t+=s.uI_(this.Eye_.kye_()).Ie_();e.setX(r+(t-A+n+h)*s.BI_())}else if(this.Hk_===LB.X_){n=i?Math.max(n,A):n;t+=s.uI_(this.Eye_.Rye_()).Ie_();e.setX(r)}const o=this.LM_().rt_(),l=t+n+h;let u;this.Hk_===LB.z_?u=o.we_():this.Hk_===LB.X_?u=o.Qe_()-l:this.Hk_===LB.ne_&&(u=o.ye_()-l/2);this.TP_(o.clone().setX(u).de_(l));this.vni_.ht_(e)}else if(i){this.Hk_===LB.z_?e.setX(r+o.Qe_()-A):this.Hk_===LB.X_&&e.setX(r+o.we_());this.vni_.ht_(e)}}super.DP_();return this}yP_(){const t=this.mAi_().LMe_,i=this.mAi_().Wve_;this.mAi_().bounds&&this.f3t_().ht_(this.mAi_().bounds);if(this.tys_===fSt.dye_){this.Eye_.ht_(this.mAi_().zve_);this.f3t_().v4_(ha.ne_).ht_(this.mAi_().Rue_);const t=this.f3t_().v4_(ha.AG_),i=this.f3t_().v4_(ha.sG_),s=this.f3t_().v4_(ha.eG_),e=this.f3t_().v4_(ha.nG_);t.ht_(t.getBounds().clone().Be_(this.mAi_().Rue_.Ts_()));i.ht_(i.getBounds().clone().Be_(this.mAi_().Rue_.Ts_()));s.ht_(s.getBounds().clone().de_(this.mAi_().Rue_.Ie_()));e.ht_(e.getBounds().clone().de_(this.mAi_().Rue_.Ie_()));this.f3t_().v4_(ha.ne_).ht_(this.mAi_().Rue_)}super.yP_();this.wq_();i!=null&&this.vei_(i);t!=null&&this.vni_.ht_(t);qSt.AMe_(this,this.vni_);this.TP_(null);this.Eve_=!1}HUs_(t){if(t==null)return this;if(t["trajectory"]!=null){const i=this.qUs_();i!=null&&i["trajectory"]!=null&&i["trajectory"].off(VCt.hqt_,this.W_s_);t["trajectory"].on(VCt.hqt_,this.W_s_)}this.Eye_.HUs_(t);t["datamodellimits"]!==void 0?this.Vve_(t["datamodellimits"]):this.tys_===fSt.dye_&&this.yNt_();this.C5_("cross-hair").setPosition(null);return this}qUs_(){const t=this.Eye_.qUs_();if(t==null||this.kve_==null)return t;t["datamodellimits"]=this.kve_.clone();return t}lve_(t){this.setOptions({labeling:{mode:t}});return this}dispose(){if(this.Df_())return;if(this.Eye_){this.Eye_.off(hNt.QQe_,this.aye_);this.Eye_.off(hNt.EQe_,this.gye_)}const t=this.qUs_();t!=null&&t["trajectory"]!=null&&t["trajectory"].off(VCt.hqt_,this.W_s_);this.JQe_!=null&&this.JQe_.off(fm.mot_,this.jmt_);this.f3t_().off(sQ.w4_);super.dispose()}GMe_(t){this.X$i_().forEach((i=>{i.nf_(t)}))}fMe_(){if(this.tys_!==fSt.ax_)return;if(this.JQe_&&this.JQe_.hcs_().length<1){this.GMe_(!1);return}const t=this.lNt_.rt_(),i=t.we_(),s=t.Qe_(),e=this.Qme_.rt_();if(!e||e.isEmpty())return;const A=e.Ee_(),n=e.pe_(),h=new mA(i,A,s,n);this.Eye_.Lq_(h.clone());this.dMe_.Lq_(h.clone());const r=this.SMe_(e),o=this.Eye_.Tye_();let l,u;if(this.Hk_===LB.z_){l=new mA(i,A,i+r,n);u=new mA(i+r,A,s,n);o.Npe_({Right:u})}else if(this.Hk_===LB.X_){l=new mA(s-r,A,s,n);u=new mA(i,A,s-r,n);o.Npe_({Left:u})}else{const e=t.ye_();l=new mA(e-r/2,A,e+r/2,n);const h=new mA(i,A,l.we_(),n),u=new mA(l.Qe_(),A,s,n);o.Npe_({Left:h,Right:u})}this.Qme_.ht_(l);this.Eve_||qSt.$De_(this,this.vni_);this.C5_("legendTool")&&this.C5_("legendTool").setActive(!1);this.td_(void 0,!0)}SMe_(t){const i=this.Qme_.if_(),s=this.lNt_.if_();if(i&&s){const e=Gn.multiply(s.rI_(),i),A=new _Ct({data:{x:[0,0],y:[t.Ee_(),t.pe_()]}}),n=undefined;return this.AUs_.Ie_(e,{trajectory:A,width:t.Ie_()})}return t.Ie_()}mMe_(){ur(this.v4_(ha.sG_)).Gw_((t=>t instanceof nd)).Eu_((t=>{this.yMe_(t,ha.sG_)}));ur(this.v4_(ha.AG_)).Gw_((t=>t instanceof nd)).Eu_((t=>{this.yMe_(t,ha.AG_)}))}yMe_(t,i){const s=tGt.aMe_(this);if(s==null)return this;const e=pGt(s,i);if(!e)return this;const A=this.Qme_.CEe_();let n=null;const h=(t,i,s,e,A,n)=>Math.round(n).toString(),r=t=>{const i=this.ide_.N_();if(i["outputvalues"]==null||i["outputvalues"].length===0)return!1;const s=[];for(let t=0;t<i["outputvalues"].length;++t)s.push(Math.round(i["outputvalues"][t])+"");t.X$_({positions:i["inputvalues"],labels:s});return!0},o=i===ha.sG_?this.Jve_:this.Pve_;if(o!=null){n=o instanceof Qg?o:new JC(o);if(n instanceof iB)r(n);else{n.hL_(this.ide_);n.Yx_(h)}}else if(e===iGt.Dt_||A===rNt.W8_){n=this.BMe_;n.hL_(this.ide_);n.Yx_(h)}else e===iGt.VI_&&r(this.wMe_)&&(n=this.wMe_);if(n){t.jZ_(n);this.fNt_.jZ_(fg.ux_,BGt(n.clone()))}return this}Tye_(){ki("CompositeSchematicsWidget.getLabelingStrategy is  deprecated since 4.0. Use CompositeSchematicsWidget.getWellBoreWithLabels().getLabelingStrategy() instead;");return this.Eye_.Tye_()}Nve_(t){if(this.Sve_===t||!this.tys_)return this;this.Sve_=t;this.Rve_=t;this.Gve_=this.Rve_;this.dds_(this.tys_);return this}Fve_(){const t=this.CEe_(),i=this.Cds_();t===rNt.W8_||i===fSt.ax_?this.ZMe_.forEach((t=>{t._1t_().KH_()===fg.ux_&&t._1t_().ZZ_().hL_(null)})):this.ZMe_.forEach((t=>t._1t_().ZZ_().hL_(t)));return this}};s=i=t([Zs(_St),_s("geotoolkit.schematics.widgets.CompositeSchematicsWidget")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXREaXNwbGF5TW9kZSI6ImRkc18iLCJnZXREaXNwbGF5TW9kZSI6IkNkc18iLCJzY2FsZU1vZGVsIjoiTzRfIiwidHJhbnNsYXRlTW9kZWwiOiJQNF8iLCJnZXRNb2RlbFBvaW50IjoieXVzXyIsImdldERldmljZVBvaW50IjoiTU1lXyIsInRyYW5zZm9ybURlcHRoIjoiayRzXyIsImdldFZpZXdNb2RlIjoiQ0VlXyIsInNldFZpZXdNb2RlIjoiZEVlXyIsImdldENlbnRlck1vZGVsTGltaXRzIjoib0FpXyIsImdldFNlbGVjdGVkQ29tcG9uZW50Tm9kZXMiOiJpRWVfIiwic2V0U2VsZWN0ZWRDb21wb25lbnROb2RlcyI6InNFZV8iLCJpbml0aWFsaXplVG9vbHMiOiJBNHRfIiwic3luY2hyb25pemVWaWV3TGltaXRzIjoiUGVpXyIsImZpdFRvQm91bmRzIjoiUUFpXyIsInNldFRvb2xzT3B0aW9ucyI6IkplaV8iLCJnZXRUb29sc09wdGlvbnMiOiJTQWlfIiwiZ2V0T3B0aW9ucyI6IkpWXyIsImdldFdlbGxCb3JlV2l0aExhYmVscyI6InpEZV8iLCJ1cGRhdGVMYXlvdXQiOiJ3cV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0RXhwb3J0TGltaXRzIjoiS1BfIiwic2V0RXhwb3J0TGltaXRzIjoiVFBfIiwiYmVnaW5FeHBvcnQiOiJEUF8iLCJlbmRFeHBvcnQiOiJ5UF8iLCJzZXREZXZpYXRpb24iOiJIVXNfIiwiZ2V0RGV2aWF0aW9uIjoicVVzXyIsInNldExhYmVsc01vZGUiOiJsdmVfIiwiZ2V0TGFiZWxpbmdTdHJhdGVneSI6IlR5ZV8ifX19");const yGt=function(t){const i=undefined;ur(t).Gw_((t=>t instanceof nd)).Fw_().forEach((i=>{t.dAi_(i)}))};var DGt=Ci(function(){let i=class t extends eK{constructor(t){super(t=t||{});this.Xve_=new TQ({dynamic_layer:!0,id:"splitter_manipulator_layer",name:"splitter_manipulator_layer"});this.aq_(!1);const i=new _bt;let s=Pi(t,{annotationssizes:{north:30,east:0,south:0},trackwidthstrategy:i,north:{title:{text:"Planned"}}},!0);s=Pi(t["planned"],s);s=Pi({gap:{top:{visible:!1,resizable:!1,size:"0"},left:{visible:!1,resizable:!1,size:"0"},right:{visible:!1,resizable:!1,size:"0"},bottom:{visible:!1,resizable:!1,size:"0"}},annotationssizes:{west:0},wellborenode:{viewmode:rNt.W8_,valueviewmode:lNt.DQe_},alignment:LB.X_},s,!0);this.jve_=new mGt(s);this.jve_.dt_({labeling:{defaultlocation:dNt.z_}});this.jve_.HC_("planned");yGt(this.jve_);let e=Pi(t,{annotationssizes:{north:30,south:0},trackwidthstrategy:i,north:{title:{text:"Actual"}}},!0);e=Pi(t["actual"],e);e=Pi({gap:{top:{visible:!1,resizable:!1,size:"0"},left:{visible:!1,resizable:!1,size:"0"},right:{visible:!1,resizable:!1,size:"0"},bottom:{visible:!1,resizable:!1,size:"0"}},annotationssizes:{west:0},wellborenode:{viewmode:rNt.W8_,valueviewmode:lNt.MQe_},alignment:LB.z_},e,!0);this.Zve_=new mGt(e);this.Zve_.HC_("actual");yGt(this.Zve_);this._ve_=tGt.cye_(this.jve_);this.$ve_=tGt.cye_(this.Zve_);this.tbe_=new I1({mode:[i1.xHi_]});this.tbe_.connect(this.jve_,{vertical:!0,horizontal:!1});this.tbe_.connect(this.Zve_,{vertical:!0,horizontal:!1});this.jve_.Cq_("50%");this.Zve_.Cq_("50%");this.cq_(new lw);this.ibe_=new sI({layoutstyle:{left:0,top:0,width:"65",bottom:0}});this.ibe_.cq_(new ww);this.sbe_=Sd.Ai_().create({location:ha.sG_});this.ebe_=new sI({layoutstyle:{left:0,right:0,top:0,height:s["annotationssizes"]["north"]}});this.ibe_.GY_([this.ebe_,this.sbe_]);this.GY_(this.ibe_);this.Abe_=new sI;this.Abe_.cq_(new lw);this.Abe_.GY_([this.jve_,this.Zve_]);this.GY_(this.Abe_);this.tbe_.connect(this.sbe_,{scale:{setdata:(t,i)=>{let s=i.ut_();s||(s=Gn.JI_);i.at_(new Gn(s.xx,0,0,t.yy,s.dx,t.dy))}},vertical:!0,horizontal:!1,sender:!1,receiver:!0,events:[]});this.A4t_();t["data"]&&this.setData(t["data"])}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);this.setOptions(t);t["data"]!==void 0&&this.setData(t["data"]);return this}N_(){const t=super.N_();return Pi(t,this.JV_())}A4t_(){this.h4t_(this.jve_.K3_());this.h4t_(this.Zve_.K3_());this.Abe_.Gq_(this.Xve_);const t=new wU(this.Xve_,fg.ax_).S_t_([this.jve_,this.Zve_]).on(IU.p_t_,(()=>{this.Abe_.wq_()}));this.h4t_(t);return this}setData(t){if(t===void 0)return this;if(t===null){this.jve_.setData(null);this.Zve_.setData(null)}else{this.jve_.setData(t["planned"]);this.Zve_.setData(t["actual"])}const i=this._ve_.nEe_(),s=this.$ve_.nEe_();if(!i&&!s)return this;let e;e=i&&s?new mA(i).union(s):i||s;this._ve_.eEe_(e);this.$ve_.eEe_(e);this.sbe_.Lq_(e);return this}CEe_(){return rNt.W8_}dEe_(t){return Ss({modellimitsdepths:[],boundsdepths:[]},["modellimitsDepths","boundsDepths"],"DualSchematicsWidget.setViewMode")}Tye_(){return null}JV_(){return Pi(this.UU_,{})}oAi_(){const t=this._ve_.AEe_(),i=this.$ve_.AEe_();if(!t&&!i)return null;if(t&&i){const s=undefined;return new mA(t).union(i)}return new mA(t||i)}setOptions(t){this.UU_=Pi(t,this.UU_,!0);const i=Pi(t,{});i["planned"]&&delete i["planned"];i["actual"]&&delete i["actual"];this.jve_.setOptions(i);t["planned"]&&this.jve_.setOptions(t["planned"]);this.Zve_.setOptions(i);t["actual"]&&this.Zve_.setOptions(t["actual"]);this.td_(void 0,!0);return this}nbe_(){return this.jve_}hbe_(){return this.Zve_}};i=t([Zs(_St),_s("geotoolkit.schematics.widgets.DualSchematicsWidget")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwiaW5pdGlhbGl6ZVRvb2xzIjoiQTR0XyIsImdldFZpZXdNb2RlIjoiQ0VlXyIsInNldFZpZXdNb2RlIjoiZEVlXyIsImdldExhYmVsaW5nU3RyYXRlZ3kiOiJUeWVfIiwiZ2V0T3B0aW9ucyI6IkpWXyIsImdldENlbnRlck1vZGVsTGltaXRzIjoib0FpXyIsImdldFBsYW5uZWRXaWRnZXQiOiJuYmVfIiwiZ2V0QWN0dWFsV2lkZ2V0IjoiaGJlXyJ9fX0g");const MGt=new mA,vGt=function(t){return!t||t.length<1?null:t[t.length-1].toString()},bGt=function(t,i){return i==null?null:t+": "+i.toString()},NGt=new hl({color:"blue"}).qD_({x:!0,y:!0}),SGt=new wr({color:"red"}),GGt=new qa({color:"black",alignment:Fa.z_,font:"10px sans-serif"});var RGt=Ci(function(){let i=class t extends _H{constructor(t){t=t||{};const i=new qSt,s=new aSt({defaultlocation:dNt.X_});s.setOptions({connectorshape:new CNt});s.JV_()["labelshape"].setStyle({linestyle:NGt,fillstyle:SGt});t=Pi(t,{tooltip:{divelement:null,gettext:vGt},scalescrollstrategy:new jQ,wellborenode:{viewmode:rNt.W8_,trackwidth:150,deviationdepth:null,lshapeaccuracy:16},labelingstrategy:s,skips:{visible:!0,thickness:8,linestyle:{color:"darkgray",width:2,pattern:el.yD_}},labeldevpoints:{gettext:bGt,linestyle:NGt,fillstyle:SGt,textstyle:GGt,padding:2,visible:!1},tools:{verticalscroll:{visible:!1},horizontalscroll:{visible:!1}},annotationssizes:{north:"0",south:"0",east:"0",west:"0"},keepvisiblelimits:!1,legendalignmentarea:ha.ne_,legend:i.jDe_({alignment:dA.ee_}),gap:{horizontal:{left:0,right:0},vertical:{top:0,bottom:0}}},!0);const e=new sI;e.Lq_(null);e.aq_(!0);e.HC_("_model");const A=Pi(t["wellborenode"],{}),n=new FNt(A);n.wme_(t["gap"]);n.xb_(new wh);const h=new BSt({wellborenode:n});e.GY_(h);super(t=Pi({model:e},t));this.vQe_=[];this.bni_;this.Qme_=n;this.aye_=()=>{this.notify(hNt.QQe_,this,null)};this.gye_=()=>{this.notify(hNt.EQe_,this,null)};this.Eye_=h;this.Eye_.on(hNt.QQe_,this.aye_);this.Eye_.on(hNt.EQe_,this.gye_);this.rbe_=ur(this.Qme_).Gw_('node => id(node) == "group_vertical"').xw_();this.obe_=ur(this.Qme_).Gw_('node => id(node) == "group_horizontal"').xw_();this.Qye_=s;this.UU_=t;this.cMe_=i;this.lbe_=new ap({linestyle:this.UU_["skips"]["linestyle"],visible:!1});this.ube_=new ap({linestyle:this.UU_["skips"]["linestyle"],visible:!1});this.abe_=new ap({linestyle:this.UU_["skips"]["linestyle"],visible:!1});this.gbe_=new ap({linestyle:this.UU_["skips"]["linestyle"],visible:!1});this.cbe_=new ap({linestyle:this.UU_["skips"]["linestyle"],visible:!1});this.Ibe_=new ap({linestyle:this.UU_["skips"]["linestyle"],visible:!1});this.Qme_.GY_([this.lbe_,this.ube_,this.abe_,this.gbe_,this.cbe_,this.Ibe_]);this.vni_=this.cMe_.tMe_(this.Eye_,this,this.UU_["legend"]);this.GY_(this.QMe_());qSt.$De_(this,this.vni_);this.C5_("legendTool").on(HH.cei_,this.EMe_.bind(this));t["data"]instanceof nvt||(t["data"]=new nvt(t["data"]));this.PQe_(t["data"]);this.Tpe_=ur(this.Qme_).Gw_('node => id(node) == "group_deviated"').xw_();this.fbe_=new YC({sizeisindevicespace:!0,alignment:dA.le_});this.Cbe_=new YC({rotationangle:-Math.PI/2,sizeisindevicespace:!0,alignment:dA.re_});this.dbe_=new sI;this.dbe_.GY_([this.fbe_,this.Cbe_]);this.Qme_.GY_(this.dbe_);this.setOptions(this.UU_)}zDe_(){return this.Eye_}iEe_(){return this.vQe_}sEe_(t){this.vQe_=t;const i=undefined,s=qSt.ZDe_(this.vni_).getData();for(let t=0;t<s.jv_();t++){const i=s.get(t),e=i.Uw_();this.vQe_.includes(e)||this.vQe_.includes(this.Qme_.xCe_(e))?i.Bd_(Rl.Selection):i.Qd_(Rl.Selection)}this.Qme_.sEe_(this.vQe_);return this}oN_(t){this.UU_["scalescrollstrategy"]=t;super.oN_(t);return this}QMe_(){return this.vni_.getParent()}EMe_(t,i,s){i===this.C5_("legendTool")&&qSt.AMe_(this,this.vni_);return this}CEe_(){return this.Qme_.CEe_()}dEe_(t){return this.Qme_.dEe_(t)}PQe_(t){this.JQe_&&this.JQe_.off(fm.mot_,this.$Mt_.bind(this));this.JQe_=t;this.JQe_&&this.JQe_.on(fm.mot_,this.$Mt_.bind(this));this.$Mt_();return this}getData(){return this.JQe_}$Mt_(){this.Qme_.PQe_(this.JQe_);return this}setData(t){if(t instanceof nvt)this.PQe_(t);else if(!t||Array.isArray(t)&&t.length===0)this.JQe_.uBe_();else{this.JQe_.uBe_();this.JQe_.jde_(t)}return this}oAi_(){return this.Eye_!=null?this.Eye_.rt_():null}Tye_(){return this.Eye_.Tye_()}wye_(t){this.Qye_=t;this.Eye_.wye_(t);this.td_();return this}wq_(t){const i=this.getBounds();if(!i||i.Ie_()===0||i.Ts_()===0)return this;super.wq_(t);this.Bbe_();qSt.$De_(this,this.vni_);this.C5_("legendTool").setActive(!1);return this}ht_(t){super.ht_(t);this.wbe_();this.dbe_.rd_(!1);const i=this.Qme_.getBounds(),s=this.Qme_.Bme_();this.dbe_.ht_(new mA(i.we_(),i.pe_()-s,i.we_()+s,i.pe_()));const e=this.dbe_.rt_();this.fbe_.rd_(!1);this.Cbe_.rd_(!1);this.fbe_.gR_(e.ye_(),e.Ee_());this.Cbe_.gR_(e.Qe_(),e.De_());const A=this.Qme_.tme_("kop");this.fbe_.a_(this.UU_["labeldevpoints"]["gettext"]("KOP",A));const n=this.Qme_.tme_("eoc");this.Cbe_.a_(this.UU_["labeldevpoints"]["gettext"]("EOC",n));this.fbe_.rd_(!0);this.Cbe_.rd_(!0);this.dbe_.rd_(!0);return this}Bbe_(){const t=this.Tye_();if(!t||typeof t.Npe_!="function")return;const i=this.UU_["wellborenode"]["trackwidth"],s=this.UU_["labelsbounds"];let e,A;if(s){e=s["Right"];A=s["Top"]}else{const t=this.oAi_(),s=new mA(t.we_()+i*1.5,t.Ee_(),t.Qe_(),t.pe_()-i*1.5);e=new mA(s);A=new mA(s)}t.Npe_({Right:e,Top:A})}JV_(){return Pi(this.UU_,{})}Qbe_(){const t=this.Qme_.tme_("kop");this.fbe_.a_(this.UU_["labeldevpoints"]["gettext"]("KOP",t));const i=this.Qme_.tme_("eoc");this.Cbe_.a_(this.UU_["labeldevpoints"]["gettext"]("EOC",i))}Ebe_(t){if(t==null)return this;t["visible"]!==void 0&&this.dbe_.nf_(t["visible"]);t["gettext"]!==void 0&&this.Qbe_();if(t["linestyle"]!==void 0){this.fbe_.rB_(t["linestyle"]);this.Cbe_.rB_(t["linestyle"])}if(t["fillstyle"]!==void 0){this.fbe_.iQ_(t["fillstyle"]);this.Cbe_.iQ_(t["fillstyle"])}if(t["textstyle"]!==void 0){this.fbe_.g_(t["textstyle"]);this.Cbe_.g_(t["textstyle"])}if(t["padding"]!==void 0){this.fbe_.zX_(t["padding"]);this.Cbe_.zX_(t["padding"])}return this}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);this.setOptions(t);if(t["data"]!==void 0){t["data"]instanceof nvt||(t["data"]=new nvt(t["data"]));this.PQe_(t["data"])}return this}N_(){const t=super.N_();return Pi(t,this.JV_())}setOptions(t){this.UU_=Pi(t,this.UU_,!0);this.wbe_();this.Bbe_();t["labelingstrategy"]!=null&&this.wye_(t["labelingstrategy"]);const i=t["wellborenode"],s=t;this.Eye_.setOptions(s);if(i!=null){i["renderinghints"]!=null&&this.Qme_.SCe_(i["renderinghints"]);if(i["registry"]!=null){this.Qme_.UQe_(i["registry"]);this.Qme_.dEe_(this.Qme_.CEe_())}if(i["viewmode"]!=null){const t=gNt.YQe_(i["viewmode"]);this.Qme_.dEe_(t)}if(i["trackwidth"]!=null){this.Qme_.nJs_(i["trackwidth"]);this.Qme_.wq_();this.Qme_.uvt_()}if(i["deviationdepth"]!==void 0){this.Qme_.zpe_(i["deviationdepth"]);this.Qbe_()}if(i["lshapeaccuracy"]!=null){this.Qme_.dt_({lshapeaccuracy:i["lshapeaccuracy"]});this.Qme_.wq_();this.Qme_.uvt_()}}const e=t["labeling"];if(e!=null){this.Eye_.wye_(this.Qye_);if(e["mode"]&&e["mode"]===MNt.dpe_){t["legend"]===void 0&&(t["legend"]={});t["legend"]["visible"]===void 0&&(t["legend"]["visible"]=!1)}}const A=t["legend"];if(A!=null){qSt._De_(this,this.vni_,A);A["visible"]!=null&&this.C5_("legendTool").setActive(A["visible"]);if(A["legenditem"]){const t=qSt.ZDe_(this.vni_);qSt.iMe_(this,t,this.UU_["legend"])}}t["legend"]&&t["legend"]["visible"]!=null&&this.Eye_.dt_({labeling:{legendmode:t["legend"]["visible"]}});const n=t["skips"];if(n!=null){if(n["linestyle"]!==void 0){this.lbe_.rB_(n["linestyle"]);this.ube_.rB_(n["linestyle"]);this.abe_.rB_(n["linestyle"]);this.gbe_.rB_(n["linestyle"]);this.cbe_.rB_(n["linestyle"]);this.Ibe_.rB_(n["linestyle"])}this.wbe_()}this.Ebe_(t["labeldevpoints"]);this.wq_();return this}pbe_(t,i){const s=undefined;if(!t.rt_())return;let e=i;t.It_()!=null&&(e=t.It_().rn_(e));let A=t.lt_();MGt.ce_(A);A=t.if_().gI_(A,MGt);t.sd_()!=null&&(A=t.sd_().rn_(A,MGt));if(!e||e.isEmpty()||!A||A.isEmpty())return;const n=Gn.xI_(e,A,!1,!1);this.mbe_(t,n)}ybe_(t,i){let s,e,A;const n=undefined;if(i===Wk.ax_){s=this.rbe_;e=s.ot_();A=new mA(e.we_(),t.Ee_(),e.Qe_(),t.pe_())}else{s=this.obe_;e=s.ot_();A=new mA(e.we_(),t.Ee_(),e.Qe_(),t.pe_())}this.pbe_(s,A)}Dbe_(t,i,s){const e=undefined;return new gU(t).HC_(s).TZt_(Wk.ax_).Kv_(!1).rB_(new hl("darkgray",1,[2,2])).iQ_(new wr("rgba(237,237,237,0.5)")).on(xS.Pkt_,((t,i)=>{this.oUt_.Kv_(!i.isEnabled())})).on(rU.jZt_,((t,s,e)=>{this.ybe_(e.getArea(),i);this.Pei_()}))}Mbe_(t){const i=new MF(t).Kv_(!1).on(xS.Jkt_,((t,i)=>{const s=i.isEnabled()&&i.EOt_()===fk.Xqt_;this.C5_("panning")&&this.C5_("panning").Kv_(!s);this.C5_("zoom")&&this.C5_("zoom").Kv_(!s);i.isEnabled()&&this.C5_("rubberband_vertical")&&this.C5_("rubberband_vertical").Kv_(!1);i.isEnabled()&&this.C5_("rubberband_horizontal")&&this.C5_("rubberband_horizontal").Kv_(!1)}))._Ot_((t=>t)).$qt_(fk.Xqt_);let s=[];i.jOt_(CF.et_).$qt_(fk.zqt_).off(wF.yOt_).Kv_(!0).on(wF.yOt_,(()=>{this.sEe_(s.length>0?[s[s.length-1]]:s);s=[]})).HOt_((t=>{let i=null;if(t instanceof mNt)i=FMt.UCe_(t);else if(t instanceof su){i=FMt.TCe_(t);i instanceof Cvt&&this.UU_["multidiameterselectionmode"]===zSt.Range&&(i=null)}else t instanceof cvt&&(i=this.UU_["multidiameterselectionmode"]===zSt.yQe_?ch.Dd_(t,kMt):t);if(i){const t=this.Qme_.xCe_(i);t&&(i=t);s.indexOf(i)<0&&s.push(i)}}));return i}vMe_(t){this.OSt_||(this.OSt_=bC.IO_());const i=this.OSt_.select(this,t.x,t.y,2),s=[];for(let t=0;t<i.length;++t){const e=i[t];e instanceof kMt&&s.push(e)}const e=undefined;return this.UU_["tooltip"]["gettext"](s)}A4t_(t){const i=ur(this.LM_()).Gw_('node => id(node) == "manipulator_layer_vertical"').xw_(),s=ur(this.LM_()).Gw_('node => id(node) == "manipulator_layer_horizontal"').xw_();this.vbe_=this.Dbe_(i,Wk.ax_,"rubberband_vertical");this.bbe_=this.Dbe_(s,Wk.ux_,"rubberband_horizontal");this.oUt_=(new sG).Kv_(!0).on(jS.VFt_,((t,i,s)=>{this.bni_.s0t_();const e=s.oc_();this.P4_(e.x,e.y)}));const e=this.mgt_();this.tAi_=new IY({layer:e,mode:nY.XY}).Kv_(!0).on(rY.XZt_,(()=>{this.vbe_.Kv_(!1);this.bbe_.Kv_(!1);this.oUt_.Kv_(!1)})).on(rY.v0t_,((t,i,s)=>{const A=e.rt_();if(!s.ot_())return;const n=s.ot_();this.O4_(A.Ie_()/n.Ie_(),A.Ts_()/n.Ts_());this.Pei_()})).on(rY.jZt_,(()=>{this.oUt_.Kv_(!0)}));this.bni_=new iY({layer:this,divelement:t["tooltip"]["divelement"],autoupdate:!1,autoflip:t["tooltip"]["autoflip"],callback:this.vMe_.bind(this)});this.JDt_=this.Mbe_(this.mgt_());this.nAi_=this.K3_();this.nAi_.add([this.vbe_,this.bbe_,this.tAi_,this.bni_,this.JDt_,this.oUt_]);return this}Nbe_(t,i){const s=new Gn(i);s.vI_(t.if_());if(t.getParent()){const i=t.getParent().if_();i!=null&&s.DI_(i.rI_())}const e=t.It_();e!=null&&s.vI_(e.rI_());return s}QAi_(){this.obe_.at_(null);this.rbe_.at_(null);this.wbe_();return this}P4_(t,i){t!==0&&this.Sbe_(this.obe_,t);i!==0&&this.Sbe_(this.rbe_,i);return this}Gbe_(t,i){t!==0&&this.Sbe_(this.obe_,t,!0);i!==0&&this.Sbe_(this.rbe_,i,!0);return this}wbe_(){const t=this.Rbe_(),i=this.kbe_();this.Fbe_(t,i);const s=new TA;let e=this.xbe_,A=this.Lbe_;s.moveTo(e[0],A[0]).lineTo(e[1],A[1]).lineTo(e[2],A[2]).lineTo(e[3],A[3]).close();e=this.Ube_;A=this.Ybe_;s.moveTo(e[0],A[0]).lineTo(e[1],A[1]).lineTo(e[2],A[2]).lineTo(e[3],A[3]).close();e=this.Tbe_;A=this.Kbe_;s.moveTo(e[0],A[0]).lineTo(e[1],A[1]).lineTo(e[2],A[2]).lineTo(e[3],A[3]).close();this.Qme_.Pb_().Pd_(s)}Rbe_(){const t=this.rbe_,i=t.rt_(),s=t.ot_(),e=s.Ts_()/1e4,A=Math.abs(i.Ee_()-s.Ee_())>e,n=Math.abs(i.pe_()-s.pe_())>e,h=t.getParent(),r=h.getBounds();let o=r.Ee_(),l=r.pe_();const u=r.we_(),a=r.Qe_(),g=this.UU_["skips"]["thickness"];A&&(o+=g);n&&(l-=g);const c=this.UU_["skips"]["visible"];this.lbe_.rd_(!1);this.lbe_.Qt_([u,a],[o,o]);this.lbe_.rd_(!0);this.lbe_.nf_(c&&A);this.ube_.rd_(!1);this.ube_.Qt_([u,a],[l,l]);this.ube_.rd_(!0);this.ube_.nf_(c&&n);const I=h.getParent().rt_();this.xbe_=[I.we_(),I.Qe_(),I.Qe_(),I.we_()];this.Lbe_=[o,o,l,l];return c&&n}kbe_(){const t=this.obe_,i=t.rt_(),s=t.ot_(),e=s.Ts_()/1e4,A=Math.abs(i.Ee_()-s.Ee_())>e,n=Math.abs(i.pe_()-s.pe_())>e,h=this.Qme_.rt_(),r=this.UU_["wellborenode"]["trackwidth"],o=h.pe_()-r-this.UU_["gap"]["vertical"]["bottom"],l=h.pe_()-this.UU_["gap"]["vertical"]["bottom"];let u=h.we_()+r+this.UU_["gap"]["horizontal"]["left"],a=h.Qe_()-this.UU_["gap"]["horizontal"]["right"];const g=this.UU_["skips"]["thickness"];A&&(u+=g);n&&(a-=g);const c=this.UU_["skips"]["visible"];this.abe_.rd_(!1);this.abe_.Qt_([u,u],[o,l]);this.abe_.rd_(!0);this.abe_.nf_(c&&A);this.gbe_.rd_(!1);this.gbe_.Qt_([a,a],[o,l]);this.gbe_.rd_(!0);this.gbe_.nf_(c&&n);this.Ube_=[u,a,a,u];this.Ybe_=[o,o,l,l];return c&&A}Fbe_(t,i){const s=undefined;if(!this.UU_["skips"]["visible"]){this.cbe_.nf_(!1);this.Ibe_.nf_(!1);return}const e=this.Qme_.rt_(),A=this.UU_["wellborenode"]["trackwidth"];let n=e.pe_()-A-this.UU_["gap"]["vertical"]["bottom"];const h=e.pe_()-this.UU_["gap"]["vertical"]["bottom"],r=e.we_()+this.UU_["gap"]["horizontal"]["left"];let o=e.we_()+A+this.UU_["gap"]["horizontal"]["left"];const l=this.UU_["skips"]["thickness"];let u,a,g,c;if(t){n+=l;u=[r,o];a=[n,n];this.cbe_.rd_(!1);this.cbe_.Qt_(u,a);this.cbe_.rd_(!0);this.cbe_.nf_(!0)}if(i){o-=l;g=[o,o];c=[n,h];this.Ibe_.rd_(!1);this.Ibe_.Qt_(g,c);this.Ibe_.rd_(!0);this.Ibe_.nf_(!0)}this.Tbe_=[r,o,o,r];this.Kbe_=[n,n,h,h];if(!t||!i)if(t)this.Ibe_.nf_(!1);else if(i)this.cbe_.nf_(!1);else{this.cbe_.nf_(!1);this.Ibe_.nf_(!1)}}vei_(t){super.vei_(t);if(this.UU_){this.wbe_();this.Bbe_()}}mbe_(t,i){const s=this.lN_();typeof s=="function"?i=s(t,i):s instanceof $l&&(i=s.db_(t,i));if(!i)return this;t.at_(i);this.wbe_();return this}Sbe_(t,i,s){if(i===0)return this;let e;e=t===this.obe_?Gn.kI_(i,0):Gn.kI_(0,i);const A=this.Nbe_(t,e);if(s){t.at_(A);this.wbe_()}else this.mbe_(t,A);return this}O4_(t,i,s,e){if(t===1&&i===1)return this;t!==1&&this.Hbe_(this.obe_,t,1,s,0);i!==1&&this.Hbe_(this.rbe_,1,i,0,e);return this}Hbe_(t,i,s,e,A){if(e==null||A==null){const i=t.lt_();e=e||i.ye_();A=A||i.De_()}const n=Gn.kI_(-e,-A);n.DI_(Gn.TI_(i,s));n.DI_(Gn.kI_(e,A));const h=this.Nbe_(t,n);this.mbe_(t,h);return this}Jei_(t){if(t==null)return this;super.Jei_(t);const i=t["rubberbandzoom"];if(i!=null){this.C5_("rubberband_horizontal").B_t_(i);this.C5_("rubberband_vertical").B_t_(i);i["horizontal"]!=null&&this.C5_("rubberband_horizontal").B_t_(i["horizontal"]);i["vertical"]!=null&&this.C5_("rubberband_vertical").B_t_(i["vertical"])}return this}DP_(){super.DP_();this.QMe_().ht_(new mA(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER));const t=this.vni_.getBounds();this.mAi_().LMe_=t.clone();return this}yP_(){this.vni_.ht_(this.mAi_().LMe_);super.yP_()}dispose(){if(!this.Df_()){if(this.Eye_){this.Eye_.off(hNt.QQe_,this.aye_);this.Eye_.off(hNt.EQe_,this.gye_)}super.dispose()}}};i=t([Zs(_St),_s("geotoolkit.schematics.widgets.LShapedSchematicsWidget")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXZWxsQm9yZVdpdGhMYWJlbHMiOiJ6RGVfIiwiZ2V0U2VsZWN0ZWRDb21wb25lbnROb2RlcyI6ImlFZV8iLCJzZXRTZWxlY3RlZENvbXBvbmVudE5vZGVzIjoic0VlXyIsInNldFNjYWxlU2Nyb2xsU3RyYXRlZ3kiOiJvTl8iLCJnZXRWaWV3TW9kZSI6IkNFZV8iLCJzZXRWaWV3TW9kZSI6ImRFZV8iLCJnZXRDZW50ZXJNb2RlbExpbWl0cyI6Im9BaV8iLCJnZXRMYWJlbGluZ1N0cmF0ZWd5IjoiVHllXyIsInNldExhYmVsaW5nU3RyYXRlZ3kiOiJ3eWVfIiwidXBkYXRlTGF5b3V0Ijoid3FfIiwic2V0Qm91bmRzIjoiaHRfIiwiZ2V0T3B0aW9ucyI6IkpWXyIsInNldFByb3BlcnRpZXMiOiJkdF8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJpbml0aWFsaXplVG9vbHMiOiJBNHRfIiwiZml0VG9Cb3VuZHMiOiJRQWlfIiwidHJhbnNsYXRlTW9kZWwiOiJQNF8iLCJzZXRBbm5vdGF0aW9uU2l6ZSI6InZlaV8iLCJzY2FsZU1vZGVsIjoiTzRfIiwic2V0VG9vbHNPcHRpb25zIjoiSmVpXyIsImJlZ2luRXhwb3J0IjoiRFBfIiwiZW5kRXhwb3J0IjoieVBfIn19fSAg");const kGt=function(t){return!t||t.length<1?null:t[t.length-1].toString()};var FGt=Ci(function(){let i=class t extends _H{constructor(t){t=Pi(t,{tooltip:{divelement:null,gettext:kGt},annotationssizes:{north:60,south:35,east:0,west:65},west:{axis:{tickposition:yr.PQ_,labelposition:Dr.ne_}},south:{axis:{tickposition:yr.PQ_,labelposition:Dr.ne_}},scalescrollstrategy:new jQ,gap:{horizontal:{left:50,right:50},vertical:{top:0,bottom:50}},wellborenode:{viewmode:rNt.W8_,data:t["data"]},scalesratiomode:bSt.tVt_,scalesratio:1,sealevel:{depth:0,visible:!1}},!0);super(t=Pi({tools:{verticalscroll:{visible:!1},horizontalscroll:{visible:!1}},keepvisiblelimits:!1,model:(new sI).aq_(!1)},t,!0));this.aye_=()=>{this.notify(hNt.QQe_,this,null)};this.gye_=()=>{this.notify(hNt.EQe_,this,null)};this.Qme_=new NSt;this.Qme_.on(hNt.QQe_,this.aye_);this.Qme_.on(hNt.EQe_,this.gye_);this.CMe_=new ZSt;this.dMe_=(new sI).aq_(!1).GY_(this.CMe_);this.LM_().GY_([this.dMe_,this.Qme_]);this.UU_=t;this.s3t_.aq_(!0);this.jMe_();this.pMe_=this.s3t_.L4_();this.pMe_.GY_((new Sc).rB_(new hl("grey",1)));this.s3t_.GY_((new Sc).rB_(new hl("grey",1)));this.setOptions(this.UU_);return this}oN_(t){this.UU_["scalescrollstrategy"]=t;super.oN_(t);return this}C4t_(t){const i=super.C4t_(t),s=this.mgt_();s&&this.LM_().removeChild(s);const e=ur(this.LM_()).Gw_('node => id(node) == "overlays_layer"').xw_();e&&this.LM_().removeChild(e);this.Jgt_=(new Ic).JC_("manipulator_layer");this.LM_().getParent().GY_(this.Jgt_);const A=this.rt_().clone();A.Le_(A.Ie_()/2,A.Ts_()/2);this.LM_().gk_((new zQ).I6_(A));return i}jMe_(){this.X$i_().forEach((t=>{t._Z_(!0);this.s3t_.connect(t,this.Qme_)}))}CEe_(){return rNt.W8_}dEe_(t){return Ss({modellimitsdepths:[],boundsdepths:[]},["modellimitsDepths","boundsDepths"],"MultiLateralSchematicsWidget.setViewMode")}oAi_(){return this.Qme_!=null?this.Qme_.rt_():null}vMe_(t){this.OSt_||(this.OSt_=bC.IO_());const i=this.OSt_.select(this,t.x,t.y,2),s=[];for(let t=0;t<i.length;++t){const e=i[t];e instanceof kMt&&s.push(e)}return this.UU_["tooltip"]["gettext"](s)}A4t_(t){this.bni_=new iY({layer:this,divelement:t["tooltip"]["divelement"],autoupdate:!1,autoflip:t["tooltip"]["autoflip"],callback:this.vMe_.bind(this)});this.tAi_=new IY({layer:this.Jgt_,mode:nY.Y}).Kv_(!0).on(rY.XZt_,(()=>{this.iAi_.Kv_(!1);this.oUt_.Kv_(!1)})).on(rY.v0t_,((t,i,s)=>{const e=s.ot_();if(e!=null&&s.Lkt_().ctrlKey!==!0){this.s3t_._Y_(e);this.Pei_()}})).on(rY.jZt_,(()=>{this.oUt_.Kv_(!0)}));this.oUt_=(new sG).Kv_(!0).on(jS.VFt_,((t,i,s)=>{this.bni_.s0t_();const e=s.oc_();if(s.Lkt_().ctrlKey===!0){const t=e.start.y>e.end.y?4/5:5/4;this.O4_(t,t)}else this.s3t_.P4_(e.x,e.y)}));this.iAi_=new gU(this.Jgt_).TZt_(Wk.tVt_).Kv_(!1).rB_(new hl("darkgray",1,[2,2])).iQ_(new wr("rgba(237,237,237,0.5)")).on(xS.Pkt_,((t,i)=>{i.isEnabled()?this.oUt_.Kv_(!1):this.oUt_.Kv_(!0)})).on(rU.jZt_,((t,i,s)=>{const e=undefined,A=(this.LM_().ut_()||Gn.JI_).gI_(s.getArea());this.s3t_._Y_(A);this.Pei_()}));this.jkt_=new lG(this.s3t_).add([this.tAi_,this.iAi_,this.bni_,this.oUt_]);return this}setData(t){if(t!=null){this.Qme_.setData(t);this.wq_()}return this}JV_(){const t=undefined;return Pi({wellborenode:this.Qme_.JV_()},this.UU_,!0)}setOptions(t){let i=!1;(t=Es(t))["annotationssizes"]!=null&&this.vei_(t["annotationssizes"]);const s=t["wellborenode"];s!=null&&this.Qme_.dt_(s);t["scalesratiomode"]!=null&&(i=!0);if(t["scalesratio"]!=null){i=!0;if(typeof t["scalesratio"]!="number"){ki("options.scalesratio should be number (Previous value == "+this.UU_["scalesratio"]+" is kept");t["scalesratio"]=this.UU_["scalesratio"]}}t["sealevel"]!=null&&this.CMe_.setOptions(t["sealevel"]);this.UU_=Pi(t,this.UU_);i&&this.wq_();this.jMe_();return this}wq_(t){if(this.pMe_==null)return this;const i=new mA(this.getBounds()),s=i.Ie_(),e=i.Ts_();if(s===0||e===0)return this;if(!this.s3t_)return this;if(this.NMe_)return this;this.NMe_=!0;this.Lq_(new mA(i));this.s3t_.Lq_(new mA(i));const A=this.uAi_(ha.sG_),n=this.uAi_(ha.eG_),h=this.uAi_(ha.AG_),r=this.uAi_(ha.nG_),o=new mA(0,0,s-A-h,e-n-r);this.pMe_.Lq_(new mA(o));this.LM_().Lq_(new mA(o));this.fMe_();this.NMe_=!1;return this}X$i_(t){return ur(this.s3t_).Gw_((function(i){return i instanceof nd&&(t===void 0||i.KH_()===t)})).Fw_()}GMe_(t){this.X$i_().forEach((function(i){i.nf_(t)}))}RMe_(t){if(typeof this.UU_["gap"]=="number")return this.UU_["gap"];let i;if(t==="top"||t==="bottom"){i=this.UU_["gap"][fg.ax_];return typeof i!="number"?i[t]:i}i=this.UU_["gap"][fg.ux_];return typeof i!="number"?i[t]:i}fMe_(){this.GMe_(this.Qme_.EDe_());this.s3t_.oN_(null);const t=this.LM_().getBounds(),i=t.we_(),s=t.Qe_(),e=t.Ee_(),A=t.pe_(),n=this.RMe_("left"),h=this.RMe_("right"),r=this.RMe_("top"),o=this.RMe_("bottom");let l;if(this.UU_["scalesratiomode"]===bSt.tVt_)l=new mA(i+n,e+r,s-h,A-o);else{const t=this.LM_().rt_(),i=t.Ie_()-n-h,s=t.Ts_()-r-o,e=this.Qme_.rt_(),A=this.UU_["scalesratio"]*s*e.Ie_()/e.Ts_();l=new mA((i-A)/2,0,(i+A)/2,s)}this.Qme_.ht_(l);this.dMe_.ht_(l.clone().setX(i).de_(s-i));this.dMe_.Lq_(this.Qme_.rt_().clone().setX(i).de_(s-i));this.Qme_.wq_();this.s3t_.oN_(this.UU_["scalescrollstrategy"]);this.LM_().yq_().zT_(!0)}N_(){const t=super.N_(),i=this.JV_();Pi(i,t,!0);return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);this.setOptions(t);return this}Tye_(){return null}dispose(){if(!this.Df_()){if(this.Qme_){this.Qme_.off(hNt.QQe_,this.aye_);this.Qme_.off(hNt.EQe_,this.gye_)}super.dispose()}}Lq_(t){this.LM_().yq_().I6_(t.clone().Le_(t.Ie_()/2,t.Ts_()/2));return super.Lq_(t)}};i=t([Zs(_St),_s("geotoolkit.schematics.widgets.MultiLateralSchematicsWidget")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTY2FsZVNjcm9sbFN0cmF0ZWd5Ijoib05fIiwiaW5pdGlhbGl6ZUxheW91dCI6IkM0dF8iLCJnZXRWaWV3TW9kZSI6IkNFZV8iLCJzZXRWaWV3TW9kZSI6ImRFZV8iLCJnZXRDZW50ZXJNb2RlbExpbWl0cyI6Im9BaV8iLCJpbml0aWFsaXplVG9vbHMiOiJBNHRfIiwiZ2V0T3B0aW9ucyI6IkpWXyIsInVwZGF0ZUxheW91dCI6IndxXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8iLCJnZXRMYWJlbGluZ1N0cmF0ZWd5IjoiVHllXyIsInNldE1vZGVsTGltaXRzIjoiTHFfIn19fSAg");var xGt=Ci(function(){let i=class t extends DO{constructor(t){super(t);this.JQe_=null;this.jFs_=null;this.UU_=null;this.qbe_=null}xEe_(){return this.JQe_}PQe_(t){this.JQe_=t;return this}Jbe_(){return this.jFs_}Pbe_(t){this.jFs_=t;return this}Cds_(){if(this.JV_()!=null&&this.JV_()["displaymode"]!=null)return this.JV_()["displaymode"];const t=undefined;return this.getAttribute("displaymode")==="deviated"?fSt.dye_:fSt.ax_}dds_(t){t===fSt.ax_?this.removeAttribute("displaymode"):this.setAttribute("displaymode",fSt.dye_);return this}JV_(){return this.UU_}setOptions(t){this.UU_=t;return this}Vbe_(t){if(this.qbe_!=null)return this.qbe_;this.qbe_=TP._di_(this);const i=t.Gyi_();function s(t){for(const e in t)if(t.hasOwnProperty(e)){const A=t[e];if(typeof A=="object")t[e]=s(t[e]);else if(typeof A=="string")if(A==="null")t[e]=null;else if(A[0]==="@"){let s=A.replaceAll("@","");const n=s.indexOf("("),h=s.indexOf(")");let r=null;if(n!==-1&&h!==-1){const t=s.substring(n+1,h).trim();s=s.substring(0,n).trim();r=TP.Xdi_(t,!0)}t[e]=i.resolve(s,r)}}return t}this.qbe_=s(this.qbe_);return this.qbe_}};i=t([_s(null)],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXZWxsQm9yZURhdGEiOiJ4RWVfIiwic2V0V2VsbEJvcmVEYXRhIjoiUFFlXyIsImdldFRyYWplY3RvcnkiOiJKYmVfIiwic2V0VHJhamVjdG9yeSI6IlBiZV8iLCJnZXREaXNwbGF5TW9kZSI6IkNkc18iLCJzZXREaXNwbGF5TW9kZSI6ImRkc18iLCJnZXRPcHRpb25zIjoiSlZfIn19fSAg");const LGt={north:{title:{text:"Schematics Widget"}},alignment:LB.ne_,annotationssizes:{south:0,east:0},gap:{left:{size:"80px"},right:{size:"80px"},top:{size:"10px"},bottom:{size:"50px"}},tools:{verticalscroll:{visible:!1},horizontalscroll:{visible:!1}},viewcache:!1,legend:{visible:!1,options:{scroll:{vertical:{visible:!1},horizontal:{visible:!1}}}}};var UGt=function(){let i=class t extends bX{constructor(t){const i=new mGt,s=i.C5_("tooltip");s!=null&&s.Kv_(!1);if(t!=null){const i=Pi(LGt,{});t=Pi(t,i)}else t=LGt;i.setOptions(t);i.Yb_({css:[".geotoolkit.scene.shapes.Border {"," linestyle: null;","}"].join("\n")});super(i)}xEe_(){const t=this.eai_();return t instanceof xGt?t.xEe_():null}Jbe_(){const t=this.eai_();return t instanceof xGt?t.Jbe_():null}Cds_(){const t=this.eai_();if(t instanceof xGt)return t.Cds_();const i=undefined;return t.getAttribute("displaymode")==="deviated"?fSt.dye_:fSt.ax_}initialize(t,i){const s=this.NDi_();s.dds_(this.Cds_());const e=this.xEe_(),A=this.Jbe_();if(e!=null||A!=null){s.setData({trajectory:A,elements:e});if(e!=null){const t=e.k_i_();s.setOptions({deviation:{trackwidth:t.Ie_()*2,offset:0}})}}return this}};i=t([_s("geotoolkit.schematics.widgets.reports.SchematicsWidgetElement")],i);return i}();var YGt=function(){let i=class t extends oX{Obe_(t){if(t==null)return null;const i=Pi(t,{});t["labeling"]!=null&&t["labeling"]["strategy"]!=null&&(i["labelingstrategy"]=t["labeling"]["strategy"]);t["legend"]!=null&&t["legend"]["alignmentarea"]!=null&&(i["legendalignmentarea"]=t["legend"]["alignmentarea"]);return i}createElement(t,i){let s=null;const e=t instanceof xGt?t.Vbe_(i):null,A=t instanceof xGt?t.JV_():null;if(e!=null&&A!=null){const t=Pi(e,{});s=Pi(A,t)}else s=A||e;s=this.Obe_(s);const n=new UGt(s),h=i.oO_(n);n.initialize();return h}};i=t([_s(null)],i);return i}();let TGt=!1;var KGt=Ci(function(){let i=class t{static start(){if(!TGt){_O.IO_().register("schematics",xGt);Aj.IO_().register(new YGt("schematics"));TGt=!0}}};i=t([_s("geotoolkit/schematics/widgets/reports/SchematicsML")],i);return i}(),2,"eyJnZXRDbGFzc05hbWUiOiJEXyJ9");export {GMt,RMt,kMt,FMt,LMt,UMt,HMt,qMt,JMt,PMt,VMt,OMt,XMt,jMt,ZMt,_Mt,tvt,ivt,svt,evt,Avt,nvt,lvt,uvt,avt,gvt,cvt,Cvt,dvt,Bvt,wvt,Qvt,Evt,pvt,mvt,Dvt,Mvt,bvt,Nvt,Svt,kvt,Fvt,xvt,Lvt,Uvt,Yvt,Tvt,Kvt,Hvt,qvt,Jvt,Pvt,zvt,Xvt,jvt,Zvt,_vt,$vt,tbt,ibt,sbt,ebt,Abt,nbt,hbt,rbt,obt,lbt,ubt,abt,gbt,cbt,Ibt,fbt,Cbt,dbt,Bbt,wbt,Qbt,Ebt,pbt,mbt,ybt,Dbt,Mbt,vbt,bbt,Nbt,Sbt,Gbt,Rbt,kbt,Fbt,xbt,Lbt,Ubt,Ybt,Tbt,Kbt,Hbt,qbt,Jbt,Pbt,Vbt,Obt,Wbt,zbt,Xbt,jbt,Zbt,_bt,$bt,tNt,iNt,sNt,eNt,ANt,nNt,hNt,rNt,oNt,lNt,gNt,cNt,fNt,CNt,dNt,BNt,wNt,mNt,DNt,MNt,bNt,RNt,FNt,HNt,sSt,ASt,nSt,hSt,rSt,oSt,lSt,aSt,gSt,cSt,ISt,fSt,BSt,pSt,mSt,ySt,DSt,MSt,vSt,bSt,NSt,SSt,RSt,kSt,FSt,xSt,LSt,USt,YSt,TSt,KSt,qSt,WSt,zSt,jSt,ZSt,_St,tGt,iGt,uGt,aGt,gGt,cGt,dGt,mGt,DGt,RGt,FGt,xGt,UGt,YGt,KGt};