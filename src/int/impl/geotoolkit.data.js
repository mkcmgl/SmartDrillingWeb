/* eslint-disable */
import {__decorate as t} from 'tslib';import {$n,Wi,Gi,qi,Es,hr,Au,_s,Zi,oA,ki,OA,Zs,NA,qm,Gs,Im,Pi,Ji,fA,Mi,Xm,rp,ep,op,lp,Ci} from '@int/impl/geotoolkit.base.js';var xD=Ci({eC_:"ChildAdded",AC_:"ChildRemoved",gf_:"PropertyChanged"},2,"eyJDaGlsZEFkZGVkIjoiZUNfIiwiQ2hpbGRSZW1vdmVkIjoiQUNfIiwiUHJvcGVydHlDaGFuZ2VkIjoiZ2ZfIn0g"),LD=Ci(function(){let i=class t extends $n{constructor(t){super();this.children=[];this.parent=null;this.data=qi(t,{name:"",uri:"",type:""})}dn_(){return this.data["name"]}HC_(t){return this.dct_("name",t)}Bct_(){return this.data["uri"]}setUri(t){return this.dct_("uri",t)}getType(){return this.data["type"]}setType(t){return this.dct_("type",t)}N_(){return this.data}dt_(t){if((t=Es(t))==null)return this;t["name"]!==void 0&&this.HC_(t["name"]);t["uri"]!==void 0&&this.setUri(t["uri"]);t["type"]!==void 0&&this.setType(t["type"]);return this}wct_(t){if(t!=null)for(const i in t)if(t.hasOwnProperty(i))try{t[i]!==void 0&&this.setProperty(i,t[i])}catch(t){Gi("Cant copy property '"+i+"' to destination object")}return this}Qct_(t){return this.data.hasOwnProperty(t)}Id_(t){return this.data.hasOwnProperty(t)?this.data[t]:void 0}setProperty(t,i){return this.dct_(t,i)}dct_(t,i){if(this.data.hasOwnProperty(t)&&this.data[t]===i)return this;this.data[t]=i;this.Ect_({name:t,value:i});return this}GY_(t){if(t==null)return this;if(Array.isArray(t))t.forEach((t=>{this.children.push(t);t.jC_(this)}));else{this.children.push(t);t.jC_(this)}this.notify(xD.eC_,this,t);return this}removeChild(t,i){if(t==null)return this;const s=this.children.indexOf(t);if(s===-1)return this;this.children.splice(s,1);t.jC_(null);if(i===!0)return this;this.notify(xD.AC_,this,t);return this}set(t,i){if(i==null||t>=this.children.length)return null;const s=this.children[t];this.children[t]=i;i.jC_(this);return s}xY_(t,i,s){if(i==null)return this;this.children.splice(t,0,i);i.jC_(this);if(s===!0)return this;this.notify(xD.eC_,this,i);return this}KY_(){this.children=[];return this}HY_(t){return this.children[t]}qY_(){return this.children.length}YY_(t){return Au.cN_(this.children,t)}FY_(t){return t==null?-1:this.children.indexOf(t)}jC_(t){this.parent&&this.parent!==t&&this.parent.removeChild(this);this.parent=t;return this}getParent(){return this.parent}Ect_(t){return this.notify(xD.gf_,this,t)}query(){return new hr(this,{map:{uri:t=>t.Bct_(),name:t=>t.dn_(),type:t=>t.getType()},enumerateitems:(t,i)=>{for(let s=0;s<t.qY_();s++)i(t.HY_(s))}})}dispose(){if(!this.Df_()){for(let t=0;t<this.children.length;t++)this.children[t]!=null&&this.children[t].dispose();this.children=[];this.parent=null;this.data={};super.dispose()}}b_(t){this.children=[];this.data={};this.parent=null;for(let t=0;t<this.children.length;t++)this.children[t]!=null&&this.children.push(this.children[t].clone());for(const i in t.data)t.data.hasOwnProperty(i)&&(this.data[i]=t.data[i]);return this}clone(t){return Wi(this,null,t)}};i=t([_s("geotoolkit.data.DataObject")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiZG5fIiwic2V0TmFtZSI6IkhDXyIsImdldFVyaSI6IkJjdF8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiYWRkUHJvcGVydGllcyI6IndjdF8iLCJoYXNQcm9wZXJ0eSI6IlFjdF8iLCJnZXRQcm9wZXJ0eSI6IklkXyIsImFkZENoaWxkIjoiR1lfIiwiaW5zZXJ0Q2hpbGQiOiJ4WV8iLCJjbGVhckNoaWxkcmVuIjoiS1lfIiwiZ2V0Q2hpbGQiOiJIWV8iLCJnZXRDaGlsZHJlbkNvdW50IjoicVlfIiwiZ2V0Q2hpbGRyZW4iOiJZWV8iLCJpbmRleE9mQ2hpbGQiOiJGWV8iLCJzZXRQYXJlbnQiOiJqQ18iLCJvblByb3BlcnR5Q2hhbmdlZCI6IkVjdF8iLCJjb3B5Q29uc3RydWN0b3IiOiJiXyJ9fX0g");var UD=Ci({pct_:"Updated",w4_:"Updating",mct_:"DataFetching",yct_:"DataLoaded"},2,"eyJVcGRhdGVkIjoicGN0XyIsIlVwZGF0aW5nIjoidzRfIiwiRGF0YUZldGNoaW5nIjoibWN0XyIsIkRhdGFMb2FkZWQiOiJ5Y3RfIn0g");var YD=Ci({Dct_:"ValuesAdding",Mct_:"ValuesAdded",vct_:"ValuesUpdating",bct_:"ValuesUpdated",Nct_:"ValuesRemoving",Sct_:"ValuesRemoved",Gct_:"ValuesSetting",Rct_:"ValuesSet",kct_:"UnitChanged",Fct_:"Disposing"},2,"eyJWYWx1ZXNBZGRpbmciOiJEY3RfIiwiVmFsdWVzQWRkZWQiOiJNY3RfIiwiVmFsdWVzVXBkYXRpbmciOiJ2Y3RfIiwiVmFsdWVzVXBkYXRlZCI6ImJjdF8iLCJWYWx1ZXNSZW1vdmluZyI6Ik5jdF8iLCJWYWx1ZXNSZW1vdmVkIjoiU2N0XyIsIlZhbHVlc1NldHRpbmciOiJHY3RfIiwiVmFsdWVzU2V0IjoiUmN0XyIsIlVuaXRDaGFuZ2VkIjoia2N0XyIsIkRpc3Bvc2luZyI6IkZjdF8ifSAg");let TD=0;var KD=Ci(function(){let i=class t extends LD{constructor(t){const i=qi(t,{id:++TD});super(i);this.setProperty("id",i["id"]);this.Sn_=0}dispose(){if(!this.Df_()){this.notify(YD.Fct_,this);super.dispose()}}XC_(){return this.Id_("id")}JC_(t){return this.setProperty("id",t)}update(t){this.nd_();this.notify(UD.pct_,this,t);return this}dt_(t){if((t=Es(t))==null)return this;t["id"]!==void 0&&this.JC_(t["id"]);return super.dt_(t)}updating(t){this.notify(UD.w4_,this,t);return this}an_(){return this.Sn_}nd_(){this.Sn_++;this.Sn_===Number.MAX_SAFE_INTEGER&&(this.Sn_=0);return this}xct_(){return oA.W_}};i.prototype.ae_=Zi;i.prototype.gn_=Zi;i.prototype.getLength=Zi;i.prototype.getValue=Zi;i.prototype.toArray=Zi;i.prototype.Lct_=Zi;i=t([_s("geotoolkit.data.AbstractDataSeries")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJZCI6IlhDXyIsInNldElkIjoiSkNfIiwic2V0UHJvcGVydGllcyI6ImR0XyIsImdldFRpbWVTdGFtcCI6ImFuXyIsInVwZGF0ZVRpbWVTdGFtcCI6Im5kXyIsImdldERhdGFPcmRlciI6InhjdF8iLCJpc1JlYWRPbmx5IjoiYWVfIiwiZ2V0VW5pdCI6ImduXyIsImNvbnZlcnRWYWx1ZXMiOiJMY3RfIn19fSAg");var HD=Ci({Uct_:"added",Yct_:"removed"},2,"eyJBZGRlZCI6IlVjdF8iLCJSZW1vdmVkIjoiWWN0XyJ9");const qD={};let JD=0;var PD=Ci(function(){let i=class t extends KD{constructor(t){const i=qi(t,{type:"object"});super(i);this.pi_=Array.isArray(i["data"])?i["data"]:[];this.ai_=null;i["unit"]!==void 0&&this.KD_(i["unit"]);this.Tct_=null}b_(t,i){this.pi_=i===!0&&Array.isArray(t.pi_)?t.pi_.slice():[];this.ai_=t.ai_;return this}ae_(){return!1}static Kct_(t,i,s){const e=qi(t,{name:typeof t=="string"?t:null,func:typeof i=="function"?i:null},!0);if(e["name"]!=null){t=e["name"];typeof e["func"]=="function"?qD[t]={$B_:e["func"],Hct_:"Hct_"in e?e["desc"]:null,timestamp:++JD}:delete qD[t]}}static qct_(){return Object.keys(qD)}static Jct_(t){return qD[t]?qD[t]["desc"]:null}Pct_(t){let i=null;if(qD.hasOwnProperty(t)){this.Tct_=this.Tct_||{};this.Tct_[t]!==void 0&&this.Tct_[t].timestamp===qD[t].timestamp||(this.Tct_[t]={value:qD[t].$B_(this),timestamp:qD[t].timestamp});i=this.Tct_[t].value}return i}Vct_(){this.Tct_=null;return this}Oi_(t){this.notify(YD.Dct_,this);this.pi_.push(t);this.Vct_();this.Oct_(this.pi_.length-1,1);return this}Wct_(t){if(Array.isArray(t)&&t.length>0){this.notify(YD.Dct_,this);const i=this.pi_.length;for(let i=0;i<t.length;++i)this.pi_.push(t[i]);this.Vct_();this.Oct_(i,t.length)}return this}zct_(t,i){if(t>=0&&t<this.pi_.length){this.notify(YD.Dct_,this);this.pi_.splice(t,0,i);this.Vct_();this.Oct_(t,1)}return this}Xct_(t,i){if(t>=0&&t<this.pi_.length&&Array.isArray(i)&&i.length>0){this.notify(YD.Dct_,this);for(let s=0;s<i.length;++s)this.pi_.splice(t+s,0,i[s]);this.Vct_();this.Oct_(t,i.length)}return this}getValue(t){return this.pi_[t]}setValue(t,i){if(t>=0&&t<this.pi_.length&&this.pi_[t]!==i){const s=this.pi_[t];this.notify(YD.vct_,this);this.pi_[t]=i;this.Vct_();this.jct_(t,1,[s])}return this}setValues(t,i){this.notify(YD.Gct_,this);const s=this.pi_;this.pi_=i===!1?t:t.slice();this.Vct_();this.Zct_(s);return this}_ct_(t,i){i=typeof i=="number"?i:1;if(t>=0&&t<this.pi_.length&&i>0){this.notify(YD.Nct_,this);const s=this.pi_.splice(t,i);this.Vct_();this.$ct_(t,i,s)}return this}tIt_(){if(this.pi_.length>0){this.notify(YD.Nct_,this);const t=this.pi_.splice(0,this.pi_.length),i=t.length;this.pi_=[];this.Vct_();this.$ct_(0,i,t)}return this}toArray(t,i){let s=null;s=this.ai_==null||this.ai_.pn_(i)||!this.ai_.Qn_(i)?this.pi_:this.Lct_(this.pi_,this.ai_,i);return t===!0&&s===this.pi_?s.slice():Array.isArray(s)?s:[s]}Lct_(t,i,s){return t}getLength(){return this.pi_.length}KD_(t){if((t=OA.Ai_().gn_(t))!==this.ai_&&(this.ai_==null&&t!=null||!this.ai_.pn_(t))){this.ai_=t;this.notify(YD.kct_,this,this.ai_);this.update()}return this}gn_(){return this.ai_}dt_(t){if((t=Es(t))==null)return this;if(t["data"]!=null){ki('geotoolkit.dataDataSeries.setProperties with property "data" does not support in current version');delete t["data"]}t["unit"]!=null&&this.KD_(t["unit"]);return super.dt_(t)}N_(){const t=super.N_();return this.gn_()==null?t:qi(t,{unit:this.gn_()})}Oct_(t,i,s){this.Ect_({name:"state",value:{range:{changes:HD.Uct_,from:t,amount:i}}});this.notify(YD.Mct_,this,{from:t,count:i});this.update({index:t,count:i,type:HD.Uct_})}jct_(t,i,s){this.Ect_({name:"state",value:{range:{changes:UD.pct_,from:t,amount:i}}});this.notify(YD.bct_,this,{from:t,count:i});this.update()}$ct_(t,i,s){this.Ect_({name:"state",value:{range:{changes:HD.Yct_,from:t,amount:i}}});this.notify(YD.Sct_,this,{from:t,count:i});this.update({index:t,count:i,type:HD.Yct_})}Zct_(t){this.Ect_({name:"state",value:{range:{changes:UD.pct_,from:0,amount:this.pi_.length}}});this.notify(YD.Rct_,this,{});this.update()}};i=t([_s("geotoolkit.data.DataSeries")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJiXyIsImlzUmVhZE9ubHkiOiJhZV8iLCJjYWxjdWxhdGUiOiJQY3RfIiwiYWRkVmFsdWUiOiJPaV8iLCJhZGRWYWx1ZXMiOiJXY3RfIiwiaW5zZXJ0VmFsdWUiOiJ6Y3RfIiwiaW5zZXJ0VmFsdWVzIjoiWGN0XyIsInJlbW92ZVZhbHVlcyI6Il9jdF8iLCJjbGVhclZhbHVlcyI6InRJdF8iLCJjb252ZXJ0VmFsdWVzIjoiTGN0XyIsInNldFVuaXQiOiJLRF8iLCJnZXRVbml0IjoiZ25fIiwic2V0UHJvcGVydGllcyI6ImR0XyIsImdldFByb3BlcnRpZXMiOiJOXyJ9fSwic2V0Rm9ybXVsYSI6IktjdF8iLCJnZXRGb3JtdWxhcyI6InFjdF8iLCJnZXRGb3JtdWxhRGVzY3JpcHRpb24iOiJKY3RfIn0g");var VD=Ci(function(){let i=class t{};i.prototype.nA_=Zi;i.prototype.hA_=Zi;i=t([_s("geotoolkit.data.INumericalDataSeries")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNaW4iOiJuQV8iLCJnZXRNYXgiOiJoQV8ifX0sImdldENsYXNzTmFtZSI6IkRfIn0g");const OD=function(t){if(t.getType()!=="number")return NaN;let i=0;for(let s=0;s<t.getLength();s++)i+=t.getValue(s);return i},WD=function(t){return t.getType()!=="number"?NaN:t.getLength()!==0?OD(t)/t.getLength():0};PD.Kct_("sum",OD);PD.Kct_("avg",WD);var zD=Ci(function(){var i;let s=i=class t extends PD{constructor(t){const i=undefined;super(qi(t,{type:"number"}));this.iIt_=Number.POSITIVE_INFINITY;this.sIt_=Number.NEGATIVE_INFINITY;this.eIt_=!0;this.AIt_=!0;this.nIt_=!1}Oi_(t){return super.Oi_(i.hIt_(t))}Wct_(t){return super.Wct_(i.hIt_(t))}zct_(t,s){return super.zct_(t,i.hIt_(s))}Xct_(t,s){return super.Xct_(t,i.hIt_(s))}setValue(t,s){return super.setValue(t,i.hIt_(s))}setValues(t,s){return super.setValues(i.hIt_(t,s),!1)}nA_(t){this.rIt_();return this.Lct_(this.iIt_,this.gn_(),t)}hA_(t){this.rIt_();return this.Lct_(this.sIt_,this.gn_(),t)}rIt_(){this.nIt_!==!0&&this.Wj_();return this}oIt_(){this.nIt_=!1;return this}Wj_(){let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;this.eIt_=!0;this.AIt_=!0;let s,e=null;const A=this.getLength();for(let n=0;n<A;++n){s=this.getValue(n);if(isNaN(s)){this.eIt_=!1;this.AIt_=!1}else{s<t&&(t=s);s>i&&(i=s);this.eIt_&&e!=null&&s<e&&(this.eIt_=!1);this.AIt_&&e!=null&&s>e&&(this.AIt_=!1);e=s}}if(this.iIt_!==t){this.iIt_=t;this.Ect_({name:"min",value:t})}if(this.sIt_!==i){this.sIt_=i;this.Ect_({name:"max",value:i})}this.nIt_=!0;return this}Lct_(t,i,s){const e=typeof i=="string"?OA.Ai_().gn_(i):i;return e==null||e.pn_(s)||!e.Qn_(s)?t:e.wn_(t,s)}xct_(){this.rIt_();return this.eIt_?oA.Ds_:this.AIt_?oA.Ms_:oA.W_}static hIt_(t,i){if(Array.isArray(t)){const s=i!==!1?new Array(t.length):t;for(let i=0;i<t.length;++i)s[i]=typeof t[i]=="number"?t[i]:Number.NaN;return s}return typeof t=="number"?t:Number.NaN}lIt_(t,s,e){const A=this.iIt_,n=this.sIt_;let h,r=t>0?this.getValue(t-1):void 0;for(let e=0;e<s;++e){h=this.getValue(t+e);i.uIt_(this,h,r);r=h}t+s<this.getLength()&&i.uIt_(this,this.getValue(t+s),r);typeof e=="function"&&e.call(this);this.iIt_!==A&&this.Ect_({name:"min",value:this.iIt_});this.sIt_!==n&&this.Ect_({name:"max",value:this.sIt_})}Oct_(t,i,s){this.lIt_(t,i,(()=>{super.Oct_(t,i)}))}jct_(t,i,s){for(let e=0;e<i;++e)if(s[e]===this.iIt_&&this.getValue(t+e)>this.iIt_||s[e]===this.sIt_&&this.getValue(t+e)<this.sIt_){this.oIt_();break}this.nIt_?this.lIt_(t,i,(()=>{super.jct_(t,i)})):super.jct_(t,i)}$ct_(t,i,s){this.oIt_();super.$ct_(t,i,s)}Zct_(t){this.oIt_();super.Zct_(t)}static uIt_(t,i,s){if(isNaN(i)){t.eIt_=!1;t.AIt_=!1}else{t.eIt_&&s!=null&&i<s&&(t.eIt_=!1);t.AIt_&&s!=null&&i>s&&(t.AIt_=!1);i<t.iIt_&&(t.iIt_=i);i>t.sIt_&&(t.sIt_=i)}}};s=i=t([Zs(VD),_s("geotoolkit.data.NumericalDataSeries")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRWYWx1ZSI6Ik9pXyIsImFkZFZhbHVlcyI6IldjdF8iLCJpbnNlcnRWYWx1ZSI6InpjdF8iLCJpbnNlcnRWYWx1ZXMiOiJYY3RfIiwiZ2V0TWluIjoibkFfIiwiZ2V0TWF4IjoiaEFfIiwiY29udmVydFZhbHVlcyI6IkxjdF8iLCJnZXREYXRhT3JkZXIiOiJ4Y3RfIn19fSAg");const EM=function(t,i){return i<t[0]?1:i>t[1]?-1:0};var pM=function(){var t=class{constructor(){this.Us_=[]}clone(){const i=new t;for(let t=0;t<this.Us_.length;++t)i.Us_.push([this.Us_[t][0],this.Us_[t][1]]);return i}clear(){this.Us_=[];return this}getLength(){return this.Us_.length}Wft_(t){return this.Us_[t]}add(t,i){let s=NA.findIndex(t,this.Us_,null,null,EM),e=NA.findIndex(i,this.Us_,null,null,EM);s<0&&s===e&&this.Us_.splice(~s,0,[0,0]);if(s<0){s=~s;this.Us_[s][0]=t}if(e<0){e=~e;this.Us_[e][1]=i}s!==e&&(this.Us_[s][1]=this.Us_[e][1]);this.Us_.splice(s+1,e-s);this.merge(s);this.merge(s-1);return this}remove(t,i){let s=NA.findIndex(t,this.Us_,null,null,EM);if(s>=0){if(t>this.Us_[s][0]){this.Us_.splice(s+1,0,[t,this.Us_[s][1]]);this.Us_[s][1]=t-1;++s}}else s=~s;let e=NA.findIndex(i,this.Us_,null,null,EM);if(e>=0){if(i<this.Us_[e][1]){this.Us_.splice(e+1,0,[i+1,this.Us_[e][1]]);this.Us_[e][1]=i}}else e=~e-1;this.Us_.splice(s,e-s+1);return this}shift(t,i){if(i!==0){let s=NA.findIndex(t,this.Us_,null,null,EM);if(s>=0){if(i>0&&t>this.Us_[s][0]){this.Us_.splice(s+1,0,[t,this.Us_[s][1]]);this.Us_[s][1]=t-1;++s}}else s=~s;for(let t=s;t<this.Us_.length;++t){this.Us_[t][0]+=i;this.Us_[t][1]+=i}i<0&&s>0&&this.merge(s-1)}return this}intersect(t){const i=[];let s,e;for(let A=0,n=0;A<this.getLength()&&n<t.getLength();){s=this.Wft_(A);e=t.Wft_(n);if(s[1]<e[0])++A;else if(s[0]>e[1])++n;else if(s[0]===e[0])if(s[1]===e[1]){i.push([s[0],s[1]]);++A;++n}else if(s[1]<e[1]){i.push([s[0],s[1]]);++A}else{i.push([e[0],e[1]]);++n}else if(s[0]<e[0])if(s[1]===e[1]){i.push([e[0],e[1]]);++A;++n}else if(s[1]<e[1]){i.push([e[0],s[1]]);++A}else{i.push([e[0],e[1]]);++n}else if(s[1]===e[1]){i.push([s[0],s[1]]);++A;++n}else if(s[1]<e[1]){i.push([s[0],s[1]]);++A}else{i.push([s[0],e[1]]);++n}}this.Us_=i;return this}merge(t){if(t>=0&&t<this.Us_.length-1&&this.Us_[t][1]===this.Us_[t+1][0]-1){this.Us_[t][1]=this.Us_[t+1][1];this.Us_.splice(t+1,1)}return this}contains(t){return NA.findIndex(t,this.Us_,null,null,EM)>=0}zft_(){let t=0;for(let i=0;i<this.Us_.length;++i)t+=this.Us_[i][1]-this.Us_[i][0]+1;return t}Xft_(t){let i=NA.findIndex(t,this.Us_,null,null,EM);i<0&&(i=~i);let s=0;for(let t=0;t<i;++t)s+=this.Us_[t][1]-this.Us_[t][0]+1;i<this.Us_.length&&t>=this.Us_[i][0]&&(s+=t-this.Us_[i][0]);return s}};return t}();const mM="Original and processed values should have the same type";var yM=Ci({jft_:"FilterChanged",wC_:"Rebuild"},2,"eyJGaWx0ZXJDaGFuZ2VkIjoiamZ0XyIsIlJlYnVpbGQiOiJ3Q18ifSAg"),DM=Ci({Zft_:"General",Fl_:"Value"},2,"eyJHZW5lcmFsIjoiWmZ0XyIsIlZhbHVlIjoiRmxfIn0g");function MM(t){return typeof t=="function"}var vM=Ci(function(){var i;let s=i=class t extends KD{constructor(t){let s,e=null;if(t instanceof PD||t instanceof i)s=t;else if(t!=null&&!(t instanceof KD)&&t["data"]!=null){s=t["data"];e=t}if(!s)throw new Error("Series is not supported");super(e);this._ft_=[];this.$ft_=null;this.pw_=[];this.tCt_=[];this.iCt_=!0;this.sCt_=null;this.eCt_=null;this.ACt_=!1;this.nCt_=null;this.Us_=s;this.hCt_=this.Us_.gn_();this.rCt_=new pM;this.oCt_=(t,i,s)=>{this.Df_()||this.dispose()};this.lCt_=this.uCt_.bind(this);this.aCt_=this.gCt_.bind(this);this.cCt_=this.ICt_.bind(this);this.fCt_=this.CCt_.bind(this);this.dCt_=this.BCt_.bind(this);this.Us_.on(YD.Fct_,this.oCt_);this.Us_.on(YD.Mct_,this.lCt_);this.Us_.on(YD.bct_,this.aCt_);this.Us_.on(YD.Sct_,this.cCt_);this.Us_.on(YD.Rct_,this.fCt_);this.Us_.on(YD.kct_,this.dCt_);if(this.Us_ instanceof i){this.wCt_=this.QCt_.bind(this);this.Us_.on(yM.wC_,this.wCt_)}e&&e["unit"]&&this.KD_(e["unit"]);e&&e["preprocessor"]&&this.ECt_(e["preprocessor"]);e&&e["postprocessor"]&&this.pCt_(e["postprocessor"]);if(e&&Array.isArray(e["filters"]))for(let t=0;t<e["filters"].length;++t)this.addFilter(e["filters"][t])}dispose(){if(!this.Df_()){this.Us_.off(YD.Fct_,this.oCt_);this.Us_.off(YD.Mct_,this.lCt_);this.Us_.off(YD.bct_,this.aCt_);this.Us_.off(YD.Sct_,this.cCt_);this.Us_.off(YD.Rct_,this.fCt_);this.Us_.off(YD.kct_,this.dCt_);this.Us_ instanceof i&&this.Us_.off(yM.wC_,this.wCt_);this.pw_=[];this._ft_=[];this.eCt_=null;this.sCt_=null;super.dispose()}}clone(){return new i({data:this.Us_,unit:this.nCt_,filters:this.pw_.slice(),preprocessor:this.eCt_,postprocessor:this.sCt_})}mCt_(){return this.Us_}getValue(t){this.yCt_();return this.DCt_(t)}DCt_(t){if(this.$ft_!=null)return this.$ft_[t];let i=this.Lct_(this.Us_.getValue(t),this.hCt_,this.gn_());const s=this.process(i);typeof i!=typeof s?ki(mM):i=s;return i}getLength(){this.yCt_();return this.$ft_!=null?this.$ft_.length:this.Us_.getLength()}XC_(){return this.Us_.XC_()}dn_(){return this.Us_.dn_()}HC_(t){return this}getType(){return this.Us_.getType()}Id_(t){return this.Us_.Id_(t)}N_(){return this.Us_.N_()}dt_(t){if((t=Es(t))==null)return this;t["data"]!==void 0&&ki('DataSeriesView.prototype.setProperties with property "data" does not support in current version');t["unit"]&&this.KD_(t["unit"]);t["preprocessor"]&&this.ECt_(t["preprocessor"]);t["postprocessor"]&&this.pCt_(t["postprocessor"]);if(Array.isArray(t["filters"]))for(let i=0;i<t["filters"].length;++i)this.addFilter(t["filters"][i]);return this}KD_(t){t=OA.Ai_().gn_(t);if(this.nCt_==null&&t!=null||this.nCt_!=null&&!this.nCt_.pn_(t)){this.nCt_=t;this.ACt_=this.ACt_||this.pw_.length>0;this.Ect_({name:"unit",value:this.nCt_});this.notify(YD.kct_,this,this.nCt_);this.update()}return this}gn_(){return this.nCt_!=null&&this.nCt_.Qn_(this.hCt_)?this.nCt_:this.hCt_}MCt_(){return this.nCt_}ECt_(t){if(t!==this.eCt_){this.eCt_=t;this.ACt_=!0;this.notify(yM.wC_,this);this.update()}return this}vCt_(){return this.eCt_}pCt_(t){if(t!==this.sCt_){this.sCt_=t;this.ACt_=!0;this.notify(yM.wC_,this);this.update()}return this}bCt_(){return this.sCt_}process(t){this.eCt_!=null&&(t=this.eCt_(t));this.sCt_!=null&&(t=this.sCt_(t));return t}yCt_(){if(this.ACt_){this.ACt_=!1;this.rCt_.clear();this.NCt_(null,null,!0);this.update()}}SCt_(){return this.rCt_}NCt_(t,i,s){if(this.pw_.length>0){t=typeof t=="number"?t:0;i=typeof i=="number"?i:this.Us_.getLength()-1;let e=this.Us_.toArray(!1,this.gn_());if(this.eCt_!=null){const t=this.eCt_(e);Array.isArray(t)?e=t:ki(mM)}let A=!1,n=t;const h=this.rCt_.zft_();for(let s=t;s<=i;++s)if(this.filter(s,e[s])){if(!A){n=s;A=!0}}else if(A){this.rCt_.add(n,s-1);A=!1}A&&this.rCt_.add(n,i);if(this.sCt_!=null){const t=this.sCt_(e);Array.isArray(t)?e=t:ki(mM)}this.GCt_(this.rCt_,e);if(s!==!0){const i=this.rCt_.zft_();i>h&&this.Oct_(this.rCt_.Xft_(t),i-h)}}else this.GCt_(null)}filter(t,i){for(let s=0;s<this._ft_.length;++s){const e=this._ft_[s];if(this.tCt_[s]===!0){if(i!==e)return!1}else if(MM(e)&&!e(t,i))return!1}return!0}GCt_(t,i){if(t==null)this.$ft_=null;else{if(i==null){i=this.Us_.toArray(!1,this.gn_());const t=this.process(i);Array.isArray(t)?i=t:ki(mM)}const s=t.getLength();let e;if(i.length===0||s===0)this.$ft_=[];else if(s===1){e=t.Wft_(0);this.$ft_=i.slice(e[0],e[1]+1)}else{let A=0,n;for(n=0;n<s;++n){e=t.Wft_(n);A+=e[1]-e[0]+1}this.$ft_=new Array(A);A=0;for(n=0;n<s;++n){e=t.Wft_(n);for(let t=e[0];t<=e[1];++t)this.$ft_[A++]=i[t]}}}return this}RCt_(t){this.yCt_();return this.$ft_==null||this.rCt_.contains(t)}toArray(t,i){this.yCt_();let s;if(this.$ft_!=null){s=this.Lct_(this.$ft_,this.gn_(),i);return t===!0&&s===this.$ft_?s.slice():s}s=this.Us_.toArray(t,this.gn_());const e=this.process(s);Array.isArray(e)?s=e:ki(mM);i!==void 0&&(s=this.Lct_(s,this.gn_(),i));return s}Lct_(t,i,s){return t}getFilters(){return this.pw_}addFilter(t,s){this.pw_.push(t);t instanceof i&&(t=function(t){return this.RCt_(t)}.bind(t));let e;e=typeof t!="function"||(s!=null?s:DM.Zft_);this.tCt_.push(e);this._ft_.push(t);this.kCt_();return this}removeFilter(t){const i=this.pw_.indexOf(t);if(i>=0){this.pw_.splice(i,1);this.tCt_.splice(i,1);this._ft_.splice(i,1);this.kCt_()}return this}FCt_(t,s,e){const A=this.pw_.indexOf(t);if(A>=0&&t!==s){this.pw_[A]=s;s instanceof i&&(s=function(t){return this.RCt_(t)}.bind(s));let t;t=typeof s!="function"||(e!=null?e:DM.Zft_);this.tCt_[A]=t;this._ft_[A]=s;this.kCt_()}return this}xCt_(){if(this.pw_.length>0){this.pw_=[];this.tCt_=[];this._ft_=[];this.kCt_()}return this}kCt_(){this.ACt_=!0;this.iCt_=!0;for(let t=0;t<this.tCt_.length;++t)if(this.tCt_[t]===DM.Zft_){this.iCt_=!1;break}this.notify(yM.wC_,this);this.update();this.notify(yM.jft_,this)}LCt_(){return this.iCt_}ae_(){return!0}uCt_(t,i,s){if(!this.ACt_)if(this.pw_.length>0)if(this.iCt_){const t={cancelled:!1};this.notify(YD.Dct_,this,t);this.rCt_.shift(s["from"],s["count"]);this.NCt_(s["from"],s["from"]+s["count"]-1,t["cancelled"])}else this.QCt_();else this.Oct_(s["from"],s["count"])}gCt_(t,i,s){this.ACt_=this.ACt_||this.pw_.length>0;this.ACt_?this.notify(yM.wC_,this):this.jct_(s["from"],s["count"]);this.update()}ICt_(t,i,s){if(!this.ACt_)if(this.pw_.length>0)if(this.iCt_){const t={cancelled:!1};this.notify(YD.Nct_,this,t);const i=this.rCt_.zft_();this.rCt_.remove(s["from"],s["from"]+s["count"]-1);this.rCt_.shift(s["from"]+1,-s["count"]);const e=this.rCt_.zft_();if(e<i){this.GCt_(this.rCt_);t["cancelled"]||this.$ct_(this.rCt_.Xft_(s["from"]),i-e)}}else this.QCt_();else this.$ct_(s["from"],s["count"])}CCt_(t,i,s){this.ACt_=this.ACt_||this.pw_.length>0;if(this.ACt_){this.notify(yM.wC_,this);this.update()}else this.Zct_()}BCt_(t,i,s){this.hCt_=this.Us_.gn_();this.notify(YD.kct_,i,s);this.ACt_=this.ACt_||this.pw_.length>0;this.ACt_&&this.notify(yM.wC_,this);this.update()}QCt_(t,i,s){this.ACt_=this.ACt_||this.pw_.length>0;this.notify(yM.wC_,this);this.update()}Oct_(t,i){this.Ect_({name:"state",value:{range:{changes:HD.Uct_,from:t,amount:i}}});this.notify(YD.Mct_,this,{from:t,count:i});this.update()}jct_(t,i){this.Ect_({name:"state",value:{range:{changes:UD.pct_,from:t,amount:i}}});this.notify(YD.bct_,this,{from:t,count:i});this.update()}$ct_(t,i){this.Ect_({name:"state",value:{range:{changes:HD.Yct_,from:t,amount:i}}});this.notify(YD.Sct_,this,{from:t,count:i});this.update()}Zct_(){this.Ect_({name:"state",value:{range:{changes:UD.pct_,from:0,amount:this.getLength()}}});this.notify(YD.Rct_,this,{});this.update()}};s=i=t([_s("geotoolkit.data.DataSeriesView")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJZCI6IlhDXyIsImdldE5hbWUiOiJkbl8iLCJzZXROYW1lIjoiSENfIiwiZ2V0UHJvcGVydHkiOiJJZF8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwic2V0VW5pdCI6IktEXyIsImdldFVuaXQiOiJnbl8iLCJnZXRWaWV3VW5pdCI6Ik1DdF8iLCJzZXRQcmVQcm9jZXNzb3IiOiJFQ3RfIiwiZ2V0UHJlUHJvY2Vzc29yIjoidkN0XyIsInNldFBvc3RQcm9jZXNzb3IiOiJwQ3RfIiwiZ2V0UG9zdFByb2Nlc3NvciI6ImJDdF8iLCJzeW5jaHJvbml6ZSI6InlDdF8iLCJjb252ZXJ0VmFsdWVzIjoiTGN0XyIsInJlcGxhY2VGaWx0ZXIiOiJGQ3RfIiwiY2xlYXJGaWx0ZXJzIjoieEN0XyIsImlzUmVhZE9ubHkiOiJhZV8ifX19");var bM=Ci(function(){var i;let s=i=class t extends vM{constructor(t){let i;t instanceof PD||t instanceof vM?i=t:(t!=null&&t["data"]instanceof PD||t["data"]instanceof vM)&&(i=t["data"]);if(!i)throw new Error("Series is not supported");super(t);this.iIt_=Number.POSITIVE_INFINITY;this.sIt_=Number.NEGATIVE_INFINITY;this.eIt_=!0;this.AIt_=!0;this.nIt_=!1;this.UCt_=null}clone(){return new i({data:this.mCt_(),unit:this.MCt_(),filters:this.getFilters().slice(),preprocessor:this.vCt_(),postprocessor:this.bCt_()})}KD_(t){this.oIt_();return super.KD_(t)}rIt_(){this.nIt_!==!0&&this.Wj_();return this}oIt_(){this.nIt_=!1;return this}Wj_(){this.iIt_=Number.POSITIVE_INFINITY;this.sIt_=Number.NEGATIVE_INFINITY;this.eIt_=!0;this.AIt_=!0;const t=this.toArray();let i,s=null;for(let e=0,A=t.length;e<A;++e){i=t[e];if(isNaN(i)){this.eIt_=!1;this.AIt_=!1}else{i<this.iIt_&&(this.iIt_=i);i>this.sIt_&&(this.sIt_=i);this.eIt_&&s!=null&&i<s&&(this.eIt_=!1);this.AIt_&&s!=null&&i>s&&(this.AIt_=!1);s=i}}this.nIt_=!0;return this}ECt_(t){this.oIt_();super.ECt_(t);return this}pCt_(t){this.oIt_();super.pCt_(t);return this}kCt_(){this.oIt_();super.kCt_()}nA_(t){this.yCt_();this.rIt_();return this.Lct_(this.iIt_,this.gn_(),t)}hA_(t){this.yCt_();this.rIt_();return this.Lct_(this.sIt_,this.gn_(),t)}YCt_(t){this.UCt_=t;return this}xct_(){if(this.UCt_!=null)return this.UCt_;this.rIt_();return this.eIt_?oA.Ds_:this.AIt_?oA.Ms_:oA.W_}Lct_(t,i,s){const e=typeof i=="string"?OA.Ai_().gn_(i):i;return e==null||e.pn_(s)||!e.Qn_(s)?t:e.wn_(t,s)}GCt_(t,i){super.GCt_(t,i);this.oIt_();return this}Oct_(t,i){this.oIt_();super.Oct_(t,i)}jct_(t,i){this.oIt_();super.jct_(t,i)}$ct_(t,i){this.oIt_();super.$ct_(t,i)}Zct_(){this.oIt_();super.Zct_()}BCt_(t,i,s){this.oIt_();super.BCt_(t,i,s)}QCt_(t,i,s){this.oIt_();super.QCt_(t,i,s)}};s=i=t([Zs(VD),_s("geotoolkit.data.NumericalDataSeriesView")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRVbml0IjoiS0RfIiwic2V0UHJlUHJvY2Vzc29yIjoiRUN0XyIsInNldFBvc3RQcm9jZXNzb3IiOiJwQ3RfIiwiZ2V0TWluIjoibkFfIiwiZ2V0TWF4IjoiaEFfIiwiZ2V0RGF0YU9yZGVyIjoieGN0XyIsImNvbnZlcnRWYWx1ZXMiOiJMY3RfIn19fSAg");var NM=Ci({TCt_:"StateChanged"},2,"eyJTdGF0ZUNoYW5nZWQiOiJUQ3RfIn0g"),SM=Ci(function(){let i=class t extends $n{constructor(){super();this.KCt_=null;this.$v_=null;this.HCt_=null;this.root=new LD;this.root.on(xD.eC_,this.qCt_());this.root.on(xD.AC_,this.qCt_())}JCt_(){if(this.$v_==null){this.$v_=new qm;this.PCt_=new Map}return this}VCt_(t,i,s){if(this.$v_==null)this.notify(NM.TCt_,this,{event:t,child:i,data:s});else{let e=[];if(this.$v_.$ot_(i)){e=this.$v_.get(i);e.push({event:t,child:i,data:s})}else{e.push({event:t,child:i,data:s});this.$v_.put(i,e)}let A=[];if(this.PCt_.has(i)){A=this.PCt_.get(i);A.push({event:t,child:i,data:s})}else{A.push({event:t,child:i,data:s});this.PCt_.set(i,A)}}}OCt_(t,i,s){if(this.$v_==null)this.notify(NM.TCt_,this,{event:t,root:i,data:s});else{let e=[];if(this.$v_.$ot_(i)){e=this.$v_.get(i);e.push({event:t,root:i,data:s})}else{e.push({event:t,root:i,data:s});this.$v_.put(i,e)}let A=[];if(this.PCt_.has(i)){A=this.PCt_.get(i);A.push({event:t,root:i,data:s})}else{A.push({event:t,root:i,data:s});this.PCt_.set(i,A)}}}WCt_(){if(this.$v_!=null){const t={mapdata:this.PCt_},i=this.$v_;Gs(i,"data","mapdata","DataSource.endUpdate");this.notify(NM.TCt_,this,t)}this.$v_=null;this.PCt_=null;return this}GY_(t){Array.isArray(t)||(t=[t]);t.forEach((t=>{this.root.GY_(t);t.on(xD.gf_,this.zCt_());t.on(UD.pct_,this.zCt_())}));return this}removeChild(t){this.root.removeChild(t);t.off(xD.gf_,this.zCt_());t.off(UD.pct_,this.zCt_());return this}zCt_(){this.KCt_===null&&(this.KCt_=this.VCt_.bind(this));return this.KCt_}qCt_(){this.HCt_===null&&(this.HCt_=this.OCt_.bind(this));return this.HCt_}KY_(){let t;for(let i=0,s=this.qY_();i<s;++i){t=this.HY_(i);t.off(xD.gf_,this.zCt_());t.off(UD.pct_,this.zCt_())}this.root.KY_();return this}HY_(t){return this.root.HY_(t)}qY_(){return this.root.qY_()}query(){return this.root.query()}update(){return this.notify(UD.pct_,this)}dispose(){if(!this.Df_()){this.KY_();this.root.off(xD.eC_,this.qCt_());this.root.off(xD.AC_,this.qCt_());this.root.dispose();super.dispose()}}};i=t([_s("geotoolkit.data.DataSource")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJiZWdpblVwZGF0ZSI6IkpDdF8iLCJlbmRVcGRhdGUiOiJXQ3RfIiwiYWRkQ2hpbGQiOiJHWV8iLCJjbGVhckNoaWxkcmVuIjoiS1lfIiwiZ2V0Q2hpbGQiOiJIWV8iLCJnZXRDaGlsZHJlbkNvdW50IjoicVlfIn19fSAg");const bb=function(t,i){switch(t){case"-":return-i;case"+":return i;case"!":return!i;case"~":return~i}return 0},Nb=function(t,i,s){switch(t){case"+":return i+s;case"-":return i-s;case"*":return i*s;case"/":return i/s;case"%":return i%s;case"&":return i&s;case"|":return i|s;case"^":return i^s;case"<<":return i<<s;case">>":return i>>s;case">>>":return i>>>s;case"&&":return i&&s;case"||":return i||s}return 0},Sb=function(t,i){const s=Math[t];if(s)return s.apply(null,i);ki("unknown function trying to apply in CalculatedDataSeries: "+t);return NaN};var Gb=function(){var t=class{static Pct_(i,s,e){if(!i)return null;let A,n;switch(i.type){case Im.Rnt_.xst_:let h=null;for(A=0;A<i.body.length;A++)h=t.Pct_(i.body[A],s,e);return h;case Im.Rnt_.kB_:return e.Omt_?i.name:s.getValue(i.name);case Im.Rnt_.Mst_:return i.value;case Im.Rnt_.Ist_:return t.Pct_(i.dht_,s,e);case Im.Rnt_._it_:case Im.Rnt_.bst_:const r=t.Pct_(i.left,s,e),o=t.Pct_(i.right,s,e);return Nb(i.operator,r,o);case Im.Rnt_.jst_:n=t.Pct_(i.oht_,s,e);return bb(i.operator,n);case Im.Rnt_.tst_:const l=i.arguments.map((function(i){return t.Pct_(i,s,e)})),u=t.Pct_(i.Tht_,s,{Omt_:!0});return typeof s[u]=="function"?s[u](l):Sb(u.toLowerCase(),l);default:return null}}};return t}();var Rb=Ci(function(){let i=class t extends PD{constructor(t){delete t["data"];super(t);this.Wmt_=null;this.jB_=null;this.Kct_(t["formula"]);this.zmt_=[];this.Xmt_=!1;this.jmt_=this.Zmt_.bind(this);this._mt_=null;this.$mt_(t["sources"])}dispose(){this.unsubscribe(this._mt_);this.zmt_=null;super.dispose()}b_(t,i){this._mt_=i===!0&&Array.isArray(t._mt_)?t._mt_.slice():[];this.Wmt_=t.Wmt_;return this}Kct_(t){if(t===this.Wmt_)return this;this.Wmt_=t;if(typeof this.Wmt_=="string"){const t=new Im(this.Wmt_);this.jB_=t.aot_()}return this}Oi_(t){return this}Wct_(t){return this}zct_(t,i){return this}Xct_(t,i){return this}setValue(t,i){return this}setValues(t,i){return this}_ct_(t,i){return this}tIt_(){return this}getValue(t){if(this.zmt_[t]===void 0)if(typeof this.Wmt_=="function"){const i=i=>this.tyt_(i).getValue(t);this.zmt_[t]=this.Wmt_(i)}else{const i={getValue:i=>{const s=this._mt_.find((t=>t.dn_()===i));return s?s.getValue(t):null}};this.zmt_[t]=Gb.Pct_(this.jB_,i,{})}return this.zmt_[t]}getLength(){return this._mt_==null||this._mt_.length===0?0:this._mt_[0].getLength()}getType(){const t="object",i=super.getType();if(i!==t)return i;if(this._mt_==null||this._mt_.length===0)return t;let s=this._mt_[0].getType();for(let i=1;i<this._mt_.length;i++)if(this._mt_[i].getType()!==s){s=t;break}return s}toArray(t,i){if(this.Xmt_)return t?this.zmt_.slice():this.zmt_;const s=[];for(let t=0;t<this.getLength();t++)s.push(this.getValue(t));this.Xmt_=!0;return s}ae_(){return!0}$mt_(t){this.unsubscribe(this._mt_);this._mt_=t;this.subscribe(this._mt_);return this}subscribe(t){if(t==null)return this;t.forEach((t=>{t.on(YD.Fct_,this.jmt_);t.on(YD.Mct_,this.jmt_);t.on(YD.bct_,this.jmt_);t.on(YD.Sct_,this.jmt_);t.on(YD.Rct_,this.jmt_)}));return this}unsubscribe(t){if(t==null)return this;t.forEach((t=>{t.off(YD.Fct_,this.jmt_);t.off(YD.Mct_,this.jmt_);t.off(YD.bct_,this.jmt_);t.off(YD.Sct_,this.jmt_);t.off(YD.Rct_,this.jmt_)}));return this}tyt_(t){for(let i=0;i<this._mt_.length;++i)if(this._mt_[i]&&this._mt_[i].dn_()===t)return this._mt_[i];return null}Zmt_(){this.zmt_.length=0;this.Xmt_=!1;return this}};i=t([_s("geotoolkit.data.CalculatedDataSeries")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJiXyIsInNldEZvcm11bGEiOiJLY3RfIiwiYWRkVmFsdWUiOiJPaV8iLCJhZGRWYWx1ZXMiOiJXY3RfIiwiaW5zZXJ0VmFsdWUiOiJ6Y3RfIiwiaW5zZXJ0VmFsdWVzIjoiWGN0XyIsInJlbW92ZVZhbHVlcyI6Il9jdF8iLCJjbGVhclZhbHVlcyI6InRJdF8iLCJpc1JlYWRPbmx5IjoiYWVfIiwic2V0U291cmNlcyI6IiRtdF8ifX19");var kb=Ci(function(){let i=class t{};i.prototype.getValue=Zi;i.prototype.iyt_=Zi;i.prototype.syt_=Zi;i=t([_s("geotoolkit.data.IDataTable")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROdW1iZXJPZlJvd3MiOiJpeXRfIiwiZ2V0TnVtYmVyT2ZDb2x1bW5zIjoic3l0XyJ9fSwiZ2V0Q2xhc3NOYW1lIjoiRF8ifSAg");var Fb=Ci(function(){let i=class t extends $n{constructor(){super(...arguments);this.ov_=""}eyt_(t){return t>=0&&t<this.syt_()?this.Ayt_(t).N_():null}dn_(){return this.ov_}HC_(t){this.ov_=t;return this}};i.prototype.syt_=Zi;i.prototype.iyt_=Zi;i.prototype.Ayt_=Zi;i.prototype.nyt_=Zi;i.prototype.hyt_=Zi;i.prototype.tyt_=Zi;i.prototype.getValue=Zi;i.prototype.ryt_=Zi;i=t([Zs(kb),_s("geotoolkit.data.AbstractDataTable")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROdW1iZXJPZkNvbHVtbnMiOiJzeXRfIiwiZ2V0TnVtYmVyT2ZSb3dzIjoiaXl0XyIsImdldENvbHVtbiI6IkF5dF8iLCJpbmRleE9mQ29sdW1uIjoibnl0XyIsImdldENvbHVtbkJ5SWQiOiJoeXRfIiwiZ2V0Q29sdW1uQnlOYW1lIjoidHl0XyIsImdldE1ldGFEYXRhIjoicnl0XyIsImdldENvbHVtblByb3BlcnRpZXMiOiJleXRfIiwiZ2V0TmFtZSI6ImRuXyIsInNldE5hbWUiOiJIQ18ifX19");var xb=function(){var t;return class{static oyt_(t){return new hr(t,{map:{uri:function(t){return t.Bct_()},name:function(t){return t.dn_()},id:function(t){return t.XC_()},type:function(t){return t.getType()}},enumerateitems:function(t,i){if(Array.isArray(t))for(let s=0;s<t.length;++s)i(t[s])}})}}}();var Lb=Ci({lyt_:"ColumnsAdding",uyt_:"ColumnsAdded",ayt_:"ColumnsRemoving",gyt_:"ColumnsRemoved",cyt_:"ColumnsSet",Iyt_:"RowsAdding",fyt_:"RowsAdded",Cyt_:"RowsRemoving",dyt_:"RowsRemoved",Rct_:"ValuesSet",Fct_:"Disposing"},2,"eyJDb2x1bW5zQWRkaW5nIjoibHl0XyIsIkNvbHVtbnNBZGRlZCI6InV5dF8iLCJDb2x1bW5zUmVtb3ZpbmciOiJheXRfIiwiQ29sdW1uc1JlbW92ZWQiOiJneXRfIiwiQ29sdW1uc1NldCI6ImN5dF8iLCJSb3dzQWRkaW5nIjoiSXl0XyIsIlJvd3NBZGRlZCI6ImZ5dF8iLCJSb3dzUmVtb3ZpbmciOiJDeXRfIiwiUm93c1JlbW92ZWQiOiJkeXRfIiwiVmFsdWVzU2V0IjoiUmN0XyIsIkRpc3Bvc2luZyI6IkZjdF8ifSAg");let Ub=[],Yb=[];function Tb(t){return t!=null&&typeof t=="object"&&"Byt_"in t&&t["formula"]!=null}function Kb(t){return t!=null&&typeof t=="object"&&"type"in t&&t["type"]==="number"}const Hb=t=>t instanceof PD?t:Tb(t)?new Rb(t):Kb(t)?new zD(t):new PD(t);var qb=Ci(function(){var i;let s=i=class t extends Fb{constructor(t){super();this.wyt_=Hb;this.Qyt_=[];this.Eyt_={};if(t!=null){t["meta"]!==void 0&&(this.Eyt_=t["meta"]);t["name"]!=null&&this.HC_(t["name"]);if(typeof t["columnFactory"]=="function"){ki('DataTable.Options#columnFactory is deprecated since 4.0. Use "columnfactory" instead');this.wyt_=t["columnFactory"]}typeof t["columnfactory"]=="function"&&(this.wyt_=t["columnfactory"]);if(Array.isArray(t["cols"])){const i=t["cols"];for(let t=0;t<i.length;++t)this.Qyt_.push(this.pyt_(i[t]))}t["rowsdata"]!=null?this.myt_(t["rowsdata"]):t["colsdata"]!=null&&this.yyt_(t["colsdata"])}}dispose(){if(!this.Df_()){this.notify(Lb.Fct_,this);this.Qyt_=[];this.Eyt_={};this.wyt_=null;super.dispose()}}clone(t){const s=[];let e;for(let i=0;i<this.Qyt_.length;++i){e=this.Qyt_[i];s.push(e.clone(t))}return new i({cols:s,meta:Pi(this.Eyt_,{}),columnfactory:this.wyt_})}pyt_(t){if(t instanceof PD)return t;let i=this.wyt_(t);i instanceof PD||(i=new PD(t));return i}Dyt_(t){this.notify(Lb.lyt_,this);this.Qyt_.push(this.pyt_(t));this.Myt_(this.Qyt_.length-1,1);return this}Ayt_(t){return this.Qyt_[t]}vyt_(t=!0){return t!==!1?this.Qyt_.slice():this.Qyt_}byt_(t,i){i=typeof i=="number"?i:1;if(t>=0&&t<this.syt_()&&i>0){this.notify(Lb.ayt_,this,{from:t,count:i});const s=this.Qyt_.splice(t,i);this.Nyt_(t,i,s)}return this}Syt_(t,i){if(t>=0&&t<this.syt_()){this.notify(Lb.lyt_,this);this.Qyt_.splice(t,0,this.pyt_(i));this.Myt_(t,1)}return this}nyt_(t){return this.Qyt_.indexOf(t)}yyt_(t){const i=t?Math.min(t.length,this.Qyt_.length):0;for(let s=0;s<this.Qyt_.length;++s)this.Qyt_[s].setValues(s<i?t[s]:[]);this.notify(Lb.Rct_,this);this.update();return this}Gyt_(t,i){this.notify(Lb.Iyt_,this,{from:this.iyt_(),count:1});this.Ryt_(t,i);this.kyt_(this.iyt_()-1,1);return this}myt_(t,i){const s=Array.isArray(t),e=typeof t=="number"?t:s?t.length:0;if(e>0){this.notify(Lb.Iyt_,this,{from:this.iyt_(),count:e});for(let A=0;A<e;++A)this.Ryt_(s?t[A]:void 0,i);this.kyt_(this.iyt_()-e,e)}return this}Ryt_(t,i){let s;const e=Array.isArray(t)?Math.min(t.length,this.Qyt_.length):0;for(s=0;s<e;++s)i===!0&&t[s]===void 0||this.Qyt_[s].Oi_(t[s]);if(i!==!0)for(;s<this.Qyt_.length;++s)this.Qyt_[s].Oi_(void 0)}insertRow(t,i){if(t>=0&&t<this.iyt_()){this.notify(Lb.Iyt_,this,{from:t,count:1});const s=i?Math.min(i.length,this.Qyt_.length):0;for(let e=0;e<s;++e)this.Qyt_[e].zct_(t,i[e]);for(let i=s;i<this.Qyt_.length;++i)this.Qyt_[i].zct_(t,void 0);this.kyt_(t,1)}return this}Fyt_(t,i){if(t>=0&&t<this.iyt_()){Array.isArray(i)||(i=[]);for(let s=0;s<this.Qyt_.length;++s)i[s]=this.Qyt_[s].getValue(t)}return i}getValue(t,i){if(t>=0&&t<this.iyt_()&&i>=0&&i<this.syt_())return this.Qyt_[i].getValue(t)}setValue(t,i,s){if(t>=0&&t<this.iyt_()&&i>=0&&i<this.syt_()&&this.getValue(t,i)!==s){this.Qyt_[i].setValue(t,s);this.notify(Lb.Rct_,this,[i]);this.update()}return this}xyt_(t,i){if(t>=0&&t<this.syt_()){this.Qyt_[t].setValues(i);this.notify(Lb.Rct_,this,[t]);this.update()}return this}syt_(){return this.Qyt_.length}iyt_(){for(let t=0;t<this.Qyt_.length;++t)if(this.Qyt_[t].getLength()>0)return this.Qyt_[t].getLength();return 0}Lyt_(t,i){i=typeof i=="number"?i:1;if(t>=0&&t<this.iyt_()&&i>0){this.notify(Lb.Cyt_,this,{from:t,count:i});for(let s=0;s<this.Qyt_.length;++s)this.Qyt_[s]._ct_(t,i);this.Uyt_(t,i)}return this}clear(){this.Lyt_(0,this.iyt_());return this}update(t){this.notify(UD.pct_,this,t);return this}hyt_(t){for(let i=0;i<this.Qyt_.length;++i)if(this.Qyt_[i]&&this.Qyt_[i].XC_()===t)return this.Qyt_[i];return null}tyt_(t){for(let i=0;i<this.Qyt_.length;++i)if(this.Qyt_[i]&&this.Qyt_[i].dn_()===t)return this.Qyt_[i];return null}Yyt_(t,i){t>=0&&t<this.syt_()&&this.Qyt_[t].wct_(i);return this}ryt_(){return this.Eyt_}Tyt_(t){this.Eyt_=t;this.update();return this}sort(t,i){let s;s=typeof i!="function"?(t,i)=>t-i:i;typeof t!="number"&&(t=0);if(t<0||t>=this.syt_())return this;const e=this.iyt_(),A=this.Ayt_(t).toArray(!1);NA.sA_(A,0,e-1,s,this.Kyt_.bind(this));this.notify(Lb.Rct_,this);this.update();return this}Kyt_(t,i,s){if(typeof i!="number"||i<0||i>=this.iyt_()||typeof s!="number"||s<0||s>=this.iyt_())return this;Ub=this.Fyt_(i,Ub);Yb=this.Fyt_(s,Yb);this.Hyt_(i,Yb);this.Hyt_(s,Ub);return this}Hyt_(t,i){if(typeof t!="number"||t<0||t>=this.iyt_()||i.length!==this.syt_())return this;for(let s=0;s<this.Qyt_.length;s++)this.getValue(t,s)!==i[s]&&this.Qyt_[s].setValue(t,i[s]);return this}query(){return xb.oyt_(this.Qyt_)}Myt_(t,i){this.notify(Lb.uyt_,this,{from:t,count:i});this.update()}Nyt_(t,i,s){this.notify(Lb.gyt_,this,{from:t,count:i,values:s});this.update()}kyt_(t,i){this.notify(Lb.fyt_,this,{from:t,count:i});this.update()}Uyt_(t,i){this.notify(Lb.dyt_,this,{from:t,count:i});this.update()}};s=i=t([_s("geotoolkit.data.DataTable")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRDb2x1bW4iOiJEeXRfIiwiZ2V0Q29sdW1uIjoiQXl0XyIsInJlbW92ZUNvbHVtbnMiOiJieXRfIiwiaW5zZXJ0Q29sdW1uIjoiU3l0XyIsImluZGV4T2ZDb2x1bW4iOiJueXRfIiwiZmlsbFRhYmxlIjoieXl0XyIsImFkZFJvdyI6Ikd5dF8iLCJhZGRSb3dzIjoibXl0XyIsImdldFJvdyI6IkZ5dF8iLCJzZXRDb2x1bW5WYWx1ZXMiOiJ4eXRfIiwiZ2V0TnVtYmVyT2ZDb2x1bW5zIjoic3l0XyIsImdldE51bWJlck9mUm93cyI6Iml5dF8iLCJyZW1vdmVSb3dzIjoiTHl0XyIsImdldENvbHVtbkJ5SWQiOiJoeXRfIiwiZ2V0Q29sdW1uQnlOYW1lIjoidHl0XyIsInNldENvbHVtblByb3BlcnRpZXMiOiJZeXRfIiwiZ2V0TWV0YURhdGEiOiJyeXRfIiwic2V0TWV0YURhdGEiOiJUeXRfIn19fSAg");var Jb=Ci({wC_:"Rebuild"},2,"eyJSZWJ1aWxkIjoid0NfIn0g"),Pb=Ci(function(){var i;let s=i=class t extends Fb{constructor(t){super();this.qyt_=null;this.Jyt_=[];this.Pyt_=null;this.Vyt_=null;this.iCt_=!0;this.Oyt_=null;this.oCt_=(t,i,s)=>{this.Df_()||this.dispose()};this.Wyt_=(t,i,s)=>{this.zyt_();this.Xyt_(!0);this.notify(Jb.wC_,this);this.update()};this.jyt_=this.Zyt_.bind(this);this._yt_=this.kyt_.bind(this);this.$yt_=this.tDt_.bind(this);this.iDt_=this.Uyt_.bind(this);this.fCt_=this.Zct_.bind(this);this.wCt_=this.sDt_.bind(this);this.eDt_=(t,i,s)=>{this.Vyt_=null;this.iCt_=!0;for(let t=0;t<this.Jyt_.length&&this.iCt_;++t)this.iCt_=this.iCt_&&this.Jyt_[t].LCt_();this.Xyt_(!0,i);this.notify(Jb.wC_,this);this.update()};this.ADt_=(t,i,s)=>{s["cancelled"]=!0;this.Vyt_=null};this.nDt_=(t,i,s)=>{s["cancelled"]=!0;this.Vyt_=null};this.hDt_=(t,i,s)=>{s["cancelled"]=!0;this.Vyt_=null};this.rDt_(t)}oDt_(t){if(this.Pyt_!=null){this.Pyt_.off(Lb.Fct_,this.oCt_);this.Pyt_.off(Lb.uyt_,this.Wyt_);this.Pyt_.off(Lb.gyt_,this.Wyt_);this.Pyt_.off(Lb.cyt_,this.Wyt_);this.Pyt_.off(Lb.Iyt_,this.jyt_);this.Pyt_.off(Lb.fyt_,this._yt_);this.Pyt_.off(Lb.Cyt_,this.$yt_);this.Pyt_.off(Lb.dyt_,this.iDt_);this.Pyt_.off(Lb.Rct_,this.fCt_);this.Pyt_ instanceof i&&this.Pyt_.off(Jb.wC_,this.wCt_);t&&this.zyt_()}}dispose(){if(!this.Df_()){this.notify(Lb.Fct_,this);this.oDt_();this.Pyt_=null;for(let t=0;t<this.Jyt_.length;++t){this.Jyt_[t].off(yM.jft_,this.eDt_);this.Jyt_[t].off(YD.Dct_,this.ADt_);this.Jyt_[t].off(YD.Nct_,this.nDt_);this.Jyt_[t].off(YD.Rct_,this.hDt_);this.Jyt_[t].dispose()}this.Jyt_=[];super.dispose()}}syt_(){return this.qyt_!=null?this.qyt_.length:this.Jyt_.length}iyt_(){if(this.Vyt_!=null)return this.Vyt_;this.Vyt_=0;for(let t=0;t<this.Jyt_.length;t++)this.Jyt_[t]!=null&&(this.Vyt_=Math.max(this.Vyt_,this.Jyt_[t].getLength()));return this.Vyt_}lDt_(){return this.qyt_}uDt_(){return this.Pyt_}rDt_(t){if(this.Pyt_===t)return this;this.oDt_(!0);this.Pyt_=t;if(this.Pyt_!=null){this.Pyt_.on(Lb.Fct_,this.oCt_);this.Pyt_.on(Lb.uyt_,this.Wyt_);this.Pyt_.on(Lb.gyt_,this.Wyt_);this.Pyt_.on(Lb.cyt_,this.Wyt_);this.Pyt_.on(Lb.Iyt_,this.jyt_);this.Pyt_.on(Lb.fyt_,this._yt_);this.Pyt_.on(Lb.Cyt_,this.$yt_);this.Pyt_.on(Lb.dyt_,this.iDt_);this.Pyt_.on(Lb.Rct_,this.fCt_);this.Pyt_ instanceof i&&this.Pyt_.on(Jb.wC_,this.wCt_);this.zyt_()}return this}aDt_(t){this.qyt_=t;this.notify(Lb.cyt_,this);return this}Ayt_(t){return this.gDt_(t)}nyt_(t){const i=this.cDt_();return t instanceof vM?i.indexOf(t):-1}getValue(t,i){const s=this.Ayt_(i);return s!=null?s.getValue(t):void 0}update(){this.notify(UD.pct_,this);return this}hyt_(t){return typeof t=="number"?this.query().Gw_("item => id(item) == "+t).xw_():typeof t=="string"?this.query().Gw_('item => id(item) == "'+t+'"').xw_():null}tyt_(t){return this.query().Gw_('item => name(item) == "'+t+'"').xw_()}ryt_(){return this.Pyt_.ryt_()}cDt_(t){const i=[];let s;for(let e=0;e<this.syt_();++e){s=this.gDt_(e);(!t||i.indexOf(s)<0)&&i.push(s)}return i}query(){return xb.oyt_(this.cDt_())}zyt_(){if(this.Pyt_==null)return this;let t,i,s;for(i=0;i<this.Jyt_.length;++i){this.Jyt_[i].off(yM.jft_,this.eDt_);this.Jyt_[i].off(YD.Dct_,this.ADt_);this.Jyt_[i].off(YD.Nct_,this.nDt_);this.Jyt_[i].off(YD.Rct_,this.hDt_)}const e=[],A=this.Pyt_.syt_();for(i=0;i<A;++i){const A=this.Pyt_.Ayt_(i);for(s=0;s<this.Jyt_.length;++s)if(this.Jyt_[s].mCt_()===A){e[i]=this.Jyt_[s];break}if(e[i]==null){t=A instanceof zD||A instanceof bM?new bM(A):new vM(A);e[i]=t}}if(this.qyt_!=null){const t=this.cDt_(),A=[];for(i=0;i<t.length;++i)for(s=0;s<e.length;++s)if(t[i].mCt_()===e[s].mCt_()){A.push(s);break}this.qyt_=A}const n=[];for(i=0;i<this.Jyt_.length;++i)e.indexOf(this.Jyt_[i])<0&&n.push(this.Jyt_[i]);this.Jyt_=e;this.iCt_=!0;for(i=0;i<this.Jyt_.length;++i){this.iCt_=this.iCt_&&this.Jyt_[i].LCt_();this.Jyt_[i].on(yM.jft_,this.eDt_);this.Jyt_[i].on(YD.Dct_,this.ADt_);this.Jyt_[i].on(YD.Nct_,this.nDt_);this.Jyt_[i].on(YD.Rct_,this.hDt_)}this.notify(Lb.cyt_,this);for(i=0;i<n.length;++i)n[i].dispose();this.Vyt_=null;return this}Xyt_(t,i){const s=[];this.Oyt_=null;this.Vyt_=null;const e=this.cDt_(!0);for(let t=0;t<e.length;++t){const i=e[t];i.yCt_();i.getFilters().length>0&&s.push(i.SCt_())}if(s.length>0){this.Oyt_=s[0].clone();for(let t=1;t<s.length;++t)this.Oyt_.intersect(s[t])}for(let s=0;s<this.Jyt_.length;++s){this.Jyt_[s].GCt_(this.Oyt_);if((t||!this.iCt_)&&this.Jyt_[s]!==i){this.Jyt_[s].notify(yM.wC_,this.Jyt_[s]);this.Jyt_[s].update()}}}Zyt_(t,i,s){this.notify(Lb.Iyt_,this)}kyt_(t,i,s){if(s&&s["count"]===0)this.notify(Lb.fyt_,this,s);else{this.Vyt_=null;if(this.iCt_)if(this.Oyt_!=null){const t=this.Oyt_.zft_();this.Xyt_();const i=this.Oyt_.zft_();if(i>t){const e=this.Oyt_.Xft_(s["from"]),A=i-t;for(let t=0;t<this.Jyt_.length;++t){this.Jyt_[t].notify(YD.Mct_,this.Jyt_[t],{from:e,count:A});this.Jyt_[t].update()}this.notify(Lb.fyt_,this,{from:e,count:A});this.update();return}this.notify(Lb.fyt_,this,{from:0,count:0})}else{this.notify(Lb.fyt_,this,s);this.update()}else{this.Xyt_();this.notify(Jb.wC_,this);this.update()}}}tDt_(t,i,s){this.notify(Lb.Cyt_,this)}Uyt_(t,i,s){if(s&&s["count"]===0)this.notify(Lb.dyt_,this,s);else{this.Vyt_=null;if(this.iCt_)if(this.Oyt_!=null){const t=this.Oyt_.zft_();this.Xyt_();const i=this.Oyt_.zft_();if(i<t){const e=this.Oyt_.Xft_(s["from"]),A=t-i;for(let t=0;t<this.Jyt_.length;++t){this.Jyt_[t].notify(YD.Sct_,this.Jyt_[t],{from:e,count:A});this.Jyt_[t].update()}this.notify(Lb.dyt_,this,{from:e,count:A});this.update();return}this.notify(Lb.dyt_,this,{from:0,count:0})}else{this.notify(Lb.dyt_,this,s);this.update()}else{this.Xyt_();this.notify(Jb.wC_,this);this.update()}}}Zct_(t,i,s){let e=null;if(Array.isArray(s))if(this.qyt_!=null){e=this.qyt_.map((function(t,i){return s.indexOf(t)>-1?i:-1})).filter((function(t){return t>-1}));if(e.length===0)return}else e=s.slice(0);this.Xyt_();this.notify(Lb.Rct_,this,e);this.update()}sDt_(t,i,s){this.Xyt_();this.notify(Jb.wC_,this);this.update()}gDt_(t){return this.Jyt_[this.qyt_!=null?this.qyt_[t]:t]}};s=i=t([_s("geotoolkit.data.DataTableView")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROdW1iZXJPZkNvbHVtbnMiOiJzeXRfIiwiZ2V0TnVtYmVyT2ZSb3dzIjoiaXl0XyIsImdldFZpZXdDb2x1bW5zIjoibER0XyIsImdldERhdGFUYWJsZSI6InVEdF8iLCJzZXRDb2x1bW5zIjoiYUR0XyIsImdldENvbHVtbiI6IkF5dF8iLCJpbmRleE9mQ29sdW1uIjoibnl0XyIsImdldENvbHVtbkJ5SWQiOiJoeXRfIiwiZ2V0Q29sdW1uQnlOYW1lIjoidHl0XyIsImdldE1ldGFEYXRhIjoicnl0XyJ9fX0g");var Vb=Ci(function(){let i=class t{constructor(t,i){this.pi_=i===!0?Ji(t):t;this.IDt_=t.length;this.fDt_=t[0].length}syt_(){return this.fDt_}iyt_(){return this.IDt_}getValue(t,i){return this.pi_[t][i]}};i=t([Zs(kb),_s("geotoolkit.data.Array2dDataTable")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROdW1iZXJPZlJvd3MiOiJpeXRfIiwiZ2V0TnVtYmVyT2ZDb2x1bW5zIjoic3l0XyJ9fX0g");var HT=Ci(function(){let i=class t{constructor(t,i,s){this.fDt_=i;this.IDt_=Math.floor(t.length/this.fDt_);this.pi_=s===!0?Ji(t):t}syt_(){return this.fDt_}iyt_(){return this.IDt_}getValue(t,i){return this.pi_[this.fDt_*t+i]}};i=t([Zs(kb),_s("geotoolkit.data.Array1dDataTable")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROdW1iZXJPZlJvd3MiOiJpeXRfIiwiZ2V0TnVtYmVyT2ZDb2x1bW5zIjoic3l0XyJ9fX0g");var Cq=Ci(function(){let i=class t{N_(){return{}}dt_(t){return this}};i.prototype.Kni_=Zi;i.prototype.setInterpolation=Zi;i.prototype.Hni_=Zi;i.prototype.qni_=Zi;i.prototype.getLength=Zi;i.prototype.Jni_=Zi;i.prototype.xct_=Zi;i.prototype.Pni_=Zi;i.prototype.getValue=Zi;i.prototype.Cft_=Zi;i.prototype.gkt_=Zi;i.prototype.Vni_=Zi;i.prototype.Oni_=Zi;i.prototype.Em_=Zi;i.prototype.pm_=Zi;i.prototype.Wni_=Zi;i.prototype.zni_=Zi;i.prototype.Xni_=Zi;i.prototype.jni_=Zi;i.prototype.jni_=Zi;i.prototype.Zni_=Zi;i.prototype.Zni_=Zi;i.prototype._ni_=Zi;i.prototype.$ni_=Zi;i=t([_s("geotoolkit.data.AbstractScaledData")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRDb252ZXJzaW9uIjoiS25pXyIsImdldFNhbXBsZXMiOiJIbmlfIiwiZ2V0U2FtcGxlIjoicW5pXyIsImlzRm9yd2FyZE9ubHkiOiJKbmlfIiwiZ2V0RGF0YU9yZGVyIjoieGN0XyIsImdldEluZGV4UmFuZ2UiOiJQbmlfIiwiZ2V0VmFsdWVBdCI6IkNmdF8iLCJnZXRTb3VyY2UiOiJna3RfIiwiZ2V0TWluV3JhcExldmVsIjoiVm5pXyIsImdldE1heFdyYXBMZXZlbCI6Ik9uaV8iLCJnZXRNaW5WYWx1ZSI6IkVtXyIsImdldE1heFZhbHVlIjoicG1fIiwiZ2V0TWluUG9zaXRpb24iOiJXbmlfIiwiZ2V0TWF4UG9zaXRpb24iOiJ6bmlfIiwiaXNPdXRkYXRlZCI6IlhuaV8iLCJjb252ZXJ0VmFsdWVGcm9tU291cmNlIjoiam5pXyIsImNvbnZlcnRWYWx1ZVRvU291cmNlIjoiWm5pXyIsImdldFZhbHVlQXJyYXkiOiJfbmlfIiwiZ2V0UG9zaXRpb25BcnJheSI6IiRuaV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19LCJnZXRDbGFzc05hbWUiOiJEXyJ9");var dq=Ci(function(){let i=class t{static thi_(t,i,s,e,A,n){if(!t)return null;t.setValues(i,s,e,A,n);return t}N_(){return{}}dt_(t){return this}};i.prototype.ihi_=Zi;i=t([_s("geotoolkit.data.DataInterpolation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcnBvbGF0ZSI6ImloaV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19LCJnZXRDbGFzc05hbWUiOiJEXyJ9");var Bq=Ci(function(){let i=class t extends dq{constructor(t){super();this.shi_=t==null?[]:Array.isArray(t)?t:t["interpolators"]||[]}ehi_(t){if(t==null)return this;this.shi_.push(t);return this}Ahi_(t){const i=this.shi_.indexOf(t);i!==-1&&this.shi_.splice(i,1);return this}nhi_(t,i){if(i==null)return this;this.shi_.splice(t,0,i);return this}hhi_(t){return this.shi_[t]}rhi_(){return this.shi_.length}ihi_(t,i,s,e){if(this.shi_.length===0||i===0)return!0;let A=this.shi_[0].ihi_(t,i,s,e);for(let s=1;s<this.shi_.length;++s){t=0;i=e.Hni_().length;A=A&&this.shi_[s].ihi_(t,i,e,e)}return A}N_(){const t=super.N_();t["interpolators"]=this.shi_;return t}dt_(t){if((t=Es(t))==null)return this;t["interpolators"]!==void 0&&(this.shi_=t["interpolators"]);return this}};i=t([_s("geotoolkit.data.CompositeDataInterpolation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRJbnRlcnBvbGF0b3IiOiJlaGlfIiwicmVtb3ZlSW50ZXJwb2xhdG9yIjoiQWhpXyIsImluc2VydEludGVycG9sYXRvciI6Im5oaV8iLCJnZXRJbnRlcnBvbGF0b3IiOiJoaGlfIiwiZ2V0SW50ZXJwb2xhdG9yc0NvdW50IjoicmhpXyIsImludGVycG9sYXRlIjoiaWhpXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8ifX19");var wq=Ci(function(){let i=class t{constructor(t){t=qi(t,{delimiter:",",lineterminator:"\r\n"});this.$8t_=t["stream"];this.ohi_=t["delimiter"];this.lhi_=t["lineterminator"]}setOptions(t){t=qi(t,{stream:this.$8t_,delimiter:this.ohi_,lineterminator:this.lhi_});this.$8t_=t["stream"];this.ohi_=t["delimiter"];this.lhi_=t["lineterminator"];return this}JV_(){return{stream:this.$8t_,delimiter:this.ohi_,lineterminator:this.lhi_}}uhi_(t,i){i=Es(i);if(t instanceof qb||t instanceof Pb){let s="",e;const A=t.iyt_(),n=t.syt_();if(i&&i.hasOwnProperty("includeheaders")&&typeof i["includeheaders"]=="boolean"&&i["includeheaders"]){for(e=0;e<n;e++){s+=t.eyt_(e)["name"];e<n-1&&(s+=this.ohi_)}s+=this.lhi_}for(e=0;e<A;e++){for(let i=0;i<n;i++){s+=t.getValue(e,i).toString();i<n-1&&(s+=this.ohi_)}s+=this.lhi_;if(i&&i.hasOwnProperty("maxbuffer")&&!isNaN(i["maxbuffer"])&&e%i["maxbuffer"]==0){this.$8t_.out([s]);s=""}}s!==""&&this.$8t_.out([s])}return this}ahi_(t){if(t.length>0){let i=t.join(this.ohi_);i+=this.lhi_;this.$8t_.out(i)}return this}ghi_(t,i){if(t.length>0){const s=t.length;let e="";for(let A=0;A<s;A++){e+=t[A].join(this.ohi_);e+=this.lhi_;if(!isNaN(i)&&A%i==0){this.$8t_.out([e]);e=""}}e!==""&&this.$8t_.out([e])}return this}writeText(t,i){if(typeof t=="string"&&t.length>0){t+=i?this.lhi_:this.ohi_;this.$8t_.out(t)}return this}close(){this.$8t_.save();this.$8t_.close();return this}static chi_(t,i){i=i||",";const s=new RegExp("(\\"+i+"|\\r?\\n|\\r|^)"+'(?:"([^"]*(?:""[^"]*)*)"|'+'([^"\\'+i+"\\r\\n]*))","gi"),e=[[]];let A;while(A=s.exec(t)){const t=A[1];t.length&&t!==i&&e.push([]);let s=null;s=A[2]?A[2].replace(new RegExp('""',"g"),'"'):A[3];e[e.length-1].push(s)}return e}};i=t([_s("geotoolkit.data.CSVWriter")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoiSlZfIiwid3JpdGVUYWJsZSI6InVoaV8iLCJ3cml0ZVJvdyI6ImFoaV8iLCJ3cml0ZVJvd3MiOiJnaGlfIn19LCJnZXRDbGFzc05hbWUiOiJEXyJ9");var Qq=Ci(function(){let i=class t{};i.prototype.accept=Zi;i.prototype.bind=Zi;i.prototype.unbind=Zi;i=t([_s("geotoolkit.data.DataBinding")],i);return i}(),2,"eyJnZXRDbGFzc05hbWUiOiJEXyJ9");let Eq=null;var pq=Ci(function(){var i;let s=i=class t extends Qq{constructor(){super();this.Ihi_=[]}add(t){this.Ihi_.push(t);return this}fhi_(t){return this.Ihi_[t]}jv_(){return this.Ihi_.length}remove(t){if(t==null)return this;const i=this.Ihi_.indexOf(t);if(i===-1)return this;this.Ihi_.splice(i,1);return this}accept(t){let i=null;for(let s=0;s<this.Ihi_.length;s++){i=this.Ihi_[s];if(i.accept(t))return!0}return!1}bind(t,i){let s=null;for(let e=0;e<this.Ihi_.length;e++){s=this.Ihi_[e];s.bind&&s.accept(t,i)&&s.bind(t,i)}}unbind(t,i){let s=null;for(let e=0;e<this.Ihi_.length;e++){s=this.Ihi_[e];s.unbind&&s.accept(t,i)&&s.unbind(t,i)}}static Ai_(){Eq==null&&(Eq=new i);return Eq}};s=i=t([_s("geotoolkit.data.DataBindingRegistry")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb25uZWN0b3IiOiJmaGlfIiwiZ2V0Q291bnQiOiJqdl8ifX0sImdldEluc3RhbmNlIjoiQWlfIn0g");var mq=Ci(function(){let i=class t{N_(){return{}}dt_(t){return this}};i.prototype.Chi_=Zi;i.prototype.reverse=Zi;i=t([_s("geotoolkit.data.DataConversion")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJkaXJlY3QiOiJDaGlfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyJ9fSwiZ2V0Q2xhc3NOYW1lIjoiRF8ifSAg");const yq=function(t,i,s){return Math.abs(i.getValue()-t.getValue())<Number.MIN_VALUE?i.getPosition():t.getPosition()+(i.getPosition()-t.getPosition())*(s-t.getValue())/(i.getValue()-t.getValue())},Dq=function(t,i,s,e,A,n){s[i++]=dq.thi_(t,A,n,e,!1);return i};var Mq=Ci(function(){let i=class t extends dq{constructor(t,i,s){super();const e=qi(t,{conversion:t instanceof mq?t:null,low:typeof i=="number"?i:0,high:typeof s=="number"?s:0});if(!e["conversion"])throw new Error("conversion is null");this.low=Math.min(e["low"],e["high"]);this.high=Math.max(e["low"],e["high"]);this.dhi_=e["conversion"];this.range=Math.abs(this.high-this.low)}Bhi_(t){t-=this.low;let i=0;if(NA.equals(t%this.range,0)){i=Math.round(t/this.range);t>0&&NA.equals(t,0)===!1&&(i-=1)}else i=Math.floor(t/this.range);return i}ihi_(t,i,s,e){e.whi_(t);if(this.range===0)return!0;const A=s&&s.Hni_();if(!Array.isArray(A)||A.length===0)return!1;const n=this.low,h=this.high,r=dq.thi_(A[0].clone(),0,Number.NaN,0,!1),o=dq.thi_(A[0].clone(),0,Number.NaN,0,!1);let l,u;const a=[];let g=0;for(let s=t;s<t+i;++s){l=A[s];r.setValue(this.dhi_.Chi_(l.getValue()));r.Qhi_(l.Ehi_());r.setPosition(l.getPosition());r.rK_(l.phi_());r.mhi_(l.yhi_());r.Dhi_()||r.Mhi_(this.Bhi_(r.getValue()));if(s>t){u=A[s-1];o.setValue(this.dhi_.Chi_(u.getValue()));o.Qhi_(u.Ehi_());o.setPosition(u.getPosition());o.rK_(u.phi_());o.mhi_(u.yhi_());if(!r.Dhi_()){r.Mhi_(this.Bhi_(r.getValue()));if(!o.Dhi_()){o.Mhi_(this.Bhi_(o.getValue()));const t=r.tGt_(),i=o.tGt_();if(t!==i&&t*i<=0)if(t===0||i===0){const s=i===0?t<0?n:h:i<0?n:h,e=yq(o,r,s);g=Dq(A[0].clone(),g,a,i,e,this.dhi_.reverse(s));g=Dq(A[0].clone(),g,a,t,e,this.dhi_.reverse(s))}else{const s=yq(o,r,h),e=this.dhi_.reverse(h),l=yq(o,r,n),u=this.dhi_.reverse(n);if(i>t){g=Dq(A[0].clone(),g,a,i,s,e);g=Dq(A[0].clone(),g,a,0,s,e);g=Dq(A[0].clone(),g,a,0,l,u);g=Dq(A[0].clone(),g,a,t,l,u)}else{g=Dq(A[0].clone(),g,a,i,l,u);g=Dq(A[0].clone(),g,a,0,l,u);g=Dq(A[0].clone(),g,a,0,s,e);g=Dq(A[0].clone(),g,a,t,s,e)}}}}}const i=isNaN(r.getValue())?Number.NaN:this.dhi_.reverse(r.getValue());a[g++]=dq.thi_(r.clone(),r.getPosition(),i,r.tGt_(),r.phi_(),r.yhi_());e.whi_(r.yhi_())}e.vhi_(a);e.bhi_(0);e.Nhi_(0);return!0}N_(){const t=super.N_();t["low"]=this.low;t["high"]=this.high;t["conversion"]=this.dhi_;return t}dt_(t){t["low"]!==void 0&&(this.low=t["low"]);t["high"]!==void 0&&(this.high=t["high"]);t["conversion"]!==void 0&&(this.dhi_=t["conversion"]);return this}};i=t([_s("geotoolkit.data.DataClipInterpolation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcnBvbGF0ZSI6ImloaV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");var vq={Shi_:"section",Jy_:"custom",Ghi_:"categorized"},bq=Ci(function(){let i=class t extends dq{constructor(t,i,s){super();const e=qi(t,{low:typeof t=="number"?t:0,high:typeof i=="number"?i:0,value:Array.isArray(s)||typeof s=="number"?s:10,casesensitive:!0,type:null},!0);this.Rhi_=e["casesensitive"];this.Js_=Math.min(e["low"],e["high"]);this.Ps_=Math.max(e["low"],e["high"]);this.khi_=e["value"];const A=vq;this.Fhi_=e["type"]||(Array.isArray(this.khi_)?A.Jy_:A.Shi_);this.xhi_=Array.isArray(this.khi_)&&Array.isArray(this.khi_[0])}Lhi_(t,i,s,e){e.whi_(t);const A=s.Hni_(),n=e.Hni_()||[];let h,r,o,l,u,a=[];typeof this.khi_=="number"&&this.Fhi_===vq.Shi_?u=Math.abs(this.Ps_-this.Js_)/this.khi_:Array.isArray(this.khi_)&&(a=this.khi_);const g=this.Fhi_===vq.Ghi_;for(let s=t;s<t+i;++s){h=A[s];r=h.getValue();o=r;g!==!0?o<this.Js_?o=this.Js_:o>this.Ps_&&(o=this.Ps_):this.Rhi_===!1&&typeof o=="string"&&(o=o.toLowerCase());let i=g?Number.NaN:0;if(this.Fhi_===vq.Shi_)i=Math.floor(Math.abs(+o-this.Js_)/u);else for(let t=g||this.xhi_?0:1;t<a.length;t++){let s=a[t];if(g){this.Rhi_===!1&&typeof s=="string"&&(s=s.toLowerCase());if(o===s){i=t;break}if(Array.isArray(s)){let e=null;for(let i=0;i<s.length;i++){let A=s[i];this.Rhi_===!1&&typeof A=="string"&&(A=A.toLowerCase());if(o===A){e=t;break}}if(e!=null){i=t;break}}}else if(Array.isArray(s)&&(this.xhi_||g)){if(o>=s[0]&&o<=s[1]){i=t;break}}else if(o<s)break;g!==!0&&(i=t)}l=s-t;n[l]=h.clone().setValue(i)}n.length>0&&e.whi_(n[n.length-1].yhi_());e.vhi_(n);return!0}ihi_(t,i,s,e){return this.Lhi_(t,i,s,e)}N_(){const t=super.N_();t["low"]=this.Js_;t["high"]=this.Ps_;t["value"]=this.Fhi_;return t}dt_(t){if((t=Es(t))==null)return this;t["low"]!==void 0&&(this.Js_=t["low"]);t["high"]!==void 0&&(this.Ps_=t["high"]);if(t["value"]!==void 0){this.khi_=t["value"];this.Fhi_=Array.isArray(this.khi_)?vq.Jy_:vq.Shi_}return this}};i=t([_s("geotoolkit.data.DataCutoffInterpolation")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcnBvbGF0ZSI6ImloaV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");var Nq=Ci({Uhi_:"RemoveSample",Yhi_:"KeepSample"},2,"eyJSZW1vdmVTYW1wbGUiOiJVaGlfIiwiS2VlcFNhbXBsZSI6IlloaV8ifSAg");const Sq=function(t,i,s){return Math.abs(i.getPosition()-t.getPosition())<Number.MIN_VALUE?(t.getValue()+i.getValue())/2:t.getValue()+(i.getValue()-t.getValue())*(s-t.getPosition())/(i.getPosition()-t.getPosition())};var Gq=Ci(function(){let i=class t extends dq{constructor(t){super();this.Thi_=t;this.Khi_=Nq.Uhi_}ihi_(t,i,s,e){e.whi_(t);if(this.Thi_===0)return!1;const A=s.Hni_(),n=e.Hni_()||[],h=[];let r=t,o,l;while(r<t+i&&isNaN(A[r].getValue())){h.push(n[r]||A[r].clone());r++}if(r>=t+i){e.vhi_(h);return!0}let u=-1,a=0,g=A[r].getPosition(),c,I,f=null;while(r<t+i){l=A[r];c=l.getPosition();if(isNaN(l.getValue())){u===-1&&(u=r);a+=Math.abs(c-g)}else{I=n[r]?n[r]:A[r].clone();if(u!==-1){a+=Math.abs(c-g);if(a>this.Thi_)for(o=u;o<r;o++)h.push(n[o]||A[o].clone());else if(this.Khi_===Nq.Yhi_)for(o=u;o<r;o++){const t=A[o].clone(),i=Sq(f,I,t.getPosition());t.setValue(i).rK_(!1);h.push(t)}u=-1;a=0}f=I;h.push(I);e.whi_(I.yhi_())}g=c;r++}if(u>-1)for(o=u;o<r;o++)h.push(n[o]||A[o].clone());e.vhi_(h);return!0}Hhi_(t){this.Thi_=t;return this}qhi_(){return this.Thi_}Jhi_(t){this.Khi_=t;return this}Phi_(){return this.Khi_}};i=t([_s("geotoolkit.data.DataGapFillInterpolation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcnBvbGF0ZSI6ImloaV8iLCJzZXRHYXBGaWxsQ3V0b2ZmIjoiSGhpXyIsImdldEdhcEZpbGxDdXRvZmYiOiJxaGlfIiwic2V0R2FwRmlsbEN1dG9mZk1vZGUiOiJKaGlfIiwiZ2V0R2FwRmlsbEN1dG9mZk1vZGUiOiJQaGlfIn19fSAg");var Rq=Ci(function(){let i=class t extends dq{constructor(t){super();this.sJt_=t}ihi_(t,i,s,e){e.whi_(t);if(this.sJt_===0)return!1;const A=s.Hni_(),n=e.Hni_()||[],h=[];let r=t,o,l;while(r<t+i&&isNaN(A[r].getValue())){h.push(n[r]||A[r].clone());r++}if(r>=t+i){e.vhi_(h);return!0}let u=A[r].getPosition(),a,g;h.push(n[r]||A[r].clone());r++;while(r<t+i){o=A[r];l=n[r]||o.clone();a=o.getPosition();g=a-u;if(g<=this.sJt_)h.push(l);else{h.push(o.clone().setPosition(u+this.sJt_).setValue(NaN).Mhi_(0).rK_(!1));h.push(l)}u=a;r++}e.vhi_(h);return!0}pNt_(t){this.sJt_=t;return this}TNt_(){return this.sJt_}};i=t([_s("geotoolkit.data.DataGapInterpolation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcnBvbGF0ZSI6ImloaV8iLCJzZXRHYXBWYWx1ZSI6InBOdF8iLCJnZXRHYXBWYWx1ZSI6IlROdF8ifX19");var kq=Ci({Cut:"cut",Vhi_:"interpolate"},2,"eyJJbnRlcnBvbGF0ZSI6IlZoaV8ifSAg");const Fq=NA.Je_,xq=function(t,i,s){const e=t.getValue(),A=i.getValue();return NA.equals(A,e)?i.getPosition():t.getPosition()+(i.getPosition()-t.getPosition())*(s-e)/(A-e)},Lq=function(t,i,s){if(!t.Dhi_()){const e=t.getValue();if(e>s)return t.clone().setValue(s);if(e<i)return t.clone().setValue(i)}return t};var Uq=Ci(function(){let i=class t extends dq{constructor(t,i,s){super();const e=qi(t,{low:typeof t=="number"?t:0,high:typeof i=="number"?i:0,interpolationedge:s||kq.Vhi_});this.low=Math.min(e["low"],e["high"]);this.high=Math.max(e["low"],e["high"]);this.Ohi_=e["interpolationedge"]}Whi_(t,i,s,e){e.whi_(t);const A=s.Hni_(),n=e.Hni_()||[];let h,r,o,l;for(let s=t;s<t+i;++s){h=A[s];r=h.getValue();o=r<this.low?this.low:r>this.high?this.high:r;l=s-t;n[l]=n[l]||h.clone();n[l].setValue(o)}n.length>0&&e.whi_(n[n.length-1].yhi_());e.vhi_(n);return!0}ihi_(t,i,s,e){return this.Ohi_===kq.Cut?this.Whi_(t,i,s,e):this.zhi_(t,i,s,e)}zhi_(t,i,s,e){e.whi_(t);const A=s&&s.Hni_();if(!Array.isArray(A)||A.length===0)return!1;const n=this.low,h=this.high;let r,o,l,u;const a=[],g=e.Hni_()||[];let c=0;const I=Math.min(t+i,A.length);let f=null,C=null,d,B,w,Q,E,p;for(r=t;r<I;++r){o=g[r]||A[r];f=o.getValue();if(r!==t)if(o.Dhi_())a[c++]=o.clone();else{l=g[r-1]||A[r-1];C=l.getValue();E=null;p=null;u=null;if(!l.Dhi_()){if(f<C){Q=!0;B=f;w=C}else{Q=!1;B=C;w=f}if(n>B-Fq&&n<w+Fq){d=xq(l,o,n);E=dq.thi_(A[0].clone(),d,n,o.tGt_(),!1,r);u=o}if(h<w+Fq&&h>B-Fq){d=xq(l,o,h);p=dq.thi_(A[0].clone(),d,h,o.tGt_(),!1,r);u=o}if(Q){p&&(a[c++]=p);E&&(a[c++]=E)}else{E&&(a[c++]=E);p&&(a[c++]=p)}}if(f>n-Fq&&f<h+Fq){a[c]=o.clone();c++;e.whi_(o.yhi_())}else u=o}else o&&(a[c++]=Lq(o,n,h))}u&&(a[c++]=Lq(u,n,h));e.vhi_(a);return!0}N_(){const t=super.N_();t["low"]=this.low;t["high"]=this.high;t["interpolationedge"]=this.Ohi_;return t}dt_(t){if(!t)return this;(t=Es(t))["low"]!==void 0&&(this.low=t["low"]);t["high"]!==void 0&&(this.high=t["high"]);t["interpolationedge"]!==void 0&&(this.Ohi_=t["interpolationedge"]);return this}};i=t([_s("geotoolkit.data.DataLimitsInterpolation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcnBvbGF0ZSI6ImloaV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");var Yq=Ci(function(){var i;let s=i=class t{constructor(t,i,s,e,A){if(typeof t!="object"){this.position=t||0;this.value=i!=null?i:Number.NaN;this.Xhi_=this.value;this.level=s||0;this.valid=e==null||e;this.jhi_=A||0}else{const i=t||{};this.position=i["position"]||0;this.value=i["value"]!=null?i["value"]:Number.NaN;this.Xhi_=this.value;this.level=i["level"]||0;this.valid=i["valid"]==null||i["valid"];this.jhi_=i["index"]||0}}Dhi_(){return isNaN(this.value)}setPosition(t){this.position=t;return this}getPosition(){return this.position}Qhi_(t){this.Xhi_=t;return this}Ehi_(){return this.Xhi_}setValue(t){this.value=t;return this}getValue(){return this.value}Mhi_(t){this.level=t;return this}tGt_(){return this.level}rK_(t){this.valid=t;return this}phi_(){return this.valid}mhi_(t){this.jhi_=t;return this}yhi_(){return this.jhi_}clone(){return new i(this.position,this.value,this.level,this.valid,this.jhi_).Qhi_(this.Xhi_)}N_(){return{position:this.getPosition(),value:this.getValue(),level:this.tGt_(),valid:this.phi_(),index:this.yhi_()}}dt_(t){if((t=Es(t))==null)return this;t["position"]!==void 0&&this.setPosition(t["position"]);t["value"]!==void 0&&this.setValue(t["value"]);t["level"]!==void 0&&this.Mhi_(t["level"]);t["valid"]!==void 0&&this.rK_(t["valid"]);t["index"]!==void 0&&this.mhi_(t["index"]);return this}setValues(t,i,s,e,A){this.position=t;this.value=i;this.level=s;this.valid=e;this.jhi_=A;return this}};s=i=t([_s("geotoolkit.data.DataSample")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc051bGwiOiJEaGlfIiwiZ2V0T3JpZ2luYWxWYWx1ZSI6IkVoaV8iLCJzZXRMZXZlbCI6Ik1oaV8iLCJnZXRMZXZlbCI6InRHdF8iLCJzZXRWYWxpZCI6InJLXyIsImdldFZhbGlkIjoicGhpXyIsInNldE9yaWdpbmFsSW5kZXgiOiJtaGlfIiwiZ2V0T3JpZ2luYWxJbmRleCI6InloaV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19LCJnZXRDbGFzc05hbWUiOiJEXyJ9");const Tq=function(t,i,s,e,A){let n;i.yf_(!t);Array.isArray(A)||(A=[A]);for(n=0;n<A.length;++n)i.update(A[n]);for(let e=0;e<s.length;++e)if(s[e]!==i){s[e].yf_(!t);for(n=0;n<A.length;++n)t&&s[e].update(A[n])}if(e)for(n=0;n<A.length;++n)e.notify(Lb.Rct_,e,A[n])},Kq=function(t,i,s){const e=t.mf_();t.updating();t.yf_(!0);for(let s=0;s<i.length;++s)if(i[s]!==t){i[s].updating();i[s].yf_(!0)}s&&s.notify(UD.w4_,s);return!e},Hq=function(t,i,s){return t.slice(0,i).concat(new Array(s)).concat(t.slice(i))},qq=function(t,i,s,e,A,n){const h=!0;for(let A=0;A<n;A++)s[A].setValue(e,t[A].getValue(i));return h},Jq=function(t,i,s,e,A){for(let n=0;n<A;n++)if(!isNaN(t[n].getValue(i))&&!isNaN(s[n].getValue(e))&&t[n].getValue(i)!==s[n].getValue(e))return!1;return!0};var Pq=Ci(function(){var t=class{static Zhi_(t,i,s,e,A){if(!(t instanceof zD))throw new Error("Wrong index series");isNaN(i)&&(i=t.nA_());isNaN(s)&&(s=t.hA_());if(i>s){const t=s;s=i;i=t}e=e||[];let n,h,r;if(t.getLength()>0){const o=Kq(t,e,A);if(t.xct_()!==oA.Ds_){n=t.toArray(!1);for(let A=n.length-1;A>=0;A--)if(n[A]>=i&&n[A]<=s){n.splice(A,1);for(h=0;h<e.length;++h)e[h]!==t&&e[h]._ct_(A,1)}t.setValues(n,!1)}else{n=t.toArray(!1);const A=n.length;let o=NA.findIndex(i,n);o<0&&(o=~o);let l=NA.findIndex(s,n);if(l<0){l=~l;--l;while(l>=A)--l}if(o<=l){n.splice(o,l-o+1);for(h=0;h<e.length;++h)e[h]!==t&&e[h]._ct_(o,l-o+1)}t.setValues(n,!1);r=[{index:o,count:l-o+1,type:"removed"}]}Tq(o,t,e,A,r)}}static _hi_(t,i){if(!(t&&i&&t["index"]instanceof zD&&i["index"]instanceof zD))throw new Error("Wrong index series");const s=i["index"],e=t["index"],A=i["series"]?i["series"]:[],n=t["series"]?t["series"]:[],h=i["datatable"],r=Math.min(A.length,n.length);if(e.getLength()===0)return;let o,l,u,a;const g=Kq(s,A,h);if(s.getLength()===0){s.setValues(e.toArray(!1));for(o=0;o<r;o++)A[o].setValues(n[o].toArray(!1));Tq(g,s,A,h);return}let c=s.toArray(!1);const I=e.toArray(!1),f=I[0],C=I[I.length-1],d=c.length;let B=NA.findIndex(f,c);if(B<0){B=~B;B>0&&--B}if(c[B]===I[0]){a=!0;let t;for(t=0;t<I.length&&t+B<c.length;t++)if(I[t]!==c[B+t]||!Jq(n,t,A,B+t,r)){a=!1;break}if(a===!0){const i=e.toArray(!1).slice(t);l=i.length;u=c.length;if(l>0){s.Wct_(i);for(o=0;o<r;o++)A[o]!==s&&A[o].Wct_(n[o].toArray(!1).slice(t))}Tq(g,s,A,h,{type:HD.Uct_,index:u,count:l});return}}let w=NA.findIndex(C,c);if(w<0){w=~w;while(w>=d)--w}let Q=B;const E=w;let p=0;const m=I.length-1;let y=I.length;while(Q<=E&&p<=m)if(c[Q]===I[p]){Q++;p++;y--}else c[Q]>I[p]?p++:Q++;c=Hq(c,B,y);for(o=0;o<r;o++)A[o].setValues(Hq(A[o].toArray(!1),B,y),!1);let D=B;const M=I.length>0?I[I.length-1]:null;u=B;B+=y;w+=y;let v=B;const b=w;let N=0;const S=I.length-1;l=0;while(N<=S)if(c[v]===I[N]){c[D]=I[N];qq(n,N,A,D,s,r);D++;v++;N++;l++}else if(v>b||c[v]>I[N]){c[D]=I[N];qq(n,N,A,D,s,r);D++;N++;l++}else{c[D]=c[v];qq(A,v,A,D,s,r);D++;v++;l++}s.setValues(c,!1);if(M!=null){w=NA.findIndex(M,c);if(w<0){w=~w;while(w>=c.length)--w}y=w-u+1}Tq(g,s,A,h,{type:"updated",index:u,count:y})}};return t}(),2,"eyJ0cmltVmFsdWVzIjoiWmhpXyIsIm1lcmdlVmFsdWVzIjoiX2hpXyJ9");var Vq=function(){var t=class{constructor(t,i){this.from=t;this.to=i}};return t}();const Oq=function(t,i,s,e,A){A.from=t>s?t:s;A.to=i<e?i:e;return A.to-A.from>=0},Wq=function(t,i,s,e){const A=undefined,n=undefined;return(i<e?i:e)-(t>s?t:s)>=0},zq=function(t,i,s,e,A,n){if(A==null||n==null)return 0;let h=0;const r=new Vq(0,0);if(Oq(t,i,s,e,r)){s=r.from;e=r.to;if(s>=t&&Math.abs(s-t)>NA.Je_){A[h]=t;n[h++]=s}if(e<=i&&Math.abs(i-e)>NA.Je_){A[h]=e;n[h++]=i}}return h};var Xq=function(){var i;let s=i=class t{constructor(){this.$hi_=[];this.tri_=[];this.iri_=0}sri_(t,i,s){let e=t,A=s;while(e<=A){const t=e+A>>1;if(Math.abs(this.$hi_[t]-i)<=NA.Je_&&Math.abs(this.tri_[t]-i)<=NA.Je_)return t;this.$hi_[t]<i||Math.abs(this.$hi_[t]-i)<=NA.Je_&&this.tri_[t]<i?e=t+1:A=t-1}return~e}clone(){const t=new i;t.iri_=this.iri_;t.$hi_=this.$hi_.slice();t.tri_=this.tri_.slice();return t}add(t){const i=this.iri_,s=i-1;let e=t.Xs_(),A=t.zs_();if(i===0){this.K4_(e,A);return}let n=this.sri_(0,e,s),h=n<0?~n:n,r=h;n=this.sri_(h,A,s);let o=n<0?~n:n;h>=i?h=s:h>0&&h--;o>=i&&(o=s);const l=this.$hi_[h],u=this.tri_[h],a=this.$hi_[o],g=this.tri_[o];if((u<A?u:A)-(l>e?l:e)>=0){l<e&&(e=l);u>A&&(A=u);r=h}else h++;if((g<A?g:A)-(a>e?a:e)>=0){a<e&&(e=a);g>A&&(A=g)}else o--;o>=h&&this.removeRange(h,o-h+1);r<=this.iri_?this.H4_(r,e,A):this.K4_(e,A)}eri_(t){if(!t.isEmpty()&&this!==t)for(let i=0;i<t.jv_();++i)this.add(t.Wft_(i))}Ari_(t){if(!t.isEmpty()&&this!==t)for(let i=0;i<t.jv_();++i)this.te_(t.Wft_(i))}isEmpty(){return this.iri_===0}clear(){this.iri_=0}jv_(){return this.iri_}Wft_(t){return new fA(this.$hi_[t],this.tri_[t])}getBounds(){return this.iri_!=null?new fA(this.$hi_[0],this.tri_[this.iri_-1]):null}contains(t){if(this.isEmpty())return!1;const i=t.Xs_(),s=t.zs_(),e=this.iri_,A=e-1;let n=this.sri_(0,i,A),h=n<0?~n:n;n=this.sri_(h,s,A);let r=n<0?~n:n;h>=e?h=A:h>0&&h--;r>=e&&(r=A);for(let t=r;t>=h;t--)if(this.$hi_[t]<=i&&s<=this.tri_[t])return!0;return!1}te_(t){if(this.isEmpty())return;const i=t.Xs_(),s=t.zs_(),e=this.iri_,A=e-1;let n=this.sri_(0,i,A),h=n<0?~n:n;n=this.sri_(h,s,A);let r=n<0?~n:n;h>=e?h=A:h>0&&h--;r>=e&&(r=A);const o=[],l=[];for(let t=r;t>=h;t--)if(Wq(this.$hi_[t],this.tri_[t],i,s)){const e=zq(this.$hi_[t],this.tri_[t],i,s,o,l);this.nri_(t);for(let i=0;i<e;++i)this.H4_(t+i,o[i],l[i])}}intersect(t){if(this.isEmpty())return;const i=t.Xs_(),s=t.zs_(),e=this.iri_,A=e-1;let n=this.sri_(0,i,A),h=n<0?~n:n;n=this.sri_(h,s,A);let r=n<0?~n:n;h>=e?h=A:h>0&&h--;r>=e&&(r=A);const o=this.$hi_,l=this.tri_,u=new Vq(0,0);this.iri_=0;for(let t=h;t<=r;t++)Oq(o[t],l[t],i,s,u)&&this.K4_(u.from,u.to)}$s_(t){if(this.isEmpty())return!1;const i=t.Xs_(),s=t.zs_(),e=this.iri_,A=e-1;let n=this.sri_(0,i,A),h=n<0?~n:n;n=this.sri_(h,s,A);let r=n<0?~n:n;h>=e?h=A:h>0&&h--;r>=e&&(r=A);for(let t=h;t<=r;++t)if(Wq(this.$hi_[t],this.tri_[t],i,s))return!0;return!1}K4_(t,i){if(t>i){const s=t;t=i;i=s}this.$hi_[this.iri_]=t;this.tri_[this.iri_++]=i}removeRange(t,i){let s=t;t+i>this.iri_&&(i=this.iri_-t)<0&&(i=0);const e=undefined;for(let e=t+i-1+1;e<this.iri_;e++){this.$hi_[s]=this.$hi_[e];this.tri_[s++]=this.tri_[e]}this.iri_-=i}nri_(t){this.removeRange(t,1)}H4_(t,i,s){if(i>s){const t=i;i=s;s=t}const e=this.iri_+1;if(!(t<0||t>=e)){for(let i=this.iri_;i>t;--i){this.$hi_[i]=this.$hi_[i-1];this.tri_[i]=this.tri_[i-1]}this.$hi_[t]=i;this.tri_[t]=s;this.iri_=e}}};s=i=t([_s("geotoolkit.data.LinearGrid")],s);return s}();var jq=function(){var t=class{constructor(t,i,s,e){this.hri_=t;this.FMt_=s;this.scale=e;this.item=i}rri_(t){let i=null;const s=this.hri_.ori_()?this.FMt_:null;if(t==null)return null;Array.isArray(t)?i={limits:s,colsdata:t[0]}:typeof t=="object"&&(i=t["limits"]!=null&&t["colsdata"]!=null?t:{limits:t["limits"]?t["limits"]:s,colsdata:t["colsdata"]});return i}process(t,i){t!=null||!NA.equals(this.item.scale,this.scale)&&this.hri_.lri_()||this.hri_.uri_(this.item,this.FMt_,this.rri_(i));this.item.ari_.te_(this.FMt_);this.hri_.gri_(this)}Eu_(){this.hri_.cri_([this.item.table],this.FMt_,this.scale,this.process.bind(this))}getItem(){return this.item}oA_(){return this.FMt_}I6_(t){this.FMt_=t}qm_(){return this.scale}};return t}(),Zq=function(){var t;return class{constructor(t,i,s){this.table=t;this.range=i;this.Iri_=s;this.fri_=new Xq;this.ari_=new Xq;this.scale=0}}}(),_q=Ci(function(){let i=class t extends SM{constructor(t){super();const i=qi(t,{autoupdateinterval:100,numberofparallelrequests:5,requestwindowmultiplier:.5,maxmemory:2,decimation:!0,cleartableonscale:!1,includerequestlimits:!0},!0);this.Cri_=[];this.dri_=i["decimation"];this.Bri_=i["requestwindowmultiplier"];this.wri_=i["numberofparallelrequests"];this.Qri_=i["autoupdateinterval"];this.Eri_=i["cleartableonscale"];this.pri_=i["includerequestlimits"];this.currentTime=(new Date).getTime();this.mri_=[];this.yri_=[];this.Dri_=[];this.Mri_=isFinite(i["maxmemory"])?i["maxmemory"]*1024*1024:1/0;const s=this;this.x3_=function(){const t=(new Date).getTime();if(t-s.currentTime>s.Qri_){s.currentTime=t;s.vri_()}s.Dri_.length!==0||s.yri_.length!==0?s.bri_():s.Nri_()}}Sri_(t,i,s){if(t==null||i==null||t.syt_()===0)throw new Error("Wrong input parameters");const e=typeof s=="string"?t.tyt_(s):t.Ayt_(0);if(!(e instanceof zD))throw new Error("Index column must be geotoolkit.data.NumericDataSeries");this.Cri_.push(new Zq(t,i,e));return this}Gri_(t){if(t!=null){let i=-1;for(let s=0;s<this.Cri_.length;++s)if(this.Cri_[s].table===t){i=s;break}i!==-1&&this.Rri_(i)}return this}Rri_(t){if(t>=this.kri_())throw new Error("Index is out of range");const i=this.Cri_[t];this.Cri_.splice(t,1);this.Fri_(i);return this}kri_(){return this.Cri_.length}xri_(t){if(t>=this.kri_())throw new Error("Index is out of range");return this.Cri_[t].table}Pni_(t){if(t>=this.kri_())throw new Error("Index is out of range");return this.Cri_[t].range}Lri_(t,i){if(t>=this.kri_())throw new Error("Index is out of range");const s=this.Cri_[t],e=s.range;s.range=i;if(e!=null&&i!=null&&!i.contains(e))if(i.$s_(e)){const t=fA.te_(e,i);for(let i=0;i<t.length;++i){s.fri_.te_(t[i]);Pq.Zhi_(s.Iri_,t[i].Xs_(),t[i].zs_(),s.table.vyt_(!1),s.table)}}else this.oDt_(s);return this}Uri_(t,i,s){if(t>=this.kri_())throw new Error("Index is out of range");const e=this.Cri_[t];if(i==null){i=e.fri_.getBounds();e.fri_.clear()}else e.fri_.te_(i);s!==!1&&Pq.Zhi_(e.Iri_,i.Xs_(),i.zs_(),e.table.vyt_(),e.table);return this}Yri_(t,i){for(let s=0;s<this.Cri_.length;++s)this.Uri_(s,t,i)}Tri_(t){if(t>=this.kri_())throw new Error("Index is out of range");return this.Cri_[t].Iri_}Kri_(){let t=null;for(let i=0;i<this.kri_();++i)t==null?t=this.Pni_(i).clone():t.union(this.Pni_(i));return t!=null?t:new fA}Hri_(t){if(this.dri_!==t){this.dri_=t;this.qri_();this.Jri_();this.update()}return this}lri_(){return this.dri_}uri_(t,i,s){const e=s?s["colsdata"]:null;let A=s?s["limits"]:null;if(t.table.iyt_()===0){t.table.yyt_(e);t.fri_.clear();A==null&&(A=new fA(t.Iri_.nA_(),t.Iri_.hA_()));t.fri_.add(A)}else if(e!=null){const i=t.table.clone(!1);i.yyt_(e);const s=i.tyt_(t.Iri_.dn_());A==null&&(A=new fA(s.nA_(),s.hA_()));t.fri_.add(A);this.Eri_||Pq.Zhi_(t.Iri_,A.Xs_(),A.zs_(),t.table.vyt_(!1),t.table);Pq._hi_({index:s,series:i.vyt_()},{index:t.Iri_,series:t.table.vyt_(!1),datatable:t.table})}}Pri_(t,i){if(isFinite(this.Mri_)){const s=t.table,e=s.syt_(),A=s.iyt_(),n=e*8*A,h=this.Mri_/this.Cri_.length;if(n>h){const r=(t.Iri_.hA_()-t.Iri_.nA_())/A,o=Math.ceil((n-h)/(8*e)),l=Math.floor(r*o/2),u=i.Xs_()-l,a=i.zs_()+l,g=t.Iri_.nA_(),c=t.Iri_.hA_();Pq.Zhi_(t.Iri_,g,u,s.vyt_());Pq.Zhi_(t.Iri_,a,c,s.vyt_());t.fri_.te_(new fA(g,u));t.fri_.te_(new fA(a,c))}}}gri_(t){if(this.yri_.length>0){const i=this.yri_.indexOf(t);i!==-1&&this.yri_.splice(i,1)}if(this.mri_.length>0)while(this.yri_.length<this.wri_&&this.mri_.length>0){const t=this.mri_.shift();this.yri_.push(t);t.Eu_()}else{this.yri_=[];this.notify(UD.yct_,this)}t=null}Vri_(t,i){const s=t.fri_.clone();s.eri_(t.ari_);if(s.$s_(i)){if(!s.contains(i)){const t=new Xq;t.add(i);t.Ari_(s);const e=t.getBounds();return e!=null?new fA(Math.max(e.Xs_(),i.Xs_()),Math.min(e.zs_(),i.zs_())):e}return null}return i}Ori_(t){const i=this.Vri_(t.getItem(),t.oA_());if(i!=null){t.getItem().ari_.add(i);t.I6_(i);this.mri_.push(t)}this.yri_.length<this.wri_&&this.gri_()}vri_(){if(this.Dri_.length>0){let t=this.Dri_.shift();while(this.Dri_.length>0){const i=this.Dri_.shift();if(i.oA_().$s_(t.oA_())===!0&&i.getItem()===t.getItem()&&(Math.abs(i.qm_()-t.qm_())<NA.Je_||!this.lri_()))t.oA_().union(i.oA_());else{this.Ori_(t);t=i}}t!=null&&this.Ori_(t)}}Wri_(t,i){for(let s=this.Dri_.length-1;s>=0;s--)this.Dri_[s].getItem()===t&&(i.$s_(this.Dri_[s].oA_())&&!i.contains(this.Dri_[s].oA_())||this.Dri_.splice(s,1))}zri_(t){const i=t.Xs_()-t.getSize()*this.Bri_,s=t.zs_()+t.getSize()*this.Bri_;return new fA(i,s)}Xri_(t,i,s){if(i.Xs_()<t.range.Xs_()||i.zs_()>t.range.zs_()){const s=Math.max(i.Xs_(),t.range.Xs_()),e=Math.min(i.zs_(),t.range.zs_());i=new fA(s,e)}this.Pri_(t,i);this.Wri_(t,i);this.Dri_.push(new jq(this,t,i,s));this.jri_()||this.bri_()}Fri_(t){let i;for(i=this.mri_.length-1;i>=0;i--)this.mri_[i].getItem()===t&&this.mri_.splice(i,1);for(i=this.yri_.length-1;i>=0;i--)this.yri_[i].getItem()===t&&this.yri_.splice(i,1);for(i=this.Dri_.length-1;i>=0;i--)this.Dri_[i].getItem()===t&&this.Dri_.splice(i,1);t.ari_.clear()}Jri_(){this.mri_=[];this.yri_=[];this.Dri_=[];for(let t=0;t<this.Cri_.length;++t)this.Cri_[t].ari_.clear();this.Nri_()}fetch(t,i){let s,e;const A=this.Cri_.length>0?this.Cri_[0].scale:0;t=this.zri_(t);if(Math.abs(i-A)>NA.Je_&&this.lri_()){for(s=0;s<this.Cri_.length;++s){e=this.Cri_[s];e.scale=i;e.fri_.clear();this.Eri_&&e.table.iyt_()>0&&e.table.Lyt_(0,e.table.iyt_())}this.Jri_()}for(s=0;s<this.Cri_.length;++s)this.Xri_(this.Cri_[s],t,i);return this}Zri_(t,i,s){if(t>=this.kri_())throw new Error("Index is out of range");const e=this.Cri_[t];i=this.zri_(i);if(s!==e.scale&&this.lri_()){this.oDt_(e,this.Eri_?void 0:i);e.scale=s;this.Fri_(e)}this.Xri_(e,i,s);return this}qri_(t){for(let i=0;i<this.Cri_.length;++i)this.oDt_(this.Cri_[i],t);return this}oDt_(t,i){if(i==null){t.table.iyt_()>0&&t.table.Lyt_(0,t.table.iyt_());t.fri_.clear()}else{Pq.Zhi_(t.Iri_,i.Xs_(),i.zs_(),t.table.vyt_(!1),t.table);t.fri_.te_(i)}return this}_ri_(t,i,s,e){this.notify(UD.mct_,this,{limits:i,scale:s,tables:t,callback:e})}cri_(t,i,s,e){this._ri_(t,i,s,e)}dispose(){this.Nri_();super.dispose()}bri_(){this.M3_!=null&&Mi.cancelAnimationFrame(this.M3_);this.M3_=Mi.requestAnimationFrame(this.x3_)}Nri_(){if(this.M3_!=null){Mi.cancelAnimationFrame(this.M3_);this.M3_=null}}jri_(){return this.M3_!=null}ori_(){return this.pri_}};i=t([_s("geotoolkit.data.DataSet")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRUYWJsZSI6IlNyaV8iLCJyZW1vdmVUYWJsZSI6IkdyaV8iLCJyZW1vdmVUYWJsZUF0IjoiUnJpXyIsImdldE51bWJlck9mVGFibGVzIjoia3JpXyIsImdldFRhYmxlIjoieHJpXyIsImdldEluZGV4UmFuZ2UiOiJQbmlfIiwic2V0SW5kZXhSYW5nZSI6IkxyaV8iLCJpbnZhbGlkYXRlVGFibGVSYW5nZSI6IlVyaV8iLCJpbnZhbGlkYXRlUmFuZ2UiOiJZcmlfIiwiZ2V0SW5kZXhDb2x1bW4iOiJUcmlfIiwiZ2V0RnVsbEluZGV4UmFuZ2UiOiJLcmlfIiwiZW5hYmxlRGVjaW1hdGlvbiI6IkhyaV8iLCJpc0RlY2ltYXRpb25FbmFibGVkIjoibHJpXyIsImZldGNoVGFibGUiOiJacmlfIiwiY2xlYXJBbGxUYWJsZXMiOiJxcmlfIiwiZmV0Y2hEYXRhUmFuZ2UiOiJfcmlfIiwibmVlZEluY2x1ZGVSZXF1ZXN0UmltaXRzIjoib3JpXyJ9fX0g");var $q=Ci({Dt_:"Linear",$ri_:"MiddleStep",toi_:"EndStep",ioi_:"StartStep"},2,"eyJMaW5lYXIiOiJEdF8iLCJNaWRkbGVTdGVwIjoiJHJpXyIsIkVuZFN0ZXAiOiJ0b2lfIiwiU3RhcnRTdGVwIjoiaW9pXyJ9"),tJ=Ci(function(){let i=class t extends dq{constructor(t){super();const i=qi(t,{interpolationtype:typeof t=="string"?t:$q.Dt_},!0);this.soi_(i["interpolationtype"])}soi_(t){this.eoi_=typeof t=="number"?[$q.Dt_,$q.$ri_,$q.toi_,$q.ioi_][Math.floor(t)]:t;return this}ihi_(t,i,s,e){e.whi_(t);const A=s&&s.Hni_();if(!A){e.vhi_(null);return!1}let n=0,h;const r=[];let o,l,u=!1;switch(this.eoi_){case $q.$ri_:o=A[t];r[n++]=dq.thi_(o.clone(),o.getPosition(),o.getValue(),0,!0,o.yhi_());for(h=t+1;h<t+i;++h){o=A[h-1];l=A[h];u=isNaN(o.getValue())||isNaN(l.getValue());const t=(o.getPosition()+l.getPosition())/2;r[n++]=dq.thi_(o.clone(),t,u?Number.NaN:o.getValue(),0,!1);r[n++]=dq.thi_(l.clone(),t,u?Number.NaN:l.getValue(),0,!1);r[n++]=dq.thi_(l.clone(),l.getPosition(),l.getValue(),0,!0,l.yhi_())}break;case $q.ioi_:for(h=t;h<t+i-1;++h){o=A[h];l=A[h+1];u=isNaN(o.getValue())||isNaN(l.getValue());r[n++]=dq.thi_(o.clone(),o.getPosition(),o.getValue(),0,!0,o.yhi_());r[n++]=dq.thi_(o.clone(),o.getPosition(),u?Number.NaN:l.getValue(),0,!1)}o=A[t+i-1];r[n]=dq.thi_(o.clone(),o.getPosition(),o.getValue(),0,!0,o.yhi_());break;case $q.toi_:o=A[t];r[n++]=dq.thi_(o.clone(),o.getPosition(),o.getValue(),0,!0,o.yhi_());for(h=t+1;h<t+i;++h){o=A[h-1];l=A[h];u=isNaN(o.getValue())||isNaN(l.getValue());r[n++]=dq.thi_(l.clone(),l.getPosition(),u?Number.NaN:o.getValue(),0,!1);r[n++]=dq.thi_(l.clone(),l.getPosition(),l.getValue(),0,!0,l.yhi_())}break;default:return!0}i>1&&e.whi_(A[h-1].yhi_());e.vhi_(r);return!0}N_(){const t=super.N_();t["interpolationtype"]=this.eoi_;return t}dt_(t){if((t=Es(t))==null)return this;t["interpolationtype"]!==void 0&&this.soi_(t["interpolationtype"]);return this}};i=t([_s("geotoolkit.data.DataStepInterpolation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcnBvbGF0ZSI6ImloaV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");var iJ=Ci(function(){var i;let s=i=class t{constructor(t){const i=qi(t,{samples:Array.isArray(t)?t:null,minwraplevel:0,maxwraplevel:0},!0);this.Aoi_=i["samples"];this.noi_=i["minwraplevel"];this.hoi_=i["maxwraplevel"];this.roi_=0}vhi_(t){this.Aoi_=t;return this}Hni_(){return this.Aoi_}whi_(t){this.roi_=t;return this}bhi_(t){this.noi_=t;return this}Nhi_(t){this.hoi_=t;return this}Vni_(){return this.noi_}Oni_(){return this.hoi_}ooi_(){return this.roi_}clone(){if(this.Aoi_==null)return new i;const t=new Array(this.Aoi_.length);for(let i=0;i<this.Aoi_.length;++i)t[i]=this.Aoi_[i].clone();return new i(t)}N_(){return{samples:this.Hni_(),minwraplevel:this.Vni_(),maxwraplevel:this.Oni_()}}dt_(t){if((t=Es(t))==null)return this;t["samples"]!==void 0&&this.vhi_(t["samples"]);t["minwraplevel"]!==void 0&&this.bhi_(t["minwraplevel"]);t["maxwraplevel"]!==void 0&&this.Nhi_(t["maxwraplevel"]);return this}};s=i=t([_s("geotoolkit.data.DataValueArray")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTYW1wbGVzIjoidmhpXyIsImdldFNhbXBsZXMiOiJIbmlfIiwic2V0TWluV3JhcExldmVsIjoiYmhpXyIsInNldE1heFdyYXBMZXZlbCI6Ik5oaV8iLCJnZXRNaW5XcmFwTGV2ZWwiOiJWbmlfIiwiZ2V0TWF4V3JhcExldmVsIjoiT25pXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8ifX0sImdldENsYXNzTmFtZSI6IkRfIn0g");const sJ=function(t,i,s){return Math.abs(i.getValue()-t.getValue())<Number.MIN_VALUE?i.getPosition():t.getPosition()+(i.getPosition()-t.getPosition())*(s-t.getValue())/(i.getValue()-t.getValue())};var eJ=Ci(function(){let i=class t extends dq{constructor(t,i,s,e){super();const A=qi(t,{conversion:t instanceof mq?t:null,low:typeof i=="number"?i:0,high:typeof s=="number"?s:0,maxwraps:typeof e=="number"?e:5},!0);if(!A["conversion"])throw new Error("conversion is null");this.low=Math.min(A["low"],A["high"]);this.high=Math.max(A["low"],A["high"]);this.dhi_=A["conversion"];this.loi_=A["maxwraps"];this.range=Math.abs(this.high-this.low)}uoi_(){return this.loi_}Bhi_(t){t-=this.low;let i=0;if(NA.equals(t%this.range,0)){i=Math.round(t/this.range);t>0&&(i-=1)}else i=Math.floor(t/this.range);return i}ihi_(t,i,s,e){e.whi_(t);if(this.range===0)return!0;const A=s&&s.Hni_();if(!Array.isArray(A)||A.length===0)return!1;const n=this.dhi_.reverse(this.low),h=this.dhi_.reverse(this.high),r=this.high+this.range*this.loi_,o=this.low-this.range*this.loi_;let l,u,a,g,c,I=0,f=0;const C=[],d=e.Hni_()||[];let B=0;const w=Math.min(t+i,A.length);let Q=null,E=null;for(let i=t;i<w;++i){g=d[i]||A[i].clone();Q=this.dhi_.Chi_(g.getValue());g.setValue(Q);g.Mhi_(this.Bhi_(g.Dhi_()?0:Q));if(i===t||g.Dhi_())C[B++]=this.aoi_(g);else{c=d[i-1];if(c)E=c.getValue();else{c=A[i-1].clone();E=this.dhi_.Chi_(c.getValue());c.setValue(E);c.Mhi_(this.Bhi_(c.Dhi_()?0:E))}if(!c.Dhi_()&&g.tGt_()!==c.tGt_())if(g.tGt_()>c.tGt_()){const t=Math.abs(c.tGt_())<this.uoi_()?c.tGt_():Math.sign(c.tGt_())*this.uoi_(),i=Math.abs(g.tGt_())<this.uoi_()?g.tGt_():Math.sign(g.tGt_())*this.uoi_();for(l=t;l<=i+1;l++){u=this.low+this.range*l;if((NA.equals(u,Q)||u<Q)&&(NA.equals(u,E)||u>E)&&(NA.equals(u,o)||u>o)&&(NA.equals(u,r)||u<r)){a=sJ(c,g,u);I=Math.min(I,l-1);f=Math.max(f,l);if(u+this.range>r)C[B++]=dq.thi_(A[0].clone(),a,h,l-1,!1);else{C[B++]=dq.thi_(A[0].clone(),a,h,l-1,!1);C[B++]=dq.thi_(A[0].clone(),a,n,l,!1)}}if(u>r)break}}else{const t=Math.abs(g.tGt_())<this.uoi_()?g.tGt_():Math.sign(g.tGt_())*this.uoi_(),i=undefined;for(l=(Math.abs(c.tGt_())<this.uoi_()?c.tGt_():Math.sign(c.tGt_())*this.uoi_())+1;l>=t;l--){u=this.low+this.range*l;if((NA.equals(u,Q)||u>Q)&&(NA.equals(u,E)||u<E)&&(NA.equals(u,o)||u>o)&&(NA.equals(u,r)||u<r)){a=sJ(c,g,u);I=Math.min(I,l-1);f=Math.max(f,l);if(u-this.range<o)C[B++]=dq.thi_(A[0].clone(),a,n,l,!1);else{C[B++]=dq.thi_(A[0].clone(),a,n,l,!1);C[B++]=dq.thi_(A[0].clone(),a,h,l-1,!1)}}if(u<o)break}}if((NA.equals(Q,o)||Q>o)&&(NA.equals(Q,r)||Q<r)){I=Math.min(I,g.tGt_());f=Math.max(f,g.tGt_());C[B++]=this.aoi_(g);e.whi_(g.yhi_())}}}e.vhi_(C);e.bhi_(I);e.Nhi_(f);return!0}aoi_(t){const i=isNaN(t.getValue())?Number.NaN:this.dhi_.reverse(t.getValue()-this.range*t.tGt_()),s=t.clone();s.setValue(i);return s}N_(){const t=super.N_();t["low"]=this.low;t["high"]=this.high;t["conversion"]=this.dhi_;t["maxwraps"]=this.uoi_();return t}dt_(t){if(!t)return this;(t=Es(t))["low"]!==void 0&&(this.low=t["low"]);t["high"]!==void 0&&(this.high=t["high"]);t["conversion"]!==void 0&&(this.dhi_=t["conversion"]);t["maxwraps"]!==void 0&&(this.loi_=t["maxwraps"]);return this}};i=t([_s("geotoolkit.data.DataWrapInterpolation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcnBvbGF0ZSI6ImloaV8iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");var AJ=Ci({yt_:"Discrete",goi_:"Continuous"},2,"eyJEaXNjcmV0ZSI6Inl0XyIsIkNvbnRpbnVvdXMiOiJnb2lfIn0g"),nJ=Ci(function(){let i=class t extends $n{constructor(t){super();t=qi(t,{type:AJ.goi_,valuetype:null,values:[],ranges:[],codes:[]},!0);this.coi_=t["type"];this.Ioi_=null;this.pi_=[];this.foi_=[];this.iIt_=+1/0;this.sIt_=-1/0;this.Coi_=t["codes"];this.doi_(t["ranges"]);this.setValues(t["values"])}dispose(){if(!this.Df_()){this.setValues(null);super.dispose()}}Cft_(t){let i=-1;i=this.coi_===AJ.goi_?this.foi_.findIndex((function(i){return t>=i[0]&&t<=i[1]})):this.Coi_.findIndex((function(i){return t<=i}));return i>=0?this.pi_[i%this.pi_.length]:null}Boi_(){return this.foi_}doi_(t){this.foi_=t;this.iIt_=+1/0;this.sIt_=-1/0;if(this.foi_==null)return this;for(let t=0;t<this.foi_.length;t++){this.iIt_=Math.min(this.foi_[t][0],this.iIt_);this.sIt_=Math.max(this.foi_[t][1],this.sIt_)}return this}woi_(){return this.Coi_}Qoi_(t){this.Coi_=t;return this}Eoi_(){return this.coi_}poi_(t){this.coi_=t;return this}moi_(){return this.Ioi_}yoi_(t){this.Ioi_=t;return this}getValues(){return this.pi_}setValues(t){this.pi_=t;return this}N_(){return{type:this.Eoi_(),values:this.getValues(),ranges:this.Boi_(),codes:this.woi_()}}dt_(t){if((t=Es(t))==null)return this;t["type"]!=null&&this.poi_(t["type"]);t["valuetype"]!=null&&this.yoi_(t["valuetype"]);t["ranges"]!=null&&this.doi_(t["ranges"]);t["codes"]!=null&&this.Qoi_(t["codes"]);return this}};i=t([_s("geotoolkit.data.DiscreteDataMap")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWYWx1ZUF0IjoiQ2Z0XyIsImdldFJhbmdlcyI6IkJvaV8iLCJzZXRSYW5nZXMiOiJkb2lfIiwiZ2V0Q29kZXMiOiJ3b2lfIiwic2V0Q29kZXMiOiJRb2lfIiwiZ2V0TWFwVHlwZSI6IkVvaV8iLCJzZXRNYXBUeXBlIjoicG9pXyIsImdldFByb3BlcnRpZXMiOiJOXyIsInNldFByb3BlcnRpZXMiOiJkdF8ifX19");var hJ=function(){var t=class{};t.prototype.accept=Zi;t.prototype.resolve=Zi;return t}();var rJ=Ci(function(){let i=class t extends mq{constructor(t,i,s,e){super();const A=qi(t,{srclow:typeof t=="number"?t:0,srchigh:typeof i=="number"?i:0,dstlow:typeof s=="number"?s:0,dsthigh:typeof e=="number"?e:0},!0);this.Doi_(A)}Doi_(t){this.Moi_=t["srclow"];this.voi_=t["srchigh"];this.boi_=t["dstlow"];this.Noi_=t["dsthigh"];if(Math.abs(t["srchigh"]-t["srclow"])!==0){this.Soi_=(t["dsthigh"]-t["dstlow"])/(t["srchigh"]-t["srclow"]);this.Goi_=this.Soi_!==0?t["srclow"]-t["dstlow"]/this.Soi_:t["srclow"]}else{this.Soi_=0;this.Goi_=t["srclow"]}this.Roi_=t["dstlow"]-t["srclow"]*this.Soi_;return this}Chi_(t){return isNaN(t)?Number.NaN:t*this.Soi_+this.Roi_}reverse(t){return isNaN(t)?Number.NaN:this.Soi_!==0?t/this.Soi_+this.Goi_:this.Goi_}N_(){const t=super.N_();t["srclow"]=this.Moi_;t["srchigh"]=this.voi_;t["dstlow"]=this.boi_;t["dsthigh"]=this.Noi_;return t}dt_(t){if((t=Es(t))==null)return this;t=qi(t,this.N_());this.Doi_(t);return this}};i=t([_s("geotoolkit.data.LinearDataConversion")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJkaXJlY3QiOiJDaGlfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyJ9fX0g");var oJ=Ci({koi_:"ResolverRegistered"},2,"eyJSZXNvbHZlclJlZ2lzdGVyZWQiOiJrb2lfIn0g");let lJ=null;var uJ=Ci(function(){var i;let s=i=class t extends $n{constructor(){super();this.Foi_=[]}register(t){if(this.Foi_.indexOf(t)<0){this.Foi_.push(t);this.notify(oJ.koi_,this)}}xoi_(t){for(let i=0;i<this.Foi_.length;++i)if(this.Foi_[i].accept(t))return this.Foi_[i];return null}static Ai_(){lJ==null&&(lJ=new i);return lJ}static Loi_(t){if(t!=null){const s=undefined;i.Ai_().register(t)}}};s=i=t([_s("geotoolkit.data.LinkResolverRegistry")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSZXNvbHZlciI6InhvaV8ifX0sImdldEluc3RhbmNlIjoiQWlfIiwicmVnaXN0ZXJSZXNvbHZlciI6IkxvaV8ifSAg");var aJ=Ci(function(){let i=class t extends mq{constructor(t,i,s,e,A,n,h,r){super();const o=qi(t,{coeff:typeof t=="number"?t:0,base:typeof i=="number"?i:0,logmin:typeof h=="number"?h:0,loglow:typeof s=="number"?s:0,loghigh:typeof e=="number"?e:0,tracklow:typeof A=="number"?A:0,trackhigh:typeof n=="number"?n:0,normalizeconversion:r},!0);this.Uoi_=o["coeff"];this.Yoi_=o["base"];this.log=Math.log(this.Yoi_);this.Toi_=o["logmin"];this.Koi_=o["normalizeconversion"]?o["normalizeconversion"]:new rJ(o["loglow"],o["loghigh"],o["tracklow"],o["trackhigh"])}Chi_(t){let i;if(this.Toi_===void 0){if(isNaN(t))return Number.NaN;i=Math.max(Number.MIN_VALUE,t/this.Uoi_);Gi(this.Toi_)}else{if(isNaN(t)||t/this.Uoi_<this.Toi_)return Number.NaN;i=t/this.Uoi_}return this.Koi_.Chi_(Math.log(i)/this.log)}reverse(t){if(isNaN(t))return Number.NaN;const i=this.Koi_.reverse(t);return this.Uoi_*Math.pow(this.Yoi_,i)}N_(){const t=super.N_();t["coeff"]=this.Uoi_;t["base"]=this.Yoi_;t["logmin"]=this.Toi_;t["normalizeconversion"]=this.Koi_;return t}dt_(t){if((t=Es(t))==null)return this;t["coeff"]!==void 0&&(this.Uoi_=t["coeff"]);if(t["base"]!==void 0){this.Yoi_=t["base"];this.log=Math.log(this.Yoi_)}t["logmin"]!==void 0&&(this.Toi_=t["logmin"]);t["normalizeconversion"]!==void 0&&(this.Koi_=t["normalizeconversion"]);t["loglow"]!==void 0&&this.Koi_.dt_({srclow:t["loglow"]});t["loghigh"]!==void 0&&this.Koi_.dt_({srchigh:t["loghigh"]});t["tracklow"]!==void 0&&this.Koi_.dt_({dstlow:t["tracklow"]});t["trackhigh"]!==void 0&&this.Koi_.dt_({dsthigh:t["trackhigh"]});return this}};i=t([_s("geotoolkit.data.LogarithmicDataConversion")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJkaXJlY3QiOiJDaGlfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyJ9fX0g");var gJ=Ci(function(){let i=class t extends mq{constructor(t,i){super();const s=qi(t,{min:typeof t=="number"?t:0,max:typeof i=="number"?i:0});this.min=s["min"];this.max=s["max"]}Chi_(t){return isNaN(t)?Number.NaN:(t-this.min)/(this.max-this.min)}reverse(t){return isNaN(t)?Number.NaN:this.min+t*(this.max-this.min)}N_(){const t=super.N_();t["min"]=this.min;t["max"]=this.max;return t}dt_(t){if((t=Es(t))==null)return this;t["min"]!==void 0&&(this.min=t["min"]);t["max"]!==void 0&&(this.max=t["max"]);return this}};i=t([_s("geotoolkit.data.NormalizeDataConversion")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJkaXJlY3QiOiJDaGlfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyJ9fX0g");var cJ=function(){var t;return class{constructor(){this.Hoi_=null;this.qoi_=null;this.Joi_=null;this.values=null;this.Poi_=null;this.Voi_=null;this.M9_=null;this.Ooi_=0;this.Woi_=0;this.b9_=op.y9_}zoi_(){this.Woi_=this.Ooi_}S9_(t){const i=this.Ooi_;this.qoi_[i]=t;this.Poi_[i]=t.getPosition();this.Voi_[i]=t.getValue();this.Ooi_=i+1}G9_(t,i){if(typeof i=="number"){ki("Call OptimizedData.needReoptimization() with number type is deprecated since 4.0."+" Use enum @int/geotoolkit/util/OptimizationType instead");i=lp[i]}return!this.Hoi_||!this.M9_||this.M9_.xx!==t.xx||this.M9_.yy!==t.yy||this.M9_.xy!==t.xy||this.M9_.yx!==t.yx||this.b9_!==i}R9_(){this.Hoi_=null;this.Joi_=null;this.values=null}Zb_(t,i){this.qoi_=this.qoi_||[];this.Poi_=this.Poi_||[];this.Voi_=this.Voi_||[];this.Ooi_=i?this.Woi_:0;i||(this.Woi_=0)}end(t,i){if(typeof i=="number"){ki("Call OptimizedData.end() with number type is deprecated since 4.0. Use enum @int/geotoolkit/util/OptimizationType instead");i=lp[i]}if(this.qoi_.length>this.Ooi_){this.qoi_.splice(this.Ooi_,this.qoi_.length-this.Ooi_);this.Poi_.splice(this.Ooi_,this.Poi_.length-this.Ooi_);this.Voi_.splice(this.Ooi_,this.Voi_.length-this.Ooi_)}this.Hoi_=this.qoi_;this.Joi_=this.Poi_;this.values=this.Voi_;this.M9_=t;this.b9_=i}}}(),IJ=Ci(function(){let i=class t extends Cq{constructor(t,i){super();if(!t)throw new Error("scaledData === null");this.Xoi_=0;this.joi_=t;this.Zoi_=new Xm;this.K9_=new cJ;this.L9_=!0;this.x9_=op.y9_;this._oi_=i==null||i;this.IOt_=null;this.$oi_=0;this.R9_()}V9_(t){this.x9_=t;return this}O9_(t){this.L9_=t;return this}q9_(){return this.L9_}Kni_(t){this.joi_.Kni_(t);this.R9_();return this}setInterpolation(t){this.joi_.setInterpolation(t);this.R9_();return this}R9_(){this.Y9_=!0;this.tli_=!0;this.ili_=!0;this.sli_=!1;this.eli_();this.K9_.R9_()}eli_(){this.Ali_=NaN;this.nli_=NaN;this.hli_=NaN;this.rli_=NaN;this.oli_=NaN;this.lli_=NaN;this.uli_=NaN}Hni_(t){t==null?t=this.L9_:this.L9_=t;return this.ali_(this.IOt_,t,this.x9_)}qni_(t){return this.L9_?this.K9_.Hoi_[t]:this.joi_.qni_(t)}gli_(t){this.IOt_=t;return this}_ni_(t){t===void 0&&(t=this.L9_);return t&&this.K9_.values?this.K9_.values:this.joi_._ni_()}$ni_(t){t===void 0&&(t=this.L9_);return t&&this.K9_.Joi_?this.K9_.Joi_:this.joi_.$ni_()}ali_(t,i,s){const e=this.joi_.Hni_();this.cli_(e);if(!t)return e;if(!i)return e;this.x9_===op.RDP&&this.sli_&&this.R9_();const A=this.K9_.G9_(t,s);if(!A&&!this.sli_)return this.K9_.Hoi_;A&&this.R9_();this.Ili_();this.J9_(i,s);let n=this.joi_.$ni_(),h=this.joi_._ni_(),r=this.fli_;if(this.x9_===op.RDP){const i=rp.r9_(n,h,this.T9_,n.length,t);n=Array.prototype.slice.call(i[ep.$6_],0,i[ep.i9_]);h=Array.prototype.slice.call(i[ep.t9_],0,i[ep.i9_]);r=Array.prototype.slice.call(i[ep.s9_],0,i[ep.i9_])}return this.Cli_(e,n,h,r,t,s)}Cli_(t,i,s,e,A,n){if(i.length===0||s.length===0){this.K9_.Zb_(i.length,!1);this.K9_.end(A,n);this.eli_();return this.K9_.Hoi_}let h,r;const o=this._oi_?A.nI_(1,0).clone():A.nI_(0,1).clone(),l=A.nI_(0,0).clone();o.setX(o.x-l.x);o.setY(o.y-l.y);const u=Math.sqrt(o.x*o.x+o.y*o.y),a=o.x/u,g=o.y/u;let c;this.sli_||(this.$oi_=0);this.K9_.Zb_(i.length,this.sli_);const I=undefined;for(h=this.sli_?this.$oi_:0;h<i.length;h++)if(isNaN(s[h])){isNaN(this.Ali_)||this.dli_(t,e,this.lli_,this.uli_,this.hli_,this.nli_);this.K9_.S9_(t[e[h]]);this.K9_.zoi_();this.$oi_=h+1;this.eli_()}else{this.oli_=t[e[h]].tGt_();c=this._oi_?A.nI_(i[h],s[h]):A.nI_(s[h],i[h]);r=a*c.x+g*c.y;if(this.oli_===this.rli_&&!isNaN(this.Ali_)&&Math.abs(r-this.Ali_)<1){s[h]<s[this.nli_]&&(this.nli_=h);s[this.hli_]<s[h]&&(this.hli_=h);this.uli_=h}else{if(!isNaN(this.Ali_)){this.dli_(t,e,this.lli_,this.uli_,this.hli_,this.nli_);this.K9_.zoi_();this.$oi_=h}this.Ali_=r;this.lli_=this.uli_=this.nli_=this.hli_=h;this.rli_=this.oli_}}isNaN(this.Ali_)||this.dli_(t,e,this.lli_,this.uli_,this.hli_,this.nli_);this.eli_();this.sli_=!1;this.K9_.end(A,n);return this.K9_.Hoi_}dli_(t,i,s,e,A,n){s!==A&&s!==n&&this.K9_.S9_(t[i[s]]);if(n<A){this.K9_.S9_(t[i[n]]);this.K9_.S9_(t[i[A]])}else if(A<n){this.K9_.S9_(t[i[A]]);this.K9_.S9_(t[i[n]])}else this.K9_.S9_(t[i[A]]);e!==A&&e!==n&&this.K9_.S9_(t[i[e]])}cli_(t){let i,s;if(this.ili_){this.Xoi_=this.joi_._ni_().length;this.ili_=!1}else{i=this.Xoi_;s=this.joi_._ni_().length;if(i<s){this.Xoi_=s;this.sli_=!0}}}J9_(t,i){const s=this.joi_.$ni_(),e=this.joi_._ni_();if(this.Y9_&&i===op.RDP&&t){(!this.T9_||this.T9_.length<s.length)&&(this.T9_=new Float64Array(s.length*2));for(let t=0;t<s.length;t++)this.T9_[t]=0;this.Bli_();rp.A9_(s,e,s.length,this.T9_,this.Zoi_);this.Y9_=!1}}Ili_(){const t=this.joi_.$ni_();if((this.sli_||this.tli_)&&(!this.fli_||this.fli_.length<t.length)){const i=t.length*2;this.fli_=new Int32Array(i);for(let t=0;t<i;t++)this.fli_[t]=t;this.tli_=!1}}Bli_(){const t=this.joi_.Hni_();this.Zoi_.clear();if(t.length>0){let i,s=t[0].tGt_(),e,A;for(i=1;i<t.length;i++){e=t[i].tGt_();if(e!==s){A=t[i-1];this.Zoi_.add(A.getPosition(),A.getValue());A=t[i];this.Zoi_.add(A.getPosition(),A.getValue());s=e}}}}getLength(t){t===void 0&&(t=this.L9_);return t?this.K9_.Ooi_:this.joi_.getLength()}Pni_(t,i){let s=arguments[2];s===void 0&&(s=this.L9_);const e=this.$ni_(s),A=this.getLength(s);let n=0,h=A-1;if(this.joi_.Jni_(this)!==!0)return new fA(0,A);if(s!==!0)return this.joi_.Pni_(t,i);n=NA.findIndex(t,e,0,A-1);n<0&&(n=~n);h=NA.findIndex(i,e,n,A-1);if(h<0){h=~h;h>A&&(h=A)}h<A&&h++;n>0&&n--;return new fA(n,h)}getValue(t){return this.joi_.getValue(t)}Cft_(t){return this.joi_.Cft_(t)}gkt_(){return this.joi_.gkt_()}Jni_(){return this.joi_.Jni_()}xct_(){return this.joi_&&typeof this.joi_.xct_=="function"?this.joi_.xct_():oA.W_}Vni_(){return this.joi_.Vni_()}Oni_(){return this.joi_.Oni_()}Em_(){return this.joi_.Em_()}pm_(){return this.joi_.pm_()}Wni_(){return this.joi_.Wni_()}zni_(){return this.joi_.zni_()}Xni_(){return this.joi_.Xni_()}jni_(t,i){return Array.isArray(t),this.joi_.jni_(t,i)}Zni_(t){return Array.isArray(t),this.joi_.Zni_(t)}};i=t([_s("geotoolkit.data.OptimizedData")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRPcHRpbWl6YXRpb25UeXBlIjoiVjlfIiwic2V0T3B0aW1pemF0aW9uIjoiTzlfIiwiZ2V0T3B0aW1pemF0aW9uIjoicTlfIiwic2V0Q29udmVyc2lvbiI6IktuaV8iLCJnZXRTYW1wbGVzIjoiSG5pXyIsImdldFNhbXBsZSI6InFuaV8iLCJzZXRNb2RlbFRvRGV2aWNlIjoiZ2xpXyIsImdldFZhbHVlQXJyYXkiOiJfbmlfIiwiZ2V0UG9zaXRpb25BcnJheSI6IiRuaV8iLCJnZXRJbmRleFJhbmdlIjoiUG5pXyIsImdldFZhbHVlQXQiOiJDZnRfIiwiZ2V0U291cmNlIjoiZ2t0XyIsImlzRm9yd2FyZE9ubHkiOiJKbmlfIiwiZ2V0RGF0YU9yZGVyIjoieGN0XyIsImdldE1pbldyYXBMZXZlbCI6IlZuaV8iLCJnZXRNYXhXcmFwTGV2ZWwiOiJPbmlfIiwiZ2V0TWluVmFsdWUiOiJFbV8iLCJnZXRNYXhWYWx1ZSI6InBtXyIsImdldE1pblBvc2l0aW9uIjoiV25pXyIsImdldE1heFBvc2l0aW9uIjoiem5pXyIsImlzT3V0ZGF0ZWQiOiJYbmlfIiwiY29udmVydFZhbHVlRnJvbVNvdXJjZSI6ImpuaV8iLCJjb252ZXJ0VmFsdWVUb1NvdXJjZSI6IlpuaV8ifX19");const fJ=Math.PI/4;var CJ=Ci(function(){let i=class t extends mq{constructor(t,i,s,e){super();const A=qi(t,{srclow:typeof t=="number"?t:0,srchigh:typeof i=="number"?i:0,dstlow:typeof s=="number"?s:0,dsthigh:typeof e=="number"?e:0},!0);this.wli_=A["srchigh"];this.Qli_=A["srchigh"]-A["srclow"];this.Eli_=A["dsthigh"];this.pli_=A["dsthigh"]-A["dstlow"]}Chi_(t){const i=fJ*(this.wli_-t)/this.Qli_;return this.Eli_-Math.tan(i)*this.pli_}reverse(t){const i=Math.atan2(this.Eli_-t,this.pli_);return this.wli_-i*this.Qli_/fJ}N_(){const t=super.N_();t["srclow"]=this.wli_-this.Qli_;t["srchigh"]=this.wli_;t["dstlow"]=this.Eli_-this.pli_;t["dsthigh"]=this.Eli_;return t}dt_(t){if((t=Es(t))==null)return this;t=qi(t,this.N_());this.wli_=t["srchigh"];this.Qli_=t["srchigh"]-t["srclow"];this.Eli_=t["dsthigh"];this.pli_=t["dsthigh"]-t["dstlow"];return this}};i=t([_s("geotoolkit.data.TangentialDataConversion")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJkaXJlY3QiOiJDaGlfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyJ9fX0g");export {xD,LD,UD,YD,KD,HD,PD,VD,zD,pM,yM,DM,vM,bM,NM,SM,Gb,Rb,kb,Fb,xb,Lb,qb,Jb,Pb,Vb,HT,Cq,dq,Bq,wq,Qq,pq,mq,Mq,vq,bq,Nq,Gq,Rq,kq,Uq,oA,Yq,Pq,Xq,_q,$q,tJ,iJ,eJ,AJ,nJ,hJ,rJ,oJ,uJ,aJ,gJ,op,IJ,CJ};