/* eslint-disable */
import {__decorate as t} from 'tslib';import {LD,$q,pq,Yq} from '@int/impl/geotoolkit.data.js';import {qi,ki,_s,BQ,xA,mA,qI,fg,sI,Gn,OA,VI,YQ,ur,TQ,hl,wr,El,qa,sB,JC,ma,cE,IE,fE,$E,tp,sp,da,As,Ur,Mi,Kr,JA,ic,Sc,ch,dA,wA,Nl,Fs,ms,Es,fA,na,rh,oh,pw,NA,QA,Au,Sa,jf,bC,bn,il,Fa,ka,YC,Ic,Du,sg,_a,sa,$o,dp,lA,Ih,ha,Pi,as,ys,gs,Fc,tI,Ja,zB,lw,ww,qB,HI,Ts,Rl,Zg,OC,sf,cQ,fQ,Qy,by,XI,TI,LI,wQ,EQ,KI,Aa,nd,Yy,Zs,ta,jA,zI,Zi,ne,Rd,sE,NC,Qe,oE,iu,ap,TA,Yu,_l,mw,su,tn,re,he,oA,Gc,Ip,GA,ie,oe,nA,wh,Ci} from '@int/impl/geotoolkit.base.js';import {YH,IK,fK,TH} from '@int/impl/geotoolkit.pdf.js';import {b0,W0,Z0,z0,O0,s1,i1,eK,c1,q0,I1} from '@int/impl/geotoolkit.widgets.js';import {_lt,tct,SAt,sat,eat,iat,ont,mnt,jht,Jgt,ynt,$ut,wAt,xAt,LAt,$At,YAt,Put,Wlt,Knt,Nnt,mlt,Sut,xut,Iht,Lut,Qut,oct,Plt,aAt,nAt,mut,Igt,wut,Qlt,Prt,tut,Rrt,GAt,kut,Hlt,Flt,hAt,Tlt,$et,qut,srt,wrt,Uut,Fgt,$gt} from '@int/impl/geotoolkit.welllog.js';import {lG,nU,OS,BG,WS,LG,cG,uG,RF,SF,rU,gU,Wk,IU,wU,cF,tF,iY,jS,sG,rY,nY,IY,wF,MF,dD,WF,Nx,Dx,iv,Jx,QL,xk,DL,Ux,cN,fL,CL,PL,sL,Tk,$x,iL,AL,eL,LL,yx,Jk,ux,wD,mD,aD,QD,hx,$F,Gx,Lk,lx,rx,HF,kF,cx,jF,BD,SS,SD,RD,uD,JL,qL,kS,FS,Ok} from '@int/impl/geotoolkit.controls.js';var lct=function(){let i=class t extends LD{constructor(t){ki("geotoolkit.welllog.widgets.data.CurveDataObject is deprecated since 4.0. Not needed anymore.");super(qi(t,{onload:(t,i,s)=>{s&&s.call([],[])}}))}getData(t,i){this.N_()["onload"](this,t,i)}};i=t([_s("geotoolkit.welllog.widgets.data.CurveDataObject")],i);return i}();var uct=Ci({dqs_:"visibleDepthLimitsChanged",gC_:"orientationChanged",Bqs_:"depthrangechanged",wqs_:"onTracksSizeChanged",Qqs_:"updating",Eqs_:"visualsSelected"},2,"eyJWaXNpYmxlRGVwdGhMaW1pdHNDaGFuZ2VkIjoiZHFzXyIsIk9yaWVudGF0aW9uQ2hhbmdlZCI6ImdDXyIsIkRlcHRoUmFuZ2VDaGFuZ2VkIjoiQnFzXyIsIlRyYWNrc1NpemVDaGFuZ2VkIjoid3FzXyIsIkRhdGFVcGRhdGluZyI6IlFxc18iLCJWaXN1YWxzU2VsZWN0ZWQiOiJFcXNfIn0g");var act=Ci(function(){let i=class t extends BQ{constructor(t){const i=t.Dpi_().getBounds().clone();i.de_(t.pqs_());super(i.Ie_(),i.Ts_(),"",new Date);this.I4t_=t;this.mqs_=new xA(i.Ie_(),i.Ts_());this.bf_=new mA(0,0,i.Ie_(),i.Ts_());this.RP_=new mA(0,0,this.bf_.Ie_(),this.bf_.Ts_());this.w8_=t.Dpi_()}pV_(){return this.mqs_}render(t,i,s){i["scaling"]===qI.jP_||i["options"]["orientation"]===fg.ux_?this.yqs_(t,i,s):this.Dqs_(t,i,s)}yqs_(t,i,s){if(t==null||i==null||s==null)return;const e=i["options"]["orientation"]===fg.ux_,A=i["margin"]["top"],n=i["margin"]["left"],h=i["margin"]["right"],r=i["margin"]["bottom"],o=i["page"].Ie_(),l=i["page"].Ts_(),u=this.w8_.getBounds().Ts_(),a=e?l-(A+r):o-(n+h),g=(new sI).kY_(!0).aq_(!0).ht_(new mA(0,0,a,u));if(i["scaling"]!==qI.jP_){const t=this.w8_.getBounds().clone();g.Lq_(t.setX(0).setY(0))}const c=this.w8_.ut_(),I=this.w8_.getParent(),f=I.FY_(this.w8_);I.rd_(!1);this.w8_.rd_(!1);g.xY_(0,this.w8_);e?this.w8_.translate(s.getPosition().getY(),0):this.w8_.translate(s.getPosition().getX(),0);e&&this.w8_.Eq_(!0).pq_(!0);g.render(t);I.xY_(f,this.w8_);this.w8_.Eq_(!1);this.w8_.pq_(!1);this.w8_.at_(c);I.rd_(!0);this.w8_.rd_(!0)}Dqs_(t,i,s){if(t==null||i==null||s==null)return;const e=t.ek_(),A=i["truescale"],n=s.nV_(this.I4t_.Dpi_()).Ie_(),h=this.bf_.clone().setY(0).de_(n);if(h.$s_(t.rS_())===!1)return;const r=this.Mqs_(e,i),o=Gn.xI_(this.RP_,h,!1,!1,!1);t.save();const l=Gn.multiply(Gn.kI_(e["margin"]["left"],e["margin"]["top"]),A);t.aS_({truescale:l});t.dI_(new Gn);t instanceof YH&&t.HV_(r);const u=this.w8_.ut_(),a=this.w8_._C_();this.w8_.rd_(!1);this.w8_.at_(o);this.w8_.render(t);this.w8_.at_(u);this.w8_.rd_(a);t.dI_(new Gn);t.aS_({truescale:new Gn});t instanceof YH&&t.HV_(void 0);t.restore()}n8_(){const t=this.I4t_;return function(i){return i!=null&&(!i.hV_(t.Dpi_())&&i.hV_(t.UBs_()))}}Mqs_(t,i){const s=t["outputunit"],e=undefined,A=OA.Ai_().gn_("px"),n=A.wn_(i["margin"]["left"],s),h=A.wn_(i["margin"]["top"],s),r=A.wn_(i["margin"]["bottom"],s),o=A.wn_(i["margin"]["right"],s);let l=A.wn_(t["pageinpixels"]["width"],s),u=A.wn_(t["pageinpixels"]["height"],s);if(t["page"].KH_()!==VI.aV_){l=A.wn_(t["pageinpixels"]["height"],s);u=A.wn_(t["pageinpixels"]["width"],s)}l-=n+o;u-=h+r;return new mA(n,h,o+l,h+u)}};i=t([_s(null)],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREZWZhdWx0U2l6ZSI6InBWXyIsImlzRWxlbWVudFZpc2libGUiOiJuOF8ifX19");var gct=function(){let i=class t extends W0{constructor(t){let i;t instanceof b0?i=t:t!=null&&t["annotationoverlay"]!=null&&(i=t["annotationoverlay"]);super(t=qi(t,{annotationoverlay:i},!0));this.vqs_=i.yei_().UBs_()}bqs_(t){const i=this.bFt_(this.vqs_,t);if(!this.vqs_.ot_().contains(i))return null;const s=2,e=this.vqs_.Nqs_(i.getX(),s);return e!=null?e instanceof _lt?e:e["right"]==null?null:e["left"]:null}$Ki_(t){const i=this.iHi_();super.$Ki_(t);const s=this.sHi_();if(s!=null&&s!=="")return this;if(i===t)return this;i!=null&&this.I4t_.Sqs_(i,!1);this.iHi_()!=null&&this.I4t_.Sqs_(this.iHi_(),!0);return this}eHi_(t){return this.bqs_(t)}};i=t([_s("geotoolkit.welllog.widgets.overlays.AnnotationTool")],i);return i}();var cct=Ci(function(){let i=class t extends Z0{constructor(t,i){super(t,i);this.Gqs_=t.UBs_();this.s6_(YQ.z8_);this.Rqs_=()=>{this.DHi_()};this.yei_().on(uct.gC_,this.Rqs_).on(uct.wqs_,this.Rqs_)}dispose(){this.yei_()&&this.yei_().off(uct.gC_,this.Rqs_).off(uct.wqs_,this.Rqs_);super.dispose()}A4t_(t){const i=this.yei_().UBs_().getParent();t["annotationoverlay"]=this;this.yei_().C5_("overlay").add([this.wHi_=new lG(i).Kv_(!0).add([this.QHi_=new gct(t).Kv_(!1).on(O0.kKi_,((t,i,s)=>{this.hasEventListener(z0.uHi_)&&this.notify(z0.uHi_,this,s);this.notify(z0.fHi_,this,s)})).on(O0.FKi_,((t,i,s)=>{this.notify(z0.CHi_,this,s)})).on(O0.xKi_,((t,i,s)=>{this.notify(z0.xKi_,this,s)})).on(O0.LKi_,((t,i,s)=>{this.hasEventListener(z0.lHi_)&&this.notify(z0.lHi_,this,s);this.notify(z0.LKi_,this,s)}))])])}LM_(){return this.Gqs_?this.Gqs_:this.yei_().UBs_()}};i=t([_s("geotoolkit.welllog.widgets.overlays.AnnotationOverlay")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNb2RlbCI6IkxNXyJ9fX0g");const Ict="cg_type",fct=function(t){return typeof t=="string"&&t.match(/^#href\(.*\)$/)?/^#href\((.*)\)$/.exec(t)[1]:null},Cct=function(t){return(t=t.toLowerCase())==="log"?tct.hqs_:t==="index"?tct.Aqs_:t==="linear"?tct.nqs_:t==="annotated"?tct.oqs_:t==="tangential"?tct.rqs_:t==="stacked"?tct.lqs_:null},dct=function(t){return t===tct.hqs_?"log":t===tct.Aqs_?"index":t===tct.nqs_?"linear":t===tct.oqs_?"annotated":t===tct.rqs_?"tangential":t===tct.lqs_?"stacked":"custom"},Bct=function(t,i){let s=ur(i).Gw_((function(i){return i.dn_()===t})).xw_();if(s==null){s=(new TQ).HC_(t).nf_(!0).KC_(!1);i.GY_(s)}return s},wct=function(t,i,s){t.Tw_((function(e,A){if(s&&!s(e,A))return;const n=A.getValue("id"),h=n!=null?ur(i).Gw_('node => id(node) == "'+n+'"').xw_():null;h&&t.Jw_(h);const r=A.Uw_(A.getValue(Ict));h?t.Pw_():i.GY_(r)}))};let Qct=null;var Ect=function(){var t=class{constructor(){this.map={};this.TAi_={};this.$3t_("linestyle",hl.D_());this.$3t_("loggradient",SAt.D_());this.$3t_("fillstyle",wr.D_());this.$3t_("imagepattern",El.D_());this.$3t_("textstyle",qa.D_());this.$3t_("linearvaluegrid",sat.D_());this.$3t_("log10valuegrid",eat.D_());this.$3t_("tangentialvaluegrid",sB.D_());this.$3t_("horizontalgrid",iat.D_());this.$3t_("adaptivetickgenerator",JC.D_());this.$3t_("symbol",ma.D_());this.$3t_("circle",cE.D_());this.$3t_("cross",IE.D_());this.$3t_("diamond",fE.D_());this.$3t_("plus",$E.D_());this.$3t_("square",tp.D_());this.$3t_("star",sp.D_());this.$3t_("triangle",da.D_());this.$3t_("referenceline",ont.D_());this.$3t_("logfill",mnt.D_());this.$3t_("discretecurve",jht.D_());this.$3t_("rasterlog",Jgt.D_());this.$3t_("compositecurve",ynt.D_());this.$3t_("cutoffvisual",$ut.D_())}static Ai_(){Qct==null&&(Qct=new t);return Qct}$3t_(t,i){this.map[t]=i;this.TAi_[i]=t}t4t_(){return this.map}getType(t){const i=t!=null&&typeof t.D_=="function"?t.D_():null;return i!=null?this.TAi_[i]!=null?this.TAi_[i]:i:null}i4t_(t){const i=this.map[t]!=null?this.map[t]:t;return i!=null?As(i):null}};return t}();const pct={save:function(t,i){const s=Ect.Ai_().getType(t);s!=null&&i.Oi_(Ict,s);const e=i.WE_(t);e!=null&&i.Oi_("cg_id",e);let A=typeof t.N_=="function"?t.N_():t;t.D_&&(A=Ur.Ai_().JE_(A,t.D_()));for(const t in A)if(A.hasOwnProperty(t)&&t!=="cg_id"&&A[t]!==void 0){const s=A[t];if(s instanceof Mi.HTMLImageElement)continue;if(typeof s=="object"&&s!==null){const e=i.WE_(s);if(e==null){const e=Ect.Ai_().getType(s);i.zE_(t,s,e)}else i.Oi_(t,"#href("+e+")")}else typeof s!="function"&&i.Oi_(t,s)}i.commit()},load:function(t,i){const s=t.Lw_&&t.Lw_();let e=i!=null?i:null;if(e==null){const i=t.getValue(Ict),s=t.Vw_();i!=null&&(e=s!=null&&Ect.Ai_().getType(s)===i?s:Ect.Ai_().i4t_(i));e==null&&(e={})}let A=typeof e.dt_=="function"?{}:e;t.Tw_((function(t,i){if(t==="cg_id")return;const n=i.getValue(Ict),h=i.getValue(null,n),r=fct(h);r==null?A[t]=h:i.Kw_(r)!=null?A[t]=i.Kw_(r):i.Yw_(r,(function(i){A[t]=i;if(typeof e.dt_=="function"){A=Ur.Ai_().JE_(A,e.D_&&e.D_(),s);e.dt_(A)}}))}));if(typeof e.dt_=="function"){A=Ur.Ai_().JE_(A,e.D_&&e.D_(),s);e.dt_(A)}const n=t.getValue("cg_id");n!=null&&t.Hw_(n,e);return e}},mct=function(t,i){i.getValue("visible")!=null&&t.nf_(i.getValue("visible"));i.Uw_("linestyle","linestyle")!=null&&t.rB_(i.Uw_("linestyle","linestyle"));i.Uw_("linestyle","borderlinestyle")!=null&&t.lQi_(i.Uw_("linestyle","borderlinestyle"));i.Uw_("fillstyle","fillstyle")!=null&&t.iQ_(i.Uw_("fillstyle","fillstyle"));i.Uw_("textstyle","textstyle")!=null&&t.g_(i.Uw_("textstyle","textstyle"));i.Uw_("padding","padding")!=null&&t.Iq_(i.Uw_("padding","padding"));i.Uw_("layoutstyle","layoutstyle")!=null&&t.ft_(i.Uw_("layoutstyle","layoutstyle"),!0)},yct=function(t,i){i.Oi_("visible",t.$C_());t.gt_()&&i.zE_("linestyle",t.gt_(),"linestyle");t.uQi_()&&i.zE_("borderlinestyle",t.uQi_(),"linestyle");t.ct_()&&i.zE_("fillstyle",t.ct_(),"fillstyle");t.FE_()&&i.zE_("textstyle",t.FE_(),"textstyle");t.uG_()&&i.zE_("padding",t.uG_(),"padding");t.NS_()&&i.zE_("layoutstyle",t.NS_(),"layoutstyle")},Dct=function(t,i,s){i.Oi_("display_mode",t.Cds_());t.Lds_()!==wAt.Dt_&&i.Oi_("scale_type",t.Lds_());t.UIs_()!==0&&i.Oi_("micro_positon_left",t.UIs_());t.YIs_()!==1&&i.Oi_("micro_positon_right",t.YIs_());if(t.YNt_()!==0){i.Oi_("gapfillcutoff_value",t.YNt_());let s=t.Rds_();s instanceof JA&&(s=s.fn_());i.Oi_("gapfillcutoff_unit_symbol",s)}if(t.TNt_()!==0){i.Oi_("gap_value",t.TNt_());let s=t.Fds_();s instanceof JA&&(s=s.fn_());s!=null&&i.Oi_("gap_unit_symbol",s)}t.ePi_()!==$q.Dt_&&i.Oi_("interpolation",t.ePi_());t.ZY_()!==!1&&i.Oi_("horizontal_flip",t.ZY_());t.zCs_()===!0&&i.Oi_("wrapping",t.zCs_());(t.MBs_()!==xAt.VI_||t.zCs_()||t.RY_())&&i.Oi_("limits_type",t.MBs_());if(t.MBs_()===xAt.Tfs_){i.Oi_("custom_limits_minimum",t.lds_());i.Oi_("custom_limits_maximum",t.uds_())}else if(t.zCs_()){i.Oi_("custom_limits_minimum",t.cds_());i.Oi_("custom_limits_maximum",t.Ids_())}t.bBs_()!=null&&t.bBs_()!==ic.sx_()&&i.zE_("valueformat",t.bBs_(),"valueformat");i.zE_("linegradient",t.iBs_());i.zE_("linestyle",t.gt_(),"linestyle");i.zE_("textstyle",t.FE_(),"textstyle");if(s){const e=s.bpi_(t);e instanceof Knt?i.zE_("header",e,"adaptivecurveheader"):i.zE_("header",e)}t.Vds_()===!0&&i.Oi_("optimization_curve",!0);t.Wds_()===!0&&i.Oi_("optimization_bar",!0);t.Xds_()===!0&&i.Oi_("optimization_symbol",!0);t.Zds_()===!0&&i.Oi_("optimization_value",!0)},Mct=function(t,i){const s=i.getValue("name"),e=i.getValue("id");e!=null&&t.JC_(e);t.HC_(s);const A=i.getValue("basename");A!=null&&t.SIs_(A);const n=i.getValue("unit_symbol");n!=null&&t.qCs_(OA.Ai_().gn_(n));const h=i.getValue("display_mode");h!=null&&t.dds_(h);const r=i.getValue("logarithmic_scale");r!=null&&t.xds_(r.toString().toLowerCase()==="true"?wAt.Ay_:wAt.Dt_);const o=i.getValue("scale_type");o!=null&&t.xds_(o.toString());const l=i.getValue("interpolation");l!=null&&t.soi_(l);const u=i.getValue("wrapping");u!=null&&t.XCs_(u.toString().toLowerCase()==="true");let a=i.getValue("limits_type");if(a!=null){const s=parseInt(a);Number.isNaN(s)||(a=LAt[s]);if(a===xAt.Yfs_)t.nds_(!0);else{const s=parseFloat(i.getValue("custom_limits_minimum")),e=parseFloat(i.getValue("custom_limits_maximum"));isNaN(s)||isNaN(e)?a===xAt.VI_&&t.rds_():t.zCs_()?t.tds_(s,e):t.ZCs_(s,e)}}const g=i.getValue("horizontal_flip");g!=null&&t.pq_(g.toString().toLowerCase()==="true");let c=i.getValue("micro_positon_left"),I=i.getValue("micro_positon_right");c=c!=null?parseFloat(c):0;I=I!=null?parseFloat(I):1;t.Oqi_(c,I);const f=i.getValue("gapfillcutoff_value");f!=null&&t.ENt_(f);t.Gds_(OA.Ai_().gn_(i.getValue("gapfillcutoff_unit_symbol")));const C=i.getValue("gap_value");C!=null&&t.pNt_(C);t.kds_(OA.Ai_().gn_(i.getValue("gap_unit_symbol")));const d=i.Uw_("valueformat","valueformat");d!=null&&t.vBs_(d);const B=i.Uw_("linestyle","linestyle");B!=null&&t.rB_(B);const w=i.Uw_("loggradient","linegradient");w!=null&&t.uBs_(w);const Q=i.Uw_("textstyle","textstyle");Q!=null&&t.g_(Q);const E=i.getValue("optimization_curve");E!=null&&t.Pds_(E.toString().toLowerCase()==="true");const p=i.getValue("optimization_bar");p!=null&&t.Ods_(p.toString().toLowerCase()==="true");const m=i.getValue("optimization_symbol");m!=null&&t.wNt_(m.toString().toLowerCase()==="true");const y=i.getValue("optimization_value");y!=null&&t.jds_(y.toString().toLowerCase()==="true")},vct=function(t,i,s){s.Tw_(((s,e)=>{if(s==="header"&&i!=null){const s=e.getValue("cg_type","string"),A=i.bpi_(t);if(s==null){if(A){e.Jw_(A);e.Uw_("adaptivecurveheader");e.Pw_()}}else{const n=A&&(A.D_()===s||Ect.Ai_().getType(A)===s);n&&e.Jw_(A);const h=e.Uw_(s);n?e.Pw_():h instanceof Nnt?i.tMs_(t,h):ki(s+" is not recognized and not loaded!")}}}),"header")},bct=function(t,i){const s=i.getValue("symbol_decimation");s!=null&&t.mBs_(s);const e=i.getValue("decimation_rate");e!=null&&t.kBs_(e);const A=i.getValue("text_reference");A!=null&&t.GBs_(A);let n=i.getValue("text_anchor");if(n!=null){typeof n=="number"&&(n=wA(n));t.Ift_(n)}const h=i.getValue("cg_id");h!=null&&i.Hw_(h,t);let r;(r=i.Uw_("symbol","symbol"))!=null&&t.k6_(r);(r=i.getValue("symbol","nullsymbol"))!=null&&t.QBs_(r)};let Nct=null;var Sct=Ci(function(){var i;let s=i=class t extends Kr{constructor(){super();this.s4t_()}s4t_(){const t=Ect.Ai_().t4t_();for(const i in t)t.hasOwnProperty(i)&&this.OE_(i,pct);this.OE_("default",pct);let i,s,e;this.OE_("geotoolkit.welllog.widgets.visuals.LogTrackContainer",{save:(t,i)=>{i.Oi_("type","welllog");const s=i.up_("tracks","array");for(let i=0;i<t.qY_();i++){const e=t.HY_(i);e instanceof _lt&&s.zE_(i,e,"track")}s.commit();i.commit()},load:null});const A=t=>{for(let i=t.LRs_()-1;i>=0;i--)t.removeTrack(t.URs_(i))};this.OE_("geotoolkit.welllog.widgets.WellLogWidget",{save:function(t,i){i.Oi_("type","welllog");const s=i.up_("tracks","array");for(let i=0;i<t.UBs_().qY_();i++){const e=t.UBs_().HY_(i);e instanceof _lt&&s.zE_(i,e,"track")}s.commit();fg.ax_!==t.KH_()&&i.Oi_("orientation",t.KH_());i.commit()},load:function(t){const i=t.getValue("type");if(i==null||i!=="welllog")throw new Error("not supported");const s=t.Kw_("#widget"),e=s||t.Kw_("#trackContainer");if(!e)return null;A(e);t.Tw_((function(t,i){t==="tracks"&&i.Tw_((function(t,i){i.Uw_("track")}))}));if(s){const i=t.getValue("orientation");i!=null?s.setOrientation(i):s.setOrientation(fg.ax_)}return s}});this.OE_("track",{save:function(t,A){e=t;const n=t.zC_();let h="custom",r,o;n!=null&&n["type"]!=null&&(h=dct(n["type"]));const l={name:t.dn_(),id:t.XC_(),type:h};t.getBounds()!=null&&t.getBounds().Ie_()!=null&&(l["width"]=t.getBounds().Ie_());const u=A.lp_(l);A.Oi_(Ict,"track");u.zE_("block",t.CSs_());const a=e.Id_("geo_headers_info");if(a!=null){const t=a.zDi_;if(t!=null){i=t.sMs_();u.zE_("header",t,"trackheader")}const e=a.WDi_;if(e!=null){s=e.sMs_();u.zE_("footer",e,"trackfooter")}}t.ct_()!=null&&u.zE_("fillstyle",t.ct_(),"fillstyle");if(h!=="custom")if(h==="index"){n!=null&&typeof n["index"]=="string"&&u.Oi_("index",n["index"]);for(let i=0;i<t.qY_();++i){r=t.HY_(i);if(r instanceof Put){u.zE_("axis",r,"axis");break}}}else if(h==="linear"||h==="log"||h==="tangential"){let i=0;const s=u.up_("grids");let e,A;const n=[];ur(t).Gw_((function(t){A=t.dn_();if(A==="IndexGrids"){e=t;return!0}if(A==="LinearGrids"||A==="Log10Grids"||A==="TangentialGrids"){n.push(t);return!0}return!1})).select((function(){}));if(e&&e.qY_()>0){o=s.up_("index","array");for(let t=0;t<e.qY_();t++)o.zE_(t,e.HY_(t));o.commit()}if(n.length>0){o=s.up_("value","array");n.forEach((function(t){for(let s=0;s<t.qY_();s++)o.zE_(i++,t.HY_(s))}));o.commit()}s.commit()}o=u.up_("visuals","array");let g=0;for(let i=0;i<t.qY_();++i){r=t.HY_(i);r instanceof ynt?o.zE_(g++,r,"compositecurve"):r instanceof $At?o.zE_(g++,r,"curve"):r instanceof $ut?o.zE_(g++,r,"cutoffvisual"):r instanceof jht?o.zE_(g++,r,"discretecurve"):r.D_()===mnt.D_()?o.zE_(g++,r,"fill"):r instanceof Jgt?o.zE_(g++,r,"rasterlog"):r instanceof Put&&h!=="index"?o.zE_(g++,r):r instanceof TQ||r instanceof Sc||r instanceof Wlt&&r===t.CSs_()||r instanceof Put||o.zE_(g++,r)}if(t instanceof Sut)for(let i=0;i<t.LRs_();++i){r=t.URs_(i);o.zE_(g++,r,"track")}o.commit();A.commit()},load:function(t){const A=t.getValue("type"),n=t.getValue("name"),h=t.getValue("width"),r=t.Kw_("#stackedtrack");let o=null;const l=undefined,u=t.Kw_("#widget")||t.Kw_("#trackContainer"),a=t.Kw_("#headersContainer");i=a?a.sMs_():null;const g=t.Kw_("#footersContainer");s=g?g.sMs_():null;if(A==null||A==="custom"||r){o=A==="custom"?new _lt:u.kqs_().gqs_(Cct(A),{width:h});o.ht_(new mA(0,0,h,100));if(r)r.addTrack(o);else{u.Fqs_(u.LRs_(),o);u.OFi_(o)}h!=null&&o.de_(h)}else{o=u.Fqs_(u.LRs_(),{type:Cct(A),width:h});u.OFi_(o);t.getValue("index")!=null&&(o.zC_()["index"]=t.getValue("index"))}if(o){e=o;n!=null&&o.HC_(n);const A=t.getValue("id");A!=null&&o.JC_(A);i&&t.Uw_("trackheader","header");s&&t.Uw_("trackfooter","footer");const h=t.Uw_("fillstyle","fillstyle");h!=null&&o.iQ_(h);const r=ur(o).Gw_((function(t){return t.XC_()==="AXIS"})).xw_();t.Jw_(r);const l=t.Uw_("axis","axis");t.Pw_();l!=null&&r==null&&o.GY_(l);t.Tw_((function(i,s){if(i==="block"){const i=o.CSs_();s.Jw_(i);const e=s.Uw_();t.Pw_();e!=null&&i==null&&o.GY_(e)}else if(i==="visuals")s.Tw_((function(t,i){if(i.getValue(Ict)==="compositecurve")o.GY_(i.Uw_("compositecurve"));else if(i.getValue(Ict)==="curve")o.GY_(i.Uw_("curve"));else if(i.getValue(Ict)==="cutoffvisual")o.GY_(i.Uw_("cutoffvisual"));else if(i.getValue(Ict)==="discretecurve")o.GY_(i.Uw_("discretecurve"));else if(i.getValue(Ict)==="fill")o.GY_(i.Uw_("fill"));else if(i.getValue(Ict)==="rasterlog")o.GY_(i.Uw_("rasterlog"));else if(i.getValue(Ict)==="track"){i.Hw_("#stackedtrack",o);i.Uw_("track");i.Hw_("#stackedtrack",null)}else{const t=i.Uw_();t!=null&&t instanceof ch&&o.GY_(t)}}));else if(i==="grids"){const t=Bct("Grids",o);s.Tw_((function(i,s){if(i==="index"){const i=Bct("IndexGrids",t);wct(s,i)}else if(i==="value"){const i=Bct("LinearGrids",t);wct(s,i,(function(t,i){return i.getValue(Ict)==="linearvaluegrid"||i.getValue(Ict)==="horizontalgrid"}));const e=Bct("Log10Grids",t);wct(s,e,(function(t,i){return i.getValue(Ict)==="log10valuegrid"}));const A=Bct("TangentialGrids",t);wct(s,A,(function(t,i){return i.getValue(Ict)==="tangentialvaluegrid"}))}}))}}))}return o}});this.OE_("adaptivecurveheader",{save:function(t,i){const s=t;i.Oi_("cssclass",s.WC_());yct(s,i);const e=s.getSettings();i.Oi_("gap",e["gap"]);i.Oi_("order",e["order"]);const A=s.J2_(),n=i.up_("elements","array");for(let t=0;t<A.length;t++)n.zE_(t,A[t]);n.commit();i.commit()},load:function(t){const i=t.Vw_();i.qC_(t.getValue("cssclass"));mct(i,t);const s={};t.getValue("gap")!=null&&(s["gap"]=t.getValue("gap"));t.getValue("order")!=null&&(s["order"]=t.getValue("order"));i.B_t_(s);t.Tw_((function(t,s){t==="elements"&&s.Tw_((function(t,s){const e=s.Uw_(t);i.oO_(e["name"],e)}))}))}});this.OE_("axisvisualheader",{save:function(t,i){const s=t;yct(s,i);i.Oi_("headertype",s.GDs_());i.Oi_("valuetypestyle",s.SNs_());i.Oi_("autolabelrotation",s.T__());i.Oi_("labelrotationangle",s.kx_());i.commit()},load:function(t){const i=t.Vw_();mct(i,t);t.getValue("headertype")!=null&&i.SDs_(t.getValue("headertype"));if(t.getValue("valuetypestyle")!=null){let s=t.getValue("valuetypestyle");typeof s=="number"&&(s=mlt[s]);i.GNs_(s)}t.getValue("autolabelrotation")!=null&&i.Y__(t.getValue("autolabelrotation"));t.getValue("labelrotationangle")!=null&&i.Wx_(t.getValue("labelrotationangle"));return i}});const n=t=>({save:function(A,n){const h=A;n.Oi_(Ict,t);n.Oi_("visible",h.$C_());n.Oi_("visibletracktitle",h.gRs_());n.Oi_("firsttolast",h.CRs_());n.Oi_("titlefirst",h.IRs_());n.Oi_("toptobottom",h.BRs_());n.Oi_("holdtitle",h.QRs_());n.Oi_("isbordervisible",h.DSs_());h.vSs_()&&n.zE_("borderfillstyle",h.vSs_(),"fillstyle");h.uQi_()&&n.zE_("borderlinestyle",h.uQi_(),"linestyle");const r=t==="trackheader"?i?i.bpi_(e):null:s?s.bpi_(e):null;if(r){const t=n.up_("title");t.Oi_("visible",r.$C_());r.gt_()&&t.zE_("linestyle",r.gt_(),"linestyle");r.uQi_()&&t.zE_("borderlinestyle",r.uQi_(),"linestyle");r.ct_()&&t.zE_("fillstyle",r.ct_(),"fillstyle");r.FE_()&&t.zE_("textstyle",r.FE_(),"textstyle");t.Oi_("adaptiveheight",r.HNs_());t.Oi_("autolabelrotation",r.T__());t.Oi_("labelrotationangle",r.kx_());t.commit()}n.commit()},load:s=>{if(t==="trackfooter"&&s.getValue("cg_type")!==t)return this.jE_("default").load(s);const A=s.Kw_("#widget")||s.Kw_("#trackContainer"),n=t==="trackheader"?A.OGs_(e):A.xqs_(e),h=s.getValue("visible");h!=null&&n.nf_(h);const r=s.getValue("visibletracktitle");r!=null&&n.aRs_(r);const o=s.getValue("firsttolast");o!=null&&n.fRs_(o);const l=s.getValue("titlefirst");l!=null&&n.cRs_(l);const u=s.getValue("toptobottom");u!=null&&n.dRs_(u);const a=s.getValue("holdtitle");a!=null&&n.wRs_(a);const g=s.getValue("isbordervisible");g!=null&&n.ySs_(g);const c=s.Uw_("linestyle","borderlinestyle");c!=null&&n.lQi_(c);const I=s.Uw_("fillstyle","borderfillstyle");I!=null&&n.MSs_(I);s.Tw_((function(t,s){if(t==="title"){const t=i?i.bpi_(e):null;if(t){const i=s.getValue("visible");if(i!=null&&r==null){t.nf_(i);n.aRs_(i)}s.Uw_("linestyle","linestyle")!=null&&t.rB_(s.Uw_("linestyle","linestyle"));s.Uw_("linestyle","borderlinestyle")!=null&&t.lQi_(s.Uw_("linestyle","borderlinestyle"));s.Uw_("fillstyle","fillstyle")!=null&&t.iQ_(s.Uw_("fillstyle","fillstyle"));s.Uw_("textstyle","textstyle")!=null&&t.g_(s.Uw_("textstyle","textstyle"));s.getValue("adaptiveheight")!=null&&t.KNs_(s.getValue("adaptiveheight"));s.getValue("autolabelrotation")!=null&&t.Y__(s.getValue("autolabelrotation"));s.getValue("labelrotationangle")!=null&&t.Wx_(s.getValue("labelrotationangle"))}}}));return n}});this.OE_("trackheader",n("trackheader"));this.OE_("trackfooter",n("trackfooter"));this.OE_("curve",{save:function(t,s){const e=t;s.Oi_(Ict,"curve");s.Oi_("id",e.XC_());s.Oi_("name",e.dn_());e.GIs_()!=null&&s.Oi_("basename",e.GIs_());e.Bvt_()!=null&&s.Oi_("unit_symbol",e.Bvt_().fn_());Dct(e,s,i);let A,n;(A=e.FCs_())!=null&&s.Oi_("reference_curve","#href("+s.Hw_(A)+")");e.DBs_()!==1&&s.Oi_("symbol_decimation",e.DBs_());e.FBs_()!==1&&s.Oi_("decimation_rate",e.FBs_());e.RBs_()!==YAt.Jfs_&&s.Oi_("text_reference",e.RBs_());e.hMi_()!==dA.ie_&&s.Oi_("text_anchor",e.hMi_());s.Oi_("cg_id",s.WE_(e));(n=e.fn_())!=null&&s.zE_("symbol",n,"symbol");(n=e.EBs_())!=null&&s.zE_("nullsymbol",n,"symbol");s.commit()},load:function(t){const s=new $At;Mct(s,t);vct(s,i,t);const e=t.getValue("reference_curve");if(e!=null){const i=fct(e);t.Kw_(i)!=null?s.RCs_(t.Kw_(i)):t.Yw_(i,(function(t){s.RCs_(t)}))}bct(s,t);return s}});this.OE_("compositecurve",{save:function(t,s){let e;const A=t;s.Oi_(Ict,"compositecurve");s.Oi_("id",A.XC_());s.Oi_("name",A.dn_());(e=A.Bvt_())!=null&&s.Oi_("unit_symbol",e.fn_());A.GIs_()!=null&&s.Oi_("basename",A.GIs_());Dct(A,s,i);s.Oi_("left_filltype",A.Kws_());s.Oi_("right_filltype",A.Hws_());(e=A.Pws_())!=null&&(e instanceof ont&&e.getParent()==null?s.Oi_("left_reference",e.getValue()):s.Oi_("left_reference","#href("+s.Hw_(e)+")"));(e=A.Ows_())!=null&&(e instanceof ont&&e.getParent()==null?s.Oi_("right_reference",e.getValue()):s.Oi_("right_reference","#href("+s.Hw_(e)+")"));(e=A.Yws_())!=null&&s.zE_("left_fill",e,"fill");(e=A.Tws_())!=null&&s.zE_("right_fill",e,"fill");(e=A.FCs_())!=null&&s.Oi_("reference_curve","#href("+s.Hw_(e)+")");A.DBs_()!==1&&s.Oi_("symbol_decimation",A.DBs_());A.FBs_()!==1&&s.Oi_("decimation_rate",A.FBs_());A.RBs_()!==YAt.Jfs_&&s.Oi_("text_reference",A.RBs_());A.hMi_()!==dA.ie_&&s.Oi_("text_anchor",A.hMi_());s.Oi_("cg_id",s.WE_(A));(e=A.fn_())!=null&&s.zE_("symbol",e,"symbol");(e=A.EBs_())!=null&&s.zE_("nullsymbol",e,"symbol");s.commit()},load:function(t){const s=Ect.Ai_().i4t_("compositecurve");let e;Mct(s,t);const A=t.getValue("left_filltype");A!=null&&s.Wws_(A);const n=t.getValue("right_filltype");n!=null&&s.zws_(n);const h=t.getValue("left_reference");if(h!=null)if(typeof h=="number")s.Jws_(new ont(h));else{e=fct(h);t.Kw_(e)!=null?s.Jws_(t.Kw_(e)):t.Yw_(e,(function(t){s.Jws_(t)}))}const r=t.getValue("right_reference");if(r!=null)if(typeof r=="number")s.Vws_(new ont(r));else{e=fct(r);t.Kw_(e)!=null?s.Vws_(t.Kw_(e)):t.Yw_(e,(function(t){s.Vws_(t)}))}const o=t.Uw_("fill","left_fill");s.jws_(o);const l=t.Uw_("fill","right_fill");s.Zws_(l);const u=t.getValue("reference_curve");if(u!=null){e=fct(u);t.Kw_(e)!=null?s.RCs_(t.Kw_(e)):t.Yw_(e,(function(t){s.RCs_(t)}))}vct(s,i,t);bct(s,t);return s}});this.OE_("discretecurveheader",{save:function(t,i){const s=t;i.Oi_("cssclass",s.WC_());yct(s,i);if(s instanceof Knt){const t=s.getSettings();i.Oi_("gap",t["gap"]);i.Oi_("order",t["order"])}i.Oi_("cssclass",s.WC_());i.Oi_("orientation",s.KH_());i.Oi_("curvenamevisible",s.ays_());i.commit()},load:function(t){const i=t.Vw_();i.qC_(t.getValue("cssclass"));mct(i,t);if(i instanceof Knt){const s={};t.getValue("gap")!=null&&(s["gap"]=t.getValue("gap"));t.getValue("order")!=null&&(s["order"]=t.getValue("order"));i.B_t_(s)}t.getValue("orientation")!=null&&i.setOrientation(t.getValue("orientation"));t.getValue("curvenamevisible")!=null&&i.uys_(t.getValue("curvenamevisible"))}});this.OE_("discretecurve",{save:function(t,s){const e=t;s.Oi_("cg_id",s.WE_(e));s.Oi_(Ict,"discretecurve");s.Oi_("id",e.XC_());s.Oi_("name",e.dn_());e.GIs_()!=null&&s.Oi_("basename",e.GIs_());e.WC_()!=null&&s.Oi_("cssclass",e.WC_());e.$C_()!==!0&&s.Oi_("visible",e.$C_());s.Oi_("displaymode",e.Cds_());e.UIs_()!==0&&s.Oi_("micro_positon_left",e.UIs_());e.YIs_()!==1&&s.Oi_("micro_positon_right",e.YIs_());s.Oi_("filltype",e.EVi_());s.zE_("fillInfo",e._ms_());s.Oi_("textposition",e.nys_());s.Oi_("textorientation",e.hys_());s.zE_("textstyle",e.FE_(),"textstyle");s.zE_("linestyle",e.gt_(),"linestyle");if(i){const t=i.bpi_(e);t&&s.zE_("header",t,"discretecurveheader")}s.zE_("tag",e.zC_());s.commit()},load:function(t){const s=Ect.Ai_().i4t_("discretecurve"),e=t.getValue("name");s.HC_(e);const A=t.getValue("id");A!=null&&s.JC_(A);const n=t.getValue("basename");n!=null&&s.SIs_(n);const h=t.getValue("cssclass");h!=null&&s.qC_(h);const r=t.getValue("filltype");r!=null&&s.setFillType(r);const o=t.getValue("visible");o!=null&&s.nf_(o);const l=t.getValue("displaymode");l!=null&&s.dds_(l);let u=t.getValue("micro_positon_left"),a=t.getValue("micro_positon_right");u=u!=null?parseFloat(u):0;a=a!=null?parseFloat(a):1;s.Oqi_(u,a);const g=t.getValue("filltype");g!=null&&s.setFillType(g);const c=t.getValue("fillinfo");c!=null&&s.Xms_(c);const I=t.getValue("textposition");I!=null&&s.Ays_(I);const f=t.getValue("textorientation");f!=null&&s.rys_(f);const C=t.Uw_("textstyle","textstyle");C!=null&&s.g_(C);const d=t.Uw_("linestyle","linestyle");d!=null&&s.rB_(d);if(i&&i.bpi_(s)){t.Jw_(i.bpi_(s));t.Uw_("discretecurveheader","header");t.Pw_()}const B=t.getValue("cg_id");B!=null&&t.Hw_(B,s);return s}});this.OE_("axis",{save:function(t,s){const e=t;s.Oi_(Ict,"axis");s.Oi_("id",e.XC_());s.Oi_("visible",e.$C_());s.Oi_("name",e.dn_());s.Oi_("auto_label_rotation",e.T__());s.Oi_("auto_label_rotation_angle",e.l__());s.zE_("tick_generator",e.ZZ_(),"default");if(i){const t=i.bpi_(e);t&&s.zE_("header",t,"axisvisualheader")}s.commit()},load:function(t){let s=t.Vw_();s instanceof Put||(s=new Put);s.HC_(t.getValue("name"));t.getValue("id")!=null&&s.JC_(t.getValue("id"));t.getValue("visible")!=null&&s.nf_(t.getValue("visible").toString().toLowerCase()==="true");t.getValue("auto_label_rotation")!=null&&s.Y__(t.getValue("auto_label_rotation").toString().toLowerCase()==="true");t.getValue("auto_label_rotation_angle")!=null&&s.U__(t.getValue("auto_label_rotation_angle"));const e=t.getValue("tick_generator");if(e!=null)s.ZZ_().dt_(Ur.Ai_().JE_(e.N_(),e.D_()));else{t.getValue("major_labels_rotation_angle")!=null&&s.ZZ_().Wx_("major",t.getValue("major_labels_rotation_angle"));t.getValue("edge_labels_rotation_angle")!=null&&s.ZZ_().Wx_("edge",t.getValue("edge_labels_rotation_angle"));t.getValue("minor_labels_rotation_angle")!=null&&s.ZZ_().Wx_("minor",t.getValue("minor_labels_rotation_angle"));const i=t.Uw_(hl.D_(),"major_ticks");i!=null&&s.ZZ_().Px_("major",i);const e=t.Uw_(hl.D_(),"minor_ticks");e!=null&&s.ZZ_().Px_("minor",e);const A=t.Uw_(qa.D_(),"major_labels");A!=null&&s.ZZ_().Ox_("major",A)}if(i&&i.bpi_(s)){t.Jw_(i.bpi_(s));t.Uw_("axisvisualheader","header");t.Pw_()}return s}});this.OE_("imagepattern",{save:function(t,i){i.Oi_(Ict,"imagepattern");const s=t.N_();i.Oi_("patternName",s["patternname"]);if(s["containername"]!=="default")i.Oi_("containerName",s["containername"]);else{i.Oi_("src",s["src"]);i.Oi_("alt",s["alt"]);i.Oi_("desiredWidth",s["desiredwidth"]);i.Oi_("desiredHeight",s["desiredheight"]);i.Oi_("timeout",s["timeout"])}i.commit()},load:function(t){if(t.getValue("containerName"))return Nl.Ai_().$w_(t.getValue("patternName"),t.getValue("containerName"));const i={};t.Tw_((function(t,s){t!=="cg_id"&&t!=="cg_type"&&(i[t]=s.getValue())}));return Nl.Ai_().createPattern(i["src"],i)}});this.OE_("geotoolkit.welllog.Log2DVisual",{save:function(t,i){i.lp_(t,"default");const s=t.rms_();s instanceof xut?i.Oi_("decimationstrategy",s.ZRs_()?"Rounded Average":"Average"):s instanceof Iht?i.Oi_("decimationstrategy","Default"):s instanceof Lut&&i.Oi_("decimationstrategy",s.tks_()?"Local Minimum":"Local Maximum");i.commit()},load:function(t,i){const s=undefined;switch(t.hp_()["decimationstrategy"]){case"Average":t.hp_()["decimationstrategy"]=new xut;break;case"Rounded Average":t.hp_()["decimationstrategy"]=new xut(!0);break;case"Default":t.hp_()["decimationstrategy"]=new Iht;break;case"Local Maximum":t.hp_()["decimationstrategy"]=new Lut;break;case"Local Minimum":t.hp_()["decimationstrategy"]=new Lut(!0);break}if((i=t.qw_().jE_("default").load(t,i)).Sps_()){const t=i.Rps_();i.Gps_(t.Xs_(),t.zs_())}return i}})}$3t_(t,i){Ect.Ai_().$3t_(t,i)}static Ai_(){Nct==null&&(Nct=new i);return Nct}};s=i=t([_s("geotoolkit.welllog.widgets.persistence.Registry")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRNYXBwaW5nIjoiJDN0XyJ9fSwiZ2V0SW5zdGFuY2UiOiJBaV8ifSAg");var Gct=Ci({Lqs_:"Straight",Uqs_:"Reverse"},2,"eyJTdHJhaWdodCI6Ikxxc18iLCJSZXZlcnNlIjoiVXFzXyJ9");var Rct=Ci({XRs_:"Depth",Yqs_:"TrackWidth"},2,"eyJEZXB0aCI6IlhSc18iLCJUcmFja1dpZHRoIjoiWXFzXyJ9");var kct=Ci(function(){let i=class t extends Qut{constructor(t){super(t);this.HGs_(!0)}Rns_(t){return this.Gq_(t)}Ehs_(t){return this.fq_(t)}Tqs_(){return this.kq_()}Kqs_(t){return this.Fq_(t)}};i=t([_s("geotoolkit.welllog.widgets.visuals.LogHeaderContainer")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRMYXllciI6IlJuc18iLCJyZW1vdmVMYXllciI6IkVoc18iLCJnZXRMYXllcnNDb3VudCI6IlRxc18iLCJnZXRMYXllckF0IjoiS3FzXyJ9fX0g");const Fct={[tct.Aqs_]:50,[tct.nqs_]:200,[tct.hqs_]:200,[tct.rqs_]:200,[tct.oqs_]:250,[tct.lqs_]:200},xct=7,Lct="#0000ff",Uct="#000000",Yct=cE;var Tct=Ci(function(){var i;let s=i=class t extends Plt{constructor(t){const i=t instanceof oct?t:null;t=t&&i==null?Es(t):null;super();this.Hqs_=3;this.qRs_=i;if(t){t["trackfactory"]!=null&&(this.qRs_=t["trackfactory"]);t["indent"]!=null&&(this.Hqs_=t["indent"]);t["tracks"]!=null&&(this.FRs_=t["tracks"])}this.FRs_||(this.FRs_=[]);this.qRs_||(this.qRs_=oct.Ai_());this.SOt_=t=>t instanceof aAt;this.JDi_=null;this.Us_=null;this.iTi_=pq.Ai_();this.qqs_=0;this.Jqs_=null;this.Pqs_=null;this.Vqs_=null;this.Oqs_=null;this.DIt_=null}bind(t){this.iTi_!=null&&this.Wqs_((i=>{this.iTi_.bind(i,t)}));return this}unbind(t){this.iTi_!=null&&this.Wqs_((i=>{this.iTi_.unbind(i,t)}));return this}JTi_(){return this.iTi_}qTi_(t,i){if(this.iTi_!==t){this.unbind(this.getData());this.iTi_=t;i!==!0&&this.bind(this.getData())}return this}Wqs_(t){ur(this).Gw_(this.SOt_).select(t)}setData(t){if(this.Us_===t)return this;this.unbind(this.Us_);this.Us_=t;this.bind(this.Us_);return this}getData(){return this.Us_}zqs_(){const t=this.rt_(),i=t.Ee_(),s=t.pe_(),e=[];let A,n;if(this.Pqs_)for(n=0;n<this.Pqs_.length;n++){A=fA.Wi_(this.Pqs_[n]["range"]);A.Xs_()>s||A.zs_()<i||e.push({range:new fA(A.Xs_()<i?i:A.Xs_(),A.zs_()>s?s:A.zs_()),collapsed:this.Pqs_[n]["collapsed"],index:n})}this.Jqs_=null;if(e.length){this.Jqs_=[];e.sort(((t,i)=>t["range"].Xs_()-i["range"].Xs_()));this.Jqs_.push(e[0]);for(n=1;n<e.length;n++)this.Jqs_[this.Jqs_.length-1]["range"].Xs_()>e[n]["range"].Xs_()?this.Jqs_[this.Jqs_.length-1]["range"].js_(Math.max(this.Jqs_[this.Jqs_.length-1]["range"].zs_(),e[n]["range"].zs_())):this.Jqs_.push(e[n])}this.qqs_=0;if(this.Jqs_&&this.Jqs_.length>0)for(n=0;n<this.Jqs_.length;n++)if(this.Jqs_[n]["collapsed"]){A=this.Jqs_[n]["range"];this.qqs_+=A.getSize()}}Xqs_(t){this.td_();this.Pqs_=Array.isArray(t)?t:null;this.Jqs_=null;this.uvt_();this.td_();return this}jqs_(){return this.Pqs_}Zqs_(t){this.Vqs_=t;this.td_();return this}_qs_(){return this.Vqs_}BIs_(){return this.Oqs_?this.Oqs_:super.BIs_()}uvt_(){this.Jqs_&&this.Jqs_.length&&this.Oqs_&&this.Lq_(this.rt_().clone())}Lq_(t){this.Jqs_==null&&this.Pqs_!=null&&this.Pqs_.length>0&&this.zqs_();this.Jqs_&&this.Jqs_.length&&this.Oqs_&&t&&(t=t.clone().setY(this.Oqs_.Xs_()).Be_(this.Oqs_.getSize()-this.qqs_));return super.Lq_(t)}KBs_(t,i){this.Jqs_=null;if(t instanceof fA){i=t.zs_();t=t.Xs_()}else if(t>i){const s=i;i=t;t=s}this.Oqs_=new fA(t,i);const s=this.rt_()||new mA,e=s.Ee_(),A=s.pe_(),n=s.clone().setY(t).Be_(i-t);this.Lq_(n);for(let s=0;s<this.qY_();s++){const e=this.HY_(s);if(ms(e,nAt)){e.rd_(!1);e.KBs_(t,i);const s=e.getBounds();s!=null&&e.ht_(new mA(s.we_(),t,s.Qe_(),i));e.rd_(!0,!1)}}this.vn_();NA.equals(e,t)?this.td_(n.clone().setY(A).Be_(i-A)):this.td_(null,!0);return this}XY_(t){this.Jqs_||this.Pqs_==null||this.Pqs_.length===0||this.zqs_();this.Jqs_&&this.Oqs_?this.$qs_(t):super.XY_(t)}WY_(t,i){this.Jqs_||this.Pqs_==null||this.Pqs_.length===0||this.zqs_();this.Jqs_&&this.Oqs_?this.tJs_(t,i):super.WY_(t,i)}_Ot_(t){typeof t=="function"&&this.SOt_!==t&&(this.SOt_=t);return this}dispose(){this.FRs_=[];super.dispose()}iJs_(t){if(this.Hqs_!==t){this.Hqs_=Math.abs(t);if(this.FRs_.length>0){this.sJs_();this.notify(na.tG_,this,null)}}return this}eJs_(){return this.Hqs_}Rns_(t){return this.Gq_(t)}Ehs_(t){return this.fq_(t)}Tqs_(){return this.kq_()}Kqs_(t){return this.Fq_(t)}OGs_(t){return t!=null?t.bpi_():null}xqs_(t){return t!=null?t.Npi_():null}YRs_(t,i){const s=this.Fqs_(t,i);return Array.isArray(s)?s.length>0?s[0]:null:s}Fqs_(t,i){const s=this.rt_(),e=this.BIs_();if(Array.isArray(i)){this.FRs_=this.FRs_.slice(0,t).concat(i,this.FRs_.slice(t));this.GY_(i);for(let t=0;t<i.length;t++){const s=i[t].getBounds().clone().setY(e.Xs_()).Be_(e.getSize());i[t].ht_(s).KBs_(e.Xs_(),e.zs_())}this.sJs_(this.FRs_[0]);return i}let A,n;if(t<this.FRs_.length){A=this.AJs_(t);n=A==null?0:A.getBounds().we_()}else{A=this.AJs_(this.LRs_()-1);n=A==null?0:A.getBounds().Qe_()+this.Hqs_}if(!(i instanceof _lt)){typeof i=="string"&&(i={type:i});let t={name:"Track # "+this.LRs_(),width:i["width"]||Fct[i["type"]]};t=qi(t,i,!0);i=this.qRs_.gqs_(i["type"]||tct.nqs_,t)}const h=i.getBounds();i.ht_(new mA(n,e.Xs_(),n+(h!=null?h.Ie_():0),e.zs_())).KBs_(s.Ee_(),e.zs_());this.FRs_.splice(t,0,i);this.xY_(t,i);this.sJs_(i);return i}OFi_(t,i){const s=(i=i||{})["headercontainer"]||this.JDi_,e=i["footercontainer"],A=Array.isArray(t)?t:[t];if(s==null&&e==null)return A.length>0?A[0]:null;const n=[],h=[];for(let t=0;t<A.length;t++){const r=A[t];r.zC_()==null&&r.PC_({});const o=r.zC_();if(s){let t=r.bpi_();if(t==null||!(t instanceof mut)){t=this.qRs_.WRs_(r,i["headeroptions"],s.sMs_());if(t!=null){r.qIs_(t);const i="header";o.hasOwnProperty(i)||Object.defineProperty(o,i,{enumerable:!1,get:function(){ki(".header in tag is deprecated since 4.0. Use track.getHeader() instead");return t},set:function(t){ki(".header in tag is deprecated since 4.0. Use track.setHeader() instead");r.qIs_(t)}})}}t&&n.push(t)}if(e){let t=r.Npi_();if(t==null||!(t instanceof mut)){t=this.qRs_.Cqs_(r,i["footeroptions"],e.sMs_());if(t!=null){r.aSs_(t);const i="footer";o.hasOwnProperty(i)||Object.defineProperty(o,i,{enumerable:!1,get:function(){ki(".footer in tag is deprecated since 4.0. Use track.getFooter() instead");return t},set:function(t){ki(".footer in tag is deprecated since 4.0. Use track.setFooter() instead");r.aSs_(t)}})}}t&&h.push(t)}}if(s){const t=s;t.GY_(n).Eu_((()=>{const i=t.getBounds().clone().Be_(t.rt_().Ts_());t.ht_(i);return t.td_()}))}if(e){const t=e;t.GY_(h).Eu_((()=>{const i=t.getBounds().clone().Be_(t.rt_().Ts_());t.ht_(i);return t.td_()}))}return A.length>0?A[0]:null}addTrack(t){this.YRs_(this.FRs_.length,t);return this}AJs_(t){for(let i=t;i>=0;i--)if(this.URs_(i).$C_())return this.URs_(i);return null}removeTrack(t,i){let s=this.FRs_.indexOf(t);if(s===-1)return this;this.FRs_.splice(s,1);s--;s<this.LRs_()&&s>=0?this.sJs_(this.FRs_[s]):s<0&&this.sJs_();this.removeChild(t,i);return this}LRs_(){return this.FRs_.length}URs_(t){return this.FRs_[t]}TRs_(t){return this.FRs_.indexOf(t)}notify(t,i,s){if(i instanceof _lt&&t===na.tG_){const t=i.NS_();t!=null&&t.Ie_()!=null&&this.nJs_(t.Ie_(),i)}i instanceof _lt&&t===rh.cC_&&this.sJs_(i);super.notify(t,i,s);if(this.iTi_!=null&&(i===this||i.getParent()===this||i instanceof _lt)){let i;if(t===rh.eC_){const t=t=>{this.iTi_.accept(t)&&this.iTi_.bind(t,this.Us_);if(t instanceof _lt)for(i=0;i<t.qY_();i++)this.iTi_.accept(t.HY_(i))&&this.iTi_.bind(t.HY_(i),this.Us_)};s instanceof ch?t(s):s.forEach(t)}else if(t===rh.AC_){this.iTi_.accept(s)&&this.iTi_.unbind(s,this.Us_);if(s instanceof _lt)for(i=0;i<s.qY_();i++)this.iTi_.accept(s.HY_(i))&&this.iTi_.unbind(s.HY_(i))}}return this}nJs_(t,i){i==null&&(i=this.FRs_);(Array.isArray(i)?i:[i]).forEach((i=>{const s=i.getBounds();if(t>=0&&NA.equals(s.Ie_(),t)===!1){i.ht_(s.clone().de_(t));i.ft_({width:t},!0);this.sJs_(i)}}));return this}sJs_(t){let i=this.FRs_.indexOf(t);if(t!=null&&(i===-1||t.getBounds()===null))return this;this.WS_(t)!=null&&t.ht_(t.getBounds().clone().de_(Math.max(t.getBounds().Ie_(),this.WS_(t))));this.XS_(t)!=null&&t.ht_(t.getBounds().clone().de_(Math.min(t.getBounds().Ie_(),this.XS_(t))));let s=0;if(t!=null&&t.$C_())s=t.getBounds().Qe_()+this.eJs_();else if(t!=null&&i>=1){t=null;for(;i-1>=1;i--)if(this.FRs_[i].$C_()){s=(t=this.FRs_[i]).getBounds().Qe_()+this.eJs_();break}t||(i=-1)}else{t=null;i=-1}for(let t=i+1;t<this.FRs_.length;++t){this.FRs_[t].ht_(this.FRs_[t].getBounds().clone().setX(s));this.FRs_[t].$C_()&&(s+=this.FRs_[t].getBounds().Ie_()+this.eJs_())}s>0&&(s-=this.eJs_());const e=this.getBounds();this.ht_(e.clone().de_(s));let A=this.rt_();if(this.gq_()===!1){this.Lq_(A.clone().de_(s));A=this.rt_()}const n=t!=null?t.getBounds().we_():A.we_();this.td_(A.clone().setX(n).de_(A.Qe_()-n));return this}WS_(t){return t!=null&&t.NS_()!=null?t.NS_().WS_():null}XS_(t){return t!=null&&t.NS_()!=null?t.NS_().XS_():null}static Nqs_(t,i,s){const e=undefined;let A=function(t,s,e,A){let n=e!=null?e:0;const h=A!=null?A:s.length-1;if(h>=0){let e,A=h;while(n<=A){e=n+A>>1;const h=s[e].getBounds(),r=h.we_()+i,o=h.Qe_()-i;if(r<=t&&t<=o)return e;r<t?n=e+1:A=e-1}}return~n}(t,s,0,s.length-1);if(A>=0)return s[A];if(A<0){A=~A;if(!(A>0))return{left:null,right:s[0]};--A}return A===s.length-1&&t>s[A].getBounds().Qe_()-i?{left:s[A],right:null}:{left:s[A],right:s[A+1]}}l4t_(t,i,s){i=i instanceof Sct?i:Sct.Ai_();const e=undefined,A=new pw(i).l5_(t);A.Hw_("#trackContainer",this);this.JDi_=s;A.Hw_("#headerContainer",s||i instanceof kct?i:null);A.Uw_("geotoolkit.welllog.widgets.WellLogWidget","template")}u4t_(t){t=t||Sct.Ai_();const i=undefined;return new pw(t).o5_("template",this)}Nqs_(t,s){return i.Nqs_(t,s,this.FRs_)}vn_(t,i){super.vn_(t,i);i===oh.wC_&&this.sJs_();return this}N_(){const t=super.N_();t["trackfactory"]=this.kqs_();t["indent"]=this.eJs_();t["tracks"]=this.FRs_;return t}dt_(t){super.dt_(t);t["trackfactory"]!==void 0&&this.hJs_(t["trackfactory"]);t["indent"]!==void 0&&this.iJs_(t["indent"]);t["tracks"]!==void 0&&(this.FRs_=t["tracks"]);return this}hJs_(t){this.qRs_=t;return this}kqs_(){return this.qRs_}$qs_(t){if(!this.Jqs_||this.Jqs_.length===0)return;let i,s=0;const e=t.rS_();let A=e.Ee_(),n=e.pe_(),h=!1;for(let r=0;r<this.Jqs_.length;r++){const o=this.Jqs_[r];if(!o["collapsed"])continue;const l=o["range"],u=l.getSize();r===0&&(h=NA.equals(l.Xs_(),A));i=t.Ji_();t.dI_(t.Ji_().clone().translate(0,-s));t.save();t._b_(new mA(e.we_(),A,e.Qe_(),l.Xs_()),QA.Et_,!0);t.aS_({S__:h?A:null,G__:l.Xs_()});super.XY_(t);t.cS_();t.restore();t.dI_(i);n+=u;s+=u;A=l.zs_();h=!0}if(A<n){i=t.Ji_();t.dI_(t.Ji_().clone().translate(0,-s));t.save();t._b_(new mA(e.we_(),A,e.Qe_(),n),QA.Et_,!0);h&&t.aS_({S__:A,G__:null});super.XY_(t);t.cS_();t.restore();t.dI_(i)}this.rJs_(t)}tJs_(t,i){if(!this.Jqs_||this.Jqs_.length===0){i(t);return}let s=0;const e=t.rS_();let A=e.Ee_(),n=e.pe_(),h=!1;const r=this;let o=0;Au.fN_(this.Jqs_,(function(i,l){i["collapsed"]||l();const u=i["range"],a=u.getSize();o===0&&(h=NA.equals(u.Xs_(),A));const g=Gn.kI_(0,-s),c=t.uS_(g);c.save();const I=new mA(e.we_(),A,e.Qe_(),n),f=c.Ji_().transform(I);c._b_(f,QA.Et_);c.aS_({S__:h?A:null,G__:u.Xs_()});Plt.prototype.WY_.call(r,c,(function(){c.cS_();c.restore();n+=a;s+=a;A=u.zs_();h=!0;o++;l()}))}),(function(){if(A<n){const o=Gn.kI_(0,-s),l=t.uS_(o);l.save();const u=new mA(e.we_(),A,e.Qe_(),n),a=l.Ji_().transform(u);l._b_(a,QA.Et_);h&&l.aS_({S__:A,G__:null});Plt.prototype.WY_.call(r,l,(function(){l.cS_();l.restore();r.rJs_(t);i(t)}))}else{r.rJs_(t);i(t)}}))}rJs_(t){if(this.Vqs_){let i=0;const s=this.rt_(),e=s&&!s.isEmpty()?Gn.xI_(new mA(0,s.Ee_(),1,s.pe_()),s):null,A=e?t.uS_(e):t,n=new Igt({visiblenamelabel:!1,visibledepthlabel:!1});A.tk_()&&A.YR_(n);n.HC_("geotoolkit_collapsed_marker");for(let s=0;s<this.Jqs_.length;s++){const e=this.Jqs_[s],h=undefined,r=[this.Pqs_[e["index"]]],o=e["range"];if(e["collapsed"]){const s=o.Xs_()-i;if(this.Vqs_["collapsed"]["line"]){const t=this.Vqs_["collapsed"]["line"],i=hl.Wi_(t);n.rB_(i);n.D$_(t["decoration"]?t["decoration"]:Sa.ED_);n.lfs_(s);A.tk_()?A.pO_(n,(()=>{A.mO_(new Proxy(r.slice(),Fs));A.mO_(new jf(this,r))})):n.render(A)}this.Vqs_["collapsed"]["symbol"]&&this.oJs_(t,s,!0);i+=o.getSize()}else{const s=o.Xs_()-i,e=o.zs_()-i;if(this.Vqs_["uncollapsed"]["line"]){const t=this.Vqs_["uncollapsed"]["line"],i=hl.Wi_(t);n.rB_(i);n.D$_(t["decoration"]?t["decoration"]:Sa.ED_);n.lfs_(s);A.tk_()?A.pO_(n,(()=>{A.mO_(new Proxy(r.slice(),Fs));A.mO_(new jf(this,r))})):n.render(A);n.lfs_(e);A.tk_()?A.pO_(n,(()=>{A.mO_(new Proxy(r.slice(),Fs));A.mO_(new jf(this,r))})):n.render(A)}if(this.Vqs_["uncollapsed"]["symbol"]){this.oJs_(t,s);this.oJs_(t,e)}}}A.tk_()&&A.YR_(null)}}oJs_(t,i,s){const e=this.rt_(),A=e.we_(),n=e.Qe_(),h=s?this.Vqs_["collapsed"]["symbol"]:this.Vqs_["uncollapsed"]["symbol"],r=this.lJs_();r.dt_({height:h["size"]||xct,width:h["size"]||xct,painter:h["painter"]||Yct,fillstyle:h["fillstyle"]||Lct,linestyle:h["linestyle"]||Uct});r.SE_(dA.he_).gR_(A,i).render(t);r.SE_(dA.oe_).gR_(n,i).render(t);s&&r.SE_(dA.ne_).gR_((n-A)/2,i).render(t);t.rB_(null);t.iQ_(null)}lJs_(){this.DIt_||(this.DIt_=new ma({sizeisindevicespace:!0,height:xct,width:xct,painter:Yct,fillstyle:Lct,linestyle:Uct}));return this.DIt_}$X_(t,i){const s=t=>t instanceof jf&&t.GO_()===this;let e;if(t instanceof mA){const i=[t.we_(),t.Qe_(),t.Qe_(),t.we_()],A=[t.Ee_(),t.Ee_(),t.pe_(),t.pe_()];e=bC.select(this.getRoot(),i,A,!0).filter(s)}else e=bC.select(this.getRoot(),t.x,t.y,i||10).filter(s);return e.length===0?null:e[0].getData()}};s=i=t([_s("geotoolkit.welllog.widgets.visuals.LogTrackContainer")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREYXRhQmluZGluZyI6IkpUaV8iLCJzZXREYXRhQmluZGluZyI6InFUaV8iLCJmb3JFYWNoVmlzdWFsIjoiV3FzXyIsImdldERlcHRoTGltaXRzIjoiQklzXyIsInVwZGF0ZU1vZGVsTGltaXRzIjoidXZ0XyIsInNldE1vZGVsTGltaXRzIjoiTHFfIiwic2V0RGVwdGhMaW1pdHMiOiJLQnNfIiwicmVuZGVyQ2hpbGRyZW4iOiJYWV8iLCJyZW5kZXJDaGlsZHJlbkFzeW5jIjoiV1lfIiwic2V0Tm9kZUZpbHRlciI6Il9PdF8iLCJzZXRJbmRlbnQiOiJpSnNfIiwiZ2V0SW5kZW50IjoiZUpzXyIsImFkZExheWVyIjoiUm5zXyIsInJlbW92ZUxheWVyIjoiRWhzXyIsImdldExheWVyc0NvdW50IjoiVHFzXyIsImdldExheWVyQXQiOiJLcXNfIiwiaW5zZXJ0VHJhY2siOiJZUnNfIiwiZ2V0VHJhY2tzQ291bnQiOiJMUnNfIiwiZ2V0VHJhY2tBdCI6IlVSc18iLCJnZXRUcmFja0luZGV4IjoiVFJzXyIsInNldFRyYWNrV2lkdGgiOiJuSnNfIiwiZ2V0TWluV2lkdGgiOiJXU18iLCJnZXRNYXhXaWR0aCI6IlhTXyIsImxvYWRUZW1wbGF0ZSI6Imw0dF8iLCJzYXZlVGVtcGxhdGUiOiJ1NHRfIiwiZ2V0VHJhY2tBdFBvc2l0aW9uIjoiTnFzXyIsInVwZGF0ZVN0YXRlIjoidm5fIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyIsInNldFRyYWNrRmFjdG9yeSI6ImhKc18iLCJnZXRUcmFja0ZhY3RvcnkiOiJrcXNfIiwiaGl0VGVzdCI6IiRYXyJ9fSwiZ2V0VHJhY2tBdFBvc2l0aW9uIjoiTnFzXyJ9");var Kct=function(){let i=class t extends s1{constructor(){super(i1.FHi_)}getData(t,i,s){let e=super.getData(t,i,s);if(e==null&&typeof t.ot_=="function"){const A=t.UBs_().ot_();if(A!=null){const t=i===fg.ux_;e=s["orientation"]===fg.ax_?new fA(t?A.we_():A.Ee_(),t?A.Qe_():A.pe_()):new fA(t?A.Ee_():A.we_(),t?A.pe_():A.Qe_())}}return e}setData(t,i,s,e){const A=e[this.dn_()];A&&A["setdata"]||t.zNs_(i.Xs_(),i.zs_())}connect(t,i,s){super.connect(t,i.UBs_(),(function(t){s.call(i,t,i)}))}disconnect(t,i,s){super.disconnect(t,i.UBs_(),(function(t){s.call(i,t,i)}))}};i=t([_s(null)],i);return i}();const Hct="#757575",qct=new hl({color:Hct,width:1,pixelsnapmode:{x:!0,y:!0}}),Jct=new wr("rgba(255, 255, 255, 0.5)"),Pct=12,Vct=il.BD_("white"),Oct=hl.Wi_("white"),Wct=8,zct=hl.Wi_({color:Hct,width:2}),Xct=il.BD_("transparent"),jct=new ma({ax:0,ay:0,width:Wct,height:Wct,alignment:dA.ne_,sizeisindevicespace:!0,painter:cE,linestyle:zct,fillstyle:Xct}),Zct=new qa("black",ka.j_,Fa.ne_,"12px sans-serif"),_ct=new YC({text:"10000.99",textstyle:Zct,sizeisindevicespace:!0,alignment:dA.ne_,ispointingup:!0});var $ct=Ci(function(){let i=class t extends Du{constructor(t,i){super(t=qi(t,{linestyle:qct,fillstyle:Jct,textstyle:Zct,showdepth:!0,showlabel:!0,showinterpolatedvalues:!1,datetimeformat:{format:"M j H:i"},depthformatter:null,valueformatter:null},!0));this.uJs_=sg.sx_().ex_(t["datetimeformat"]);this.aJs_=typeof t["depthformatter"]=="function"||t["depthformatter"]instanceof _a?t["depthformatter"]:null;this.e_i_=typeof t["valueformatter"]=="function"||t["valueformatter"]instanceof _a?t["valueformatter"]:null;this.nf_(!1);this.vqs_=i;this.X9_=NaN;this.gJs_=t["showdepth"];this.cJs_=t["showlabel"];this.IJs_=t["showinterpolatedvalues"];this.g_(t["textstyle"])}b_(t){this.g_(t.fX_?t.fX_.clone():null);return this}FE_(){return this.fX_}g_(t,i){if(this.fX_===t)return this;this.td_();this.fX_=qa.jD_(this,this.fX_,t,i,this.oQ_());this.vn_().td_(this.getBounds()).notify(rh.uC_,this);_ct.g_(this.fX_!=null?this.fX_.clone():null);return this}getBounds(){const t=this.getParent();if(!(t instanceof Ic)||this.X9_==null||isNaN(this.X9_)===!0)return sa.SS_();const i=t.rt_().clone().setY(this.X9_).Be_(0);this.gt_()!=null&&i.Le_(0,bn.$c_(this.gt_().Ie_(),0,this.if_()));return i.Ts_()!==0?i:sa.SS_()}G2_(){return this.X9_}lfs_(t){if(this.X9_!=null&&isNaN(this.X9_)===!1&&Math.abs(this.X9_-t)<NA.Je_)return this;this.td_(this.getBounds());this.X9_=t;this.nf_(this.X9_!=null&&isNaN(this.X9_)===!1);this.td_(this.getBounds());return this}render(t){const i=this.vqs_||ch.Dd_(this,Tct),s=this.sd_()!=null?t.uS_(this.sd_()):t;this.Xb_(s);const e=s.Ji_(),A=this.getParent();if(!(A instanceof Ic))return;const n=A.rt_().clone().intersect(A.ot_()),h=e.gI_(s.cR_()).intersect(n),r=this.gt_();r!=null&&h.Le_(0,bn.$c_(r.Ie_(),0,this.if_()));let o=A.if_().rn_(A.ot_());const l=i.if_().rn_(i.ot_());o=o.clone().intersect(l);const u=bn.$c_(Wct/2,0,this.if_()),a=bn.$c_(0,Wct/2,this.if_());o=e.gI_(o).intersect(n);const g=o.clone().Le_(u,a),c=[];let I=0;if(i!=null){let t=null,e=null;const A=i.LRs_();for(let n=0;n<A;n++){t=i.URs_(n);if(t.$C_()===!1)continue;e=this.fJs_(t);if(e.Qe_()<o.we_())continue;if(e.we_()>o.Qe_())break;const A=this.CJs_(s,t,g);if(A!=null){c.push(A.dJs_);I=Math.max(I,A.BJs_)}}}let f=1;if(I!==0){let t=Pct/2+I*_ct.Ts_();t=bn.$c_(0,t,this.if_());const i=h.clone().setY(this.X9_).Be_(t);if(i.pe_()>h.pe_()){i.setY(this.X9_-t);f=-1}if(this.ct_()!=null){s.rB_(null);s.iQ_(this.ct_(),i);s.pR_(i.we_(),i.Ee_(),i.Ie_(),i.Ts_())}}if(r!=null){s.rB_(r);s.oB_(h.we_(),this.X9_,h.Qe_(),this.X9_)}c!==null&&I!==0&&this.wJs_(s,i,c,h,f);if(this.fX_!=null&&this.gJs_===!0){const t=bn.$c_(0,Pct/2,this.if_());let i=this.X9_.toFixed(2);if(this.aJs_!=null)i=typeof this.aJs_=="function"?this.aJs_(this.X9_):this.aJs_.format(this.X9_);else{const t=this.vqs_.Bhs_();t!=null&&t.En_("time")&&this.uJs_!=null&&(i=this.uJs_.format(this.X9_))}_ct.FE_().setColor(this.fX_.getColor());_ct.$I_(A.ot_().we_()).SE_(dA.ie_).tf_(this.X9_+t).a_(i);f===-1&&_ct.tf_(this.X9_-t).SE_(dA.se_);const e=function(t){return Array.isArray(t)&&t.length>0?e(t[0]):t},n=e(c);n!=null&&n.bounds!=null&&n.bounds.$s_(_ct.getBounds())&&(f===-1?_ct.tf_(this.X9_+t).SE_(dA.ie_):_ct.tf_(this.X9_-t).SE_(dA.se_));_ct.render(s)}this.iN_(s)}wJs_(t,i,s,e,A){const n=bn.$c_(0,Pct/2,this.if_()),h=bn.$c_(0,_ct.Ts_(),this.if_());let r,o,l,u;for(r=0;r<s.length;r++){l=s[r];if(l!=null&&l.length!==0)for(o=0;o<l.length;o++){u=l[o];this.QJs_(t,u,n,h,A)}}}QJs_(t,i,s,e,A){Array.isArray(i)&&i.length===1&&(i=i[0]);const n=function(t,i){return i===1?t:t===dA.le_?dA.re_:t===dA.ie_?dA.se_:dA.Ae_},h=i=>{jct.$I_(i.position).tf_(this.X9_).setSize(Pct,Pct).rB_(Oct).iQ_(Vct).render(t);const s=i.color;jct.setSize(Wct,Wct).rB_(this.gt_()).iQ_(s?Xct.setColor(s):null).render(t)},r=(i,A,n,h,r)=>{_ct.FE_().setColor(i.color);_ct.SE_(n).$I_(A).tf_(this.X9_+(s+e*r)*h).a_(i.value).render(t);return _ct.getBounds()};if(!Array.isArray(i)){h(i);i.eE_=n(i.eE_,A);this.cJs_&&(i.bounds=r(i,i.EJs_,i.eE_,A,0).clone());return}let o,l=0,u,a=dA.le_,g=NaN;for(u=0;u<i.length;u++){o=i[u];if(o.eE_!==dA.le_||a!==dA.le_){a=o.eE_;g=o.EJs_;break}l+=o.EJs_}a===dA.le_&&(g=l/i.length);for(u=0;u<i.length;u++){o=i[u];h(o);o.eE_=n(a,A);o.eE_===dA.le_&&(o.EJs_=g);this.cJs_&&(o.bounds=r(o,g,o.eE_,A,u).clone())}}pJs_(t,i){let s=t.EJs_;t.eE_!==dA.ee_&&(s+=t.eE_===dA.le_?t.width/2:t.width);let e=i.EJs_;i.eE_!==dA.ie_&&(e-=i.eE_===dA.le_?i.width/2:i.width);return e<s}fJs_(t,i){const s=t.if_().rn_(t.rt_()),e=this.if_().gI_(s);return i==null?e:e.we_()+i*e.Ie_()}CJs_(t,i,s){let e=null;const A=[];let n=0,h=null,r;for(r=0;r<i.qY_();r++){e=i.HY_(r);if(e.$C_()===!1||!(e instanceof $At)||e.gt_()==null||e.Cvt_()==null)continue;let t;t=this.IJs_?e.Afs_().Cft_(this.X9_):e.Cvt_().Cft_(this.X9_,null,null,e.ePi_());if(t==null||isNaN(t))continue;n=e.Nds_(t,this.X9_);const o=e.It_();o!=null&&(n=o.SI_(n,this.X9_));n=this.fJs_(i,n);if(n<s.we_()||n>s.Qe_())continue;let l=t.toFixed(2);if(this.e_i_!=null){const i={curve:e,depth:this.X9_,value:t};l=typeof this.e_i_=="function"?this.e_i_(i):this.e_i_.format(i)}h=e.gt_().getColor();this.fX_!=null&&h!=null&&A.push({color:h,position:n,EJs_:n,eE_:dA.le_,width:0,mJs_:!1,yJs_:!1,value:l})}return A.length!==0?this.DJs_(t,i,A):null}DJs_(t,i,s){const e=t.Ji_(),A=this.fJs_(i,0),n=this.fJs_(i,1);let h,r=s[0],o;s.sort(((t,i)=>t.position<i.position?-1:t.position>i.position?1:0));for(h=0;h<s.length;h++){r=s[h];o=$o.measureText(r.value,_ct.FE_());r.width=bn.$c_(o.Ie_(),0,e);if(r.position-r.width>A&&r.position+r.width<n){r.mJs_=h===0||r.position-r.width>s[h-1].position+s[h-1].width/2;r.yJs_=h===s.length-1||r.position+r.width<s[h+1].position-s[h+1].width/2}else if(r.position-r.width/2<A){r.EJs_=A;r.eE_=dA.ie_;r.mJs_=!1;r.yJs_=h===s.length-1||r.position+r.width<s[h+1].position-s[h+1].width/2}else if(r.position+r.width/2>n){r.EJs_=n;r.eE_=dA.ee_;r.mJs_=h===0||r.position-r.width>s[h-1].position+s[h-1].width/2;r.yJs_=!1}}if(s.length===1)return{dJs_:[r],BJs_:1};let l=null;const u=[];let a=[],g=0;for(h=0;h<s.length;h++){r=s[h];if(l!==null&&this.pJs_(l,r)===!0&&l.mJs_&&r.yJs_){l.eE_=dA.ee_;r.eE_=dA.ie_}l=r}l=null;for(h=0;h<s.length;h++){r=s[h];if(l===null){a=[r];g=Math.max(g,1)}else if(this.pJs_(l,r)===!1){g=Math.max(g,a.length);u.push(a);a=[r]}else if(l.mJs_&&r.yJs_){l.eE_=dA.ee_;g=Math.max(g,a.length);u.push(a);r.eE_=dA.ie_;a=[r]}else{a.push(r);if(h<s.length-1){const t=s[h+1];t.eE_===dA.ie_&&(t.eE_=dA.le_)}}l=r}if(a!==null&&a.length>0){u.push(a);g=Math.max(g,a.length)}return{dJs_:u,BJs_:g}}};i=t([_s("geotoolkit.welllog.widgets.visuals.DepthMarkerShape")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJiXyIsImdldFRleHRTdHlsZSI6IkZFXyIsInNldFRleHRTdHlsZSI6ImdfIiwiZ2V0RGVwdGgiOiJHMl8iLCJzZXREZXB0aCI6Imxmc18ifX19");var tIt=function(){let i=class t extends Du{constructor(t,i){super(t,i);this.fEs_=[]}getBounds(){if(this.getParent()==null||this.fEs_==null||this.fEs_.length===0||this.gt_()==null&&this.ct_()==null)return sa.SS_();const t=this.getParent().rt_().clone().setY(this.fEs_[0]).Be_(this.fEs_[this.fEs_.length-1]-this.fEs_[0]);this.gt_()!=null&&t.Le_(0,bn.$c_(this.gt_().Ie_(),0,this.if_()));return t}mcs_(){return this.fEs_}wys_(t){this.td_(this.getBounds());this.fEs_=t;this.nf_(this.fEs_!=null&&this.fEs_.length>0);this.td_(this.getBounds())}render(t){if(this.gt_()==null||this.fEs_==null&&this.fEs_.length===0)return;const i=this.sd_()!=null?t.uS_(this.sd_()):t;this.Xb_(i);const s=this.getParent().rt_(),e=i.cR_(),A=undefined,n=i.Ji_().gI_(e);n.intersect(s).Le_(0,bn.$c_(this.gt_().Ie_(),0,this.if_()));let h=!1,r=!1;const o=n.we_(),l=n.Qe_(),u=n.Ee_(),a=n.pe_();let g=NA.findIndex(u,this.fEs_);g<0&&(g=~g-1);const c=bn.$c_(0,1,this.if_());let I=Number.NaN,f=Number.NaN;for(let t=g;t<this.fEs_.length;t++){const s=this.fEs_[t];if(s>a)break;if(!(s<u)){if(h===!1){h=!0;i.beginPath()}if(!isNaN(f))if(Math.abs(s-f)>c)if(isNaN(I)){i.moveTo(o,f);i.lineTo(l,f)}else{i.moveTo(o,I);i.lineTo(l,I);i.lineTo(l,f);i.lineTo(o,f);i.lineTo(o,I);r=!0;I=Number.NaN}else isNaN(I)&&(I=s);f=s}}if(isNaN(I)){i.moveTo(o,f);i.lineTo(l,f)}else{i.moveTo(o,I);i.lineTo(l,I);i.lineTo(l,f);i.lineTo(o,f);i.lineTo(o,I);r=!0}if(r){i.iQ_(this.ct_());i.sQ_()}if(h){i.rB_(this.gt_());i.stroke()}this.iN_(i)}};i=t([_s("geotoolkit.welllog.widgets.visuals.DepthMarkerSetShape")],i);return i}();var iIt=function(){let i=class t extends nU{constructor(t,i,s){super(t);this.w_t_=i;this.MJs_=s}getDelta(){return this.w_t_}getTracks(){return this.MJs_}};i=t([_s(null)],i);return i}();var sIt=Ci({vJs_:"onContainerWidthChanged",bJs_:"onTrackWidthChanged",NJs_:"onCanResize"},2,"eyJvbkNvbnRhaW5lcldpZHRoQ2hhbmdlZCI6InZKc18iLCJvblRyYWNrV2lkdGhDaGFuZ2VkIjoiYkpzXyIsIm9uQ2FuUmVzaXplIjoiTkpzXyJ9"),eIt=function(){let i=class t extends dp{constructor(t,i,s,e){typeof t=="number"?super(t,i,s,e):super(t);this.SJs_=new xA(1,1)}getBounds(){const t=this.getParent();if(!(t instanceof Ic))return null;const i=t.ot_();if(!i)return null;const s=this.if_();this.SJs_.setSize(1,1);s!=null&&s.cI_(this.SJs_,this.SJs_);let e=super.getBounds();e&&(e=e.clone().setY(i.getY()).Be_(i.Ts_()-this.SJs_.Ts_()));return e}};i=t([_s("geotoolkit.welllog.widgets.tools.Splitter-SplitterHandle")],i);return i}();const AIt=10,nIt=function(t,i,s){const e=i.if_()!=null?i.if_().transformPoint(t):t;return s.if_()!=null?s.if_().aI_(e):e},hIt=function(t,i){let s=t;const e=s.It_().clone();while(s!==i){s=s.getParent();e.DI_(s.It_())}return e};var rIt=Ci(function(){let i=class t extends OS{constructor(t,i){super(t=qi(t,{trackcontainer:i instanceof Plt?i:null,name:"splitter",layer:t instanceof TQ?t:null,maximumwidth:2,minimumwidth:2},!0));this.eFt_({"cg-leave":t=>{this.D_t_(t.getPlot(),!1);if(!this.isActive()&&this.M_t_.$C_()){this.stop();this.M_t_.nf_(!1)}},pointerdown:this.zFt_.bind(this),pointermove:[{callback:this.XFt_.bind(this),object:null},{callback:this.XFt_.bind(this),object:Mi,enabled:!1}],pointerup:[{callback:this.Ct_.bind(this),object:null},{callback:this.Ct_.bind(this),object:Mi,enabled:!1}]});this.$K_=fg.ax_;this.vqs_=t["trackcontainer"]||ch.Dd_(this.Jgt_.getParent(),Tct);this.OSt_=new bC;this.GJs_=null;this.RJs_=null;this.JRs_=null;this.M_t_=new eIt(0,0,0,0).nf_(!1).rB_(new hl("#444",1).qD_({x:!0,y:!0})).iQ_(new wr("rgba(160,160,160, 0.5)")).qC_("tracksplitter");this.uy_=new lA(0,0);this.NLt_=new lA(0,0);this.dVt_=new lA(0,0);this.Jgt_.GY_(this.M_t_);this.kJs_=t["minimumwidth"];this.FJs_=t["maximumwidth"]}Dgt_(){super.Dgt_();this.isEnabled()===!1&&this.M_t_.nf_(!1)}start(t){const i=this.bFt_(this.mgt_(),t);this.uy_=nIt(i,this.mgt_(),this.vqs_);t.stopPropagation();this.setActive(!0);OS.lock(t.getPlot(),this);this.pxt_(!0);return this}stop(){this.M_t_.nf_(!1);this.setActive(!1);OS.unlock(this);this.GJs_=null;this.M_t_.at_(null);return this}xJs_(){return this.kJs_}LJs_(t){if(this.kJs_===t||Number.isFinite(t)===!1)return this;this.kJs_=t;return this}UJs_(){return this.FJs_}YJs_(t){if(this.FJs_===t||Number.isFinite(t)===!1)return this;this.FJs_=t;return this}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["maximumwidth"]!=null&&this.YJs_(t["maximumwidth"]);t["minimumwidth"]!=null&&this.LJs_(t["minimumwidth"]);return this}N_(){const t=super.N_();t["maximumwidth"]=this.UJs_();t["minimumwidth"]=this.xJs_();return t}bqs_(t){const i=this.mgt_(),s=i.if_(),e=this.bFt_(i,t);this.uy_=nIt(e,i,this.vqs_);const A=this.vqs_.ot_();if(A.we_()>this.uy_.getX()||A.Qe_()<this.uy_.getX()){this.D_t_(t.getPlot(),!1);return null}let n=this.dFt_(t)?this.fFt_():this.aFt_();n=bn.$c_(n,0,s);let h=this.uy_.getX(),r=this.vqs_.Nqs_(h,n);if(r!=null){if(r instanceof Sut)while(r instanceof Sut){const t=[];for(let i=0;i<r.LRs_();i++)t.push(r.URs_(i));if(t.length===0)return null;this.RJs_=hIt(t[0].getParent(),this.vqs_);this.JRs_=r;h=nIt(e,i,t[0].getParent()).getX();const s=n/this.RJs_.rn_(sa.RS_()).He_();r=Tct.Nqs_(h,s,t)}else{this.RJs_=null;this.JRs_=null}if(r instanceof _lt||r["left"]==null){this.D_t_(t.getPlot(),!1);return null}const A=this.vqs_.ot_();this.dVt_.vs_(this.uy_.x,this.uy_.y);if(this.TJs_(h,r["left"],n)===!1&&this.TJs_(h,r["right"],n)===!1){this.D_t_(t.getPlot(),!1);return null}const o=new nU(t).KFt_(r["left"]);this.notify(sIt.NJs_,this,o);if(o.rPt_()===!0)return null;let l=r["left"].getBounds(),u;this.RJs_!=null&&(l=this.RJs_.rn_(l));let a=this.vqs_.eJs_();a=bn.$c_(a,0,s);let g=1;g=bn.$c_(g,0,s);if(r["right"]!=null){let t=r["right"].getBounds();this.RJs_!=null&&(t=this.RJs_.rn_(t));u=t.we_()}else u=l.Qe_()+a;let c=new lA(l.Qe_()-g,0),I=new lA(u,0);c=nIt(c,this.vqs_,i);I=nIt(I,this.vqs_,i);const f=I.x-c.x;let C=0,d=!0,B=this.kJs_,w=this.FJs_;B=bn.$c_(B,0,s);w=bn.$c_(w,0,s);if(f<B){C=(B-f)/2;c.x-=C;I.x+=C}else if(f>w){I.x=c.x+w;d=h<=I.x}this.M_t_.ce_(c.x,A.Ee_(),I.x,A.pe_()-1).nf_(d);if(d){this.D_t_(t.getPlot(),!0);t.stopPropagation()}return r}return null}TJs_(t,i,s){const e=s;if(i==null)return!1;const A=i.getBounds();return t<=A.Qe_()+this.vqs_.eJs_()+e&&t>=A.Qe_()-e||t<=A.we_()+e&&t>=A.we_()-e}setOrientation(t){this.$K_=t;return this}D_t_(t,i){if(i){BG.Yb_(t,{cursor:this.$K_===fg.ax_?"ew-resize":"ns-resize"},this);this.M_t_.$C_()||this.M_t_.nf_(!0).td_()}else{this.M_t_.$C_()&&this.M_t_.nf_(!1).td_();BG.Yb_(t,{cursor:null},this)}return this}zFt_(t){this.GJs_=this.bqs_(t);if(this.GJs_!=null)if(t.Lkt_().button===0){this.start(t);t.stopPropagation(!1,!0)}else t.stopPropagation()}XFt_(t){if(this.isActive()){t.stopPropagation();if(this.R_t_(this.bFt_(this.mgt_(),t))){this.D_t_(t.getPlot(),!0);return}}this.bqs_(t)}R_t_(t){const i=this.mgt_(),s=i.if_();this.NLt_=nIt(t,i,this.vqs_);if(this.GJs_==null||this.GJs_["left"]==null)return!1;let e=this.KJs_(this.GJs_["left"])||AIt,A=this.HJs_(this.GJs_["left"]);e=bn.$c_(e,0,s);A=bn.$c_(A,0,s);let n=this.GJs_["left"].getBounds();this.RJs_!=null&&(n=this.RJs_.rn_(n));if(this.qJs_(n.Ie_(),e)||this.JJs_(n.Ie_(),A))return!1;const h=n.Ie_()+(this.NLt_.getX()-this.uy_.getX());if(!this.qJs_(h,e)&&!this.JJs_(h,A)){const t=this.NLt_.x-this.dVt_.x;this.M_t_.translate(t,0);this.dVt_.vs_(this.NLt_.x,this.NLt_.y)}return!0}Ct_(t){if(!this.isActive())return;const i=t.Lkt_();t.stopPropagation();this.pxt_(!1);this.PJs_(t.getPlot(),t,i.ctrlKey)}PJs_(t,i,s){if(!this.isActive())return;const e=undefined,A=this.mgt_().if_();if(this.GJs_!=null){let e=this.KJs_(this.GJs_["left"])||AIt,n=this.HJs_(this.GJs_["left"]);e=bn.$c_(e,0,A);n=bn.$c_(n,0,A);const h=bn.$c_(AIt,0,A);if(this.RJs_!=null&&this.GJs_["right"]!=null){this.VJs_(t,i,e,n);return}const r=this.GJs_["left"].getBounds().Ie_();let o=this.GJs_["left"].getBounds().Ie_()+(this.dVt_.getX()-this.uy_.getX());this.qJs_(o,e)&&(o=e);this.JJs_(o,n)&&(o=n);if(o>=h){const t=s!==!0?[this.GJs_["left"]]:this.vqs_.YY_((t=>t instanceof _lt)).toArray(),e=new iIt(i,o-r,t).KFt_(this.GJs_["left"]);if(s)this.vqs_.nJs_(o,null);else{if(NA.equals(this.GJs_["left"].getBounds().Ie_(),o)===!0){this.stop();return}this.GJs_["left"].de_(o);this.notify(sIt.bJs_,this,e);e.rPt_()&&this.GJs_["left"].de_(r)}this.notify(sIt.vJs_,this,e)}if(this.qJs_(o,e)||this.JJs_(o,n))return}this.stop()}VJs_(t,i,s,e){let A=this.RJs_.aI_(this.dVt_).getX()-this.RJs_.aI_(this.uy_).getX(),n=this.GJs_["left"].Ie_(),h=this.GJs_["right"].Ie_();s=Number.isFinite(s)?s:Number.NEGATIVE_INFINITY;e=Number.isFinite(e)?e:Number.POSITIVE_INFINITY;const r=Math.max(s-n,h-e),o=Math.min(e-n,h-s);A=NA.clamp(A,r,o);n+=A;h-=A;const l=AIt/this.RJs_.rn_(sa.RS_()).Ie_();if(o>=r&&Number.isFinite(A)&&n>=l&&h>=l){const t=this.GJs_["left"].Ie_();this.JRs_.KRs_(this.GJs_["left"],n);const s=new iIt(i,n-t,[this.GJs_["left"]]).KFt_(this.GJs_["left"]);this.notify(sIt.bJs_,this,s);s.rPt_()&&this.JRs_.KRs_(this.GJs_["left"],t)}this.JRs_=null;this.RJs_=null;this.D_t_(t,!1);this.stop()}pxt_(t){this.pFt_("pointermove",t,Mi);this.pFt_("pointerup",t,Mi);return this}KJs_(t){return t.NS_()!=null?t.NS_().WS_():null}HJs_(t){return t.NS_()!=null?t.NS_().XS_():null}qJs_(t,i){return i!=null&&!isNaN(i)&&t<i}JJs_(t,i){return i!=null&&!isNaN(i)&&t>i}};i=t([_s("geotoolkit.welllog.widgets.tools.Splitter")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IkRndF8iLCJnZXRNaW5pbXVtV2lkdGgiOiJ4SnNfIiwic2V0TWluaW11bVdpZHRoIjoiTEpzXyIsImdldE1heGltdW1XaWR0aCI6IlVKc18iLCJzZXRNYXhpbXVtV2lkdGgiOiJZSnNfIiwic2V0UHJvcGVydGllcyI6ImR0XyIsImdldFByb3BlcnRpZXMiOiJOXyJ9fX0g");var oIt=function(){let i=class t extends WS{constructor(t,i){super(i);this.MJs_=t}getTracks(){return this.MJs_}};i=t([_s(null)],i);return i}();const lIt="#9e9e9e",uIt="#e0e0e0",aIt="#DFE0E3",gIt="#757575",cIt="rgba(245,245,245,0.85)",IIt=new hl(aIt,1).qD_({x:!0,y:!0}),fIt=new wr("rgba(255,232,166,0.2)"),CIt=84,dIt=new hl({color:"rgba(25, 64, 187, 0.5)",pixelsnapmode:{x:!1,y:!1}});function BIt(t){if(t==null)return null;if(t instanceof ch)return ch.Dd_(t,_lt);const i=t.akt_();return i instanceof _lt?i:null}const wIt=[ha.sG_,ha.eG_,ha.AG_,ha.nG_,ha.hG_,ha.rG_,ha.oG_,ha.lG_],QIt=function(t,i){t[i]["border"]=qi(t[i]["border"],{visible:!1,color:aIt},!0)},EIt=function(t){return t==null?{}:{margin:t.UGs_(),padding:t.TGs_(),displaytype:t.rz_()}},pIt=function(t,i){i["margin"]!==void 0&&t.LGs_(i["margin"]);i["padding"]!==void 0&&t.YGs_(i["padding"]);i["displaytype"]!==void 0&&t.FGs_(i["displaytype"])},mIt=function(t){return t instanceof Fc?t:t===!0?new tI:null},yIt=function(t){return{visible:t.$C_(),color:t.gt_().getColor()}},DIt=function(t,i){i["visible"]!==void 0&&t.nf_(i["visible"]);i["color"]!==void 0&&t.rB_(new hl(i["color"]))};c1.Ai_().UHi_(new Kct,"geotoolkit.welllog.widgets.WellLogWidget");const MIt=function(t){return{visible:t?t.$C_():"none",height:t?t.NS_().getStyle()["height"]:0}},vIt=function(t,i){i["visible"]!==void 0&&t.nf_(i["visible"]);if(i["height"]!==void 0){const s=t.NS_().getStyle();s["height"]=i["height"];t.NS_().setStyle(s)}},bIt=(t,i,s)=>{s||(s=Object.keys(t));if(s.length!==0&&t!=null)for(let e=0;e<s.length;e++){const A=s[e];t[A]!==void 0&&(i[A]=t[A])}},NIt=["range","horizontalscrollable","verticalscrollable","indextype","timezone","timezoneoffset","indexunit","indent","viewcache","orientation","gridlinestyle","direction","collapsed","nodefilter","highlight"],SIt=t=>{const i={range:new fA(4500,1e4),horizontalscrollable:!0,verticalscrollable:!0,indextype:"depth",timezone:Ja.UTC,timezoneoffset:0,indexunit:t["indexunit"]||"ft",deviceunit:t["deviceunit"]||"in",indent:0,viewcache:!0,orientation:fg.ax_,gridlinestyle:null,direction:Gct.Lqs_,collapsed:null,nodefilter:t=>t instanceof aAt,marker:{datetimeformat:void 0,indexvisible:!0,indexformatter:void 0,labelvisible:!1,valueformatter:void 0,enabledinterpolatedvalues:!1,fillstyle:"transparent",linestyle:void 0},tools:null,annotations:{enable:!0,west:null,east:null,south:null,north:null},annotationssizes:{west:null,east:null,south:null,north:null},scroll:{headerverticalscroll:{type:"geotoolkit.controls.tools.scroll.VerticalScroll",size:15,visible:!0,options:{}},trackverticalscroll:{type:"geotoolkit.controls.tools.scroll.VerticalScroll",size:15,visible:!0,options:{}},footerverticalscroll:{type:"geotoolkit.controls.tools.scroll.VerticalScroll",size:15,visible:!0,options:{}},trackhorizontalscroll:{type:"geotoolkit.controls.tools.scroll.HorizontalScroll",size:15,visible:!0,options:{}},direction:Rct.XRs_},header:{visible:!0,height:CIt,border:null,viewcache:!1,margin:1,padding:0,roundedboxradius:0,displaytype:wut.L$_,restrictmaxheadersize:!0,headerprovider:null},footer:{visible:!1,height:CIt,border:null,viewcache:!1,margin:1,padding:0,roundedboxradius:0,displaytype:wut.L$_,restrictmaxfootersize:!0,headerprovider:null},trackcontainer:{border:null,track:null,verticalflip:!1},track:{border:null,background:null},indextrack:{styles:null,labelformat:null,axis:null},border:{visible:!1,color:aIt}};bIt(t,i,NIt);t||(t={});t["marker"]!==void 0&&(i["marker"]=qi(t["marker"],i["marker"],!0));t["tools"]!==void 0&&(i["tools"]=Pi(t["tools"],i["tools"],!0));t["annotations"]!==void 0&&(i["annotations"]=Pi(t["annotations"],i["annotations"],!0));t["annotationssizes"]!==void 0&&(i["annotationssizes"]=Pi(t["annotationssizes"],i["annotationssizes"],!0));t["scroll"]!==void 0&&(i["scroll"]=Pi(t["scroll"],i["scroll"],!0));t["header"]!==void 0&&(i["header"]=qi(t["header"],i["header"],!0));t["footer"]!==void 0&&(i["footer"]=qi(t["footer"],i["footer"],!0));t["trackcontainer"]!==void 0&&(i["trackcontainer"]=qi(t["trackcontainer"],i["trackcontainer"],!0));t["track"]!==void 0&&(i["track"]=qi(t["track"],i["track"],!0));t["indextrack"]!==void 0&&(i["indextrack"]=qi(t["indextrack"],i["indextrack"],!0));t["border"]!==void 0&&(i["border"]=qi(t["border"],i["border"],!0));QIt(i,"header");QIt(i,"footer");i["trackcontainer"]["border"]=qi(i["trackcontainer"]["border"],{visible:!1,color:aIt},!0);i["track"]["border"]=qi(i["track"]["border"],{visible:!0,color:aIt},!0);i["track"]["header"]=qi(i["track"]["header"],{border:null,visibletracktitle:!1,titlefirst:!0,firsttolast:!0,toptobottom:!0,holdtitle:Qlt.W_},!0);i["track"]["header"]["border"]=qi(i["track"]["header"]["border"],{visible:!1,color:aIt,width:1,background:null},!0);i["track"]["footer"]=qi(i["track"]["footer"],{border:null,visibletracktitle:!1,titlefirst:!0,firsttolast:!0,toptobottom:!0,holdtitle:Qlt.W_},!0);i["track"]["footer"]["border"]=qi(i["track"]["footer"]["border"],{visible:!1,color:aIt,width:1,background:null},!0);i.hasOwnProperty("highlight")&&i["highlight"]==null&&(i["highlight"]={linestyle:null,fillstyle:null});i["highlight"]!=null?i["highlight"]=qi(i["highlight"],{linestyle:i["highlight"].hasOwnProperty("linestyle")?i["highlight"]["linestyle"]:IIt,fillstyle:i["highlight"].hasOwnProperty("fillstyle")?i["highlight"]["fillstyle"]:fIt},!0):i["highlight"]={linestyle:IIt,fillstyle:fIt};i["trackcontainer"]["track"]=qi(i["trackcontainer"]["track"],{borderstrategy:Prt.GMs_},!0);i["indextrack"]["styles"]=qi(i["indextrack"]["styles"],{label:{major:lIt,minor:uIt,edge:lIt},tick:{major:lIt,minor:uIt,edge:lIt}},!0);i["indextrack"]["axis"]=qi(i["indextrack"]["axis"],{name:"",locale:"en"},!0);const s=i["indextrack"]["styles"];i["indextrack"]["styles"]={label:{major:qa.Wi_(s["label"]["major"]),minor:qa.Wi_(s["label"]["minor"]),edge:qa.Wi_(s["label"]["edge"])},tick:{major:hl.Wi_(s["tick"]["major"]),minor:hl.Wi_(s["tick"]["minor"]),edge:hl.Wi_(s["tick"]["edge"])}};return i};var GIt=Ci(function(){var i;let s=i=class t extends eK{constructor(t){super(t=t?Es(t):null);this.wHi_=null;this.OJs_=!0;this.Bgt_=!1;t==null&&(t={});const i=SIt(t);i["gridlinestyle"]instanceof hl&&(i["gridlinestyle"]=i["gridlinestyle"].N_());this.r5_=null;this.WJs_=i["indextrack"];this.zJs_=i["track"]["border"];this.XJs_=i["track"]["background"];this.jJs_=i["track"]["header"];this.ZJs_=i["track"]["footer"];this._Js_=i["header"]["roundedboxradius"];this.$Js_=i["footer"]["roundedboxradius"];this.rLi_=i["horizontalscrollable"];this.oLi_=i["verticalscrollable"];this.tPs_=i["range"];this.iPs_=i["indextype"];this.$F_=i["timezone"];this.Y$_=i["timezoneoffset"];this.Hqs_=i["indent"];this.qRi_=i["viewcache"];this.$K_=i["orientation"];this.sPs_=Gct.Lqs_;this.rUt_=i["scroll"];this.ePs_=i["marker"]["indexvisible"];this.APs_=i["marker"]["datetimeformat"];this.nPs_=i["marker"]["indexformatter"];this.hPs_=i["marker"]["labelvisible"];this.rPs_=i["marker"]["valueformatter"];this.oPs_=i["marker"]["enabledinterpolatedvalues"];this.SUt_=i["marker"]["linestyle"];this.GUt_=i["marker"]["fillstyle"];this.SOt_=i["nodefilter"];this.KGi_=!0;this.lPs_=!0;this.Kei_=null;this.uPs_=i["gridlinestyle"];this.aPs_=i["header"]["restrictmaxheadersize"];this.gPs_=i["footer"]["restrictmaxfootersize"];this.cPs_=Number.NaN;this.IPs_=new zB;this.fPs_=!0;this.OSt_=null;this.CPs_=!0;this.dPs_=(t,i,s)=>{this.notify(wF.WFt_,this,s)};this.BPs_=(t,i,s)=>{if(s instanceof _lt){const t=this.OGs_(s),i=this.xqs_(s);if(t!=null&&this.JDi_){this.JDi_.removeChild(t).zT_().Eu_((function(){return this.td_()}));this.ANs_()}if(i!=null&&this.PDi_){this.PDi_.removeChild(i).zT_().Eu_((function(){return this.td_()}));this.wPs_()}this.wq_();this.Gqs_.iT_();if(this.QPs_()){this.JDi_&&this.JDi_.iT_();this.PDi_&&this.PDi_.iT_()}this.sRi_().td_()}};const s=ch.hd_();ch.pd_(!1);this.aq_(!0).cq_(this.IPs_);i["border"]["visible"]===!0&&this.GY_(this.EPs_=(new Sc).rB_(new hl(i["border"]["color"])));this.pPs_=i["trackcontainer"]["track"]["borderstrategy"];this.mPs_=i["trackcontainer"]["track"]["highlightstrategy"]||i["highlight"]["strategy"];this.dHi_=i["highlight"]["cssclass"];this.yPs_=i["highlight"]["header"];this.DPs_=i["highlight"]["track"];this.MPs_=hl.Wi_(i["highlight"]["linestyle"]);this.vPs_=il.BD_(i["highlight"]["fillstyle"]);this.bPs_=null;this.NPs_=null;this.M4_={};this.SPs_=_lt.dSs_("depth.markers");this.GPs_=new TQ({name:"manipulator",dynamic_layer:!0});this.Gqs_=new Tct;this.EPs_=null;this.RPs_=null;this.kPs_=null;this.FPs_=null;this.xPs_=null;const e=this.LPs_(i);e&&e.HC_("HeaderControlGroup");const A=this.UPs_(i).HC_("TrackControlGroup"),n=this.YPs_(i);n&&n.HC_("FooterControlGroup");let h=[A];this.M4_[ha.ne_]=A;this.OJs_=i["annotations"]["enable"]===!0;if(this.OJs_===!0){for(let t=0;t<wIt.length;++t){let i=null;i=wIt[t]===ha.sG_||wIt[t]===ha.AG_?new lw:new ww;const s=(new sI).aq_(!0).kY_(!0).cq_(i);this.M4_[wIt[t]]=s}h=[this.v4_(ha.hG_),this.v4_(ha.eG_),this.v4_(ha.rG_),this.v4_(ha.sG_),A,this.v4_(ha.AG_),this.v4_(ha.lG_),this.v4_(ha.nG_),this.v4_(ha.oG_)]}this.GY_([this.v4t_=(new sI).aq_(!0).cq_(new zB).pq_(!1).GY_([this.TPs_=(new sI).GY_(h).aq_(!0).cq_(this.OJs_?new qB(h):new zB).ft_({left:0,top:0,right:0,bottom:this.rUt_["trackhorizontalscroll"]["size"]},!0).GY_([this.KPs_=new TQ({id:"widget.manipulator.layer",name:"widget.manipulator.layer",dynamic_layer:!0}).GY_([this.HPs_=new TQ({id:"widget.overlay.layer",name:"widget.overlay.layer",dynamic_layer:!0}).Eu_((function(){this.ud_=function(){return!0};return this}))])])])]);Array.isArray(i["annotations"]["north"])||(i["annotations"]["north"]=[]);Array.isArray(i["annotations"]["south"])||(i["annotations"]["south"]=[]);e!=null&&i["annotations"]["north"].push(e);n&&i["annotations"]["south"].push(n);i["annotationssizes"]["north"]===null&&(i["annotationssizes"]["north"]=i["header"]["visible"]===!0?+i["header"]["height"]:0);i["annotationssizes"]["south"]===null&&(i["annotationssizes"]["south"]=i["footer"]["visible"]===!0?+i["footer"]["height"]:0);if(i["collapsed"]){i["collapsed"]["marker"]&&this.Gqs_.Zqs_(i["collapsed"]["marker"]);i["collapsed"]["intervals"]&&this.qPs_(i["collapsed"]["intervals"])}this.OJs_&&this.JPs_(i);this.PPs_(i["scroll"]["trackhorizontalscroll"]);this.VPs_=[this.JDi_,this.PDi_];this.Hei_=[];this.A4t_(i["tools"]);this.OPs_(i["header"]["headerprovider"],i["footer"]["headerprovider"]);this.Bgt_=!0;this.WPs_(!0);this.zPs_();ch.pd_(s);this.PLi_=[];this.Gqs_._Ot_(this.SOt_)}dispose(){if(!this.Df_()){this.Gqs_.off(rh.AC_,this.BPs_);this.JDi_!=null&&this.JDi_.Df_()!==!0&&this.JDi_.KY_(!0);this.PDi_!=null&&this.PDi_.Df_()!==!0&&this.PDi_.KY_(!0);super.dispose()}}XPs_(t){if((t=Es(t))==null)return this;t["horizontalscrollable"]!==void 0&&(this.rLi_=t["horizontalscrollable"]);t["verticalscrollable"]!==void 0&&(this.oLi_=t["verticalscrollable"]);t["timezone"]!==void 0&&(this.$F_=t["timezone"]);t["timezoneoffset"]!==void 0&&(this.Y$_=t["timezoneoffset"]);t["gridlinestyle"]!==void 0&&(this.uPs_=t["gridlinestyle"]);t["range"]!==void 0&&this.KBs_(t["range"]);t["indextype"]!==void 0&&this.jPs_(t["indextype"]);t["indexunit"]!==void 0&&this.kcs_(t["indexunit"]);t["deviceunit"]!==void 0&&this.XNs_(t["deviceunit"]);t["annotationssizes"]!==void 0&&this.vei_(t["annotationssizes"]);if(t["header"]!==void 0&&t["header"]["visible"]!==void 0&&t["header"]["visible"]!=="none"){this.JDi_||this.LPs_(t);pIt(this.JDi_,t["header"]);if(t["header"]["border"]!==void 0){const i=t["header"]["border"];i["visible"]===!0&&(this.kPs_||this.ZPs_.GY_(this.kPs_=new Sc));this.kPs_&&DIt(this.kPs_,i)}t["header"]["viewcache"]!==void 0&&this.JDi_.gk_(mIt(t["header"]["viewcache"]));if(t["header"]["roundedboxradius"]!==void 0){this._Js_=t["header"]["roundedboxradius"];const i=undefined;ur(this.JDi_).Rw_(Nnt).Fw_().forEach((i=>{i.CQs_(t["header"]["roundedboxradius"])}))}}if(t["footer"]!==void 0&&t["footer"]["visible"]!==void 0&&t["footer"]["visible"]!=="none"){this.PDi_||this.YPs_(t);pIt(this.PDi_,t["footer"]);if(t["footer"]["border"]!==void 0){const i=t["footer"]["border"];i["visible"]===!0&&(this.FPs_||this._Ps_.GY_(this.FPs_=new Sc));this.FPs_&&DIt(this.FPs_,i)}t["footer"]["viewcache"]!==void 0&&this.PDi_.gk_(mIt(t["footer"]["viewcache"]));if(t["footer"]["roundedboxradius"]!==void 0){this.$Js_=t["footer"]["roundedboxradius"];const i=undefined;ur(this.PDi_).Gw_((t=>t instanceof Nnt)).Fw_().forEach((function(i){i.CQs_(t["footer"]["roundedboxradius"])}))}}if(t["viewcache"]!==void 0){const i=mIt(t["viewcache"]);i instanceof tI&&i.QH_(!0);this.Gqs_.gk_(i)}if(t["border"]!==void 0){const i=t["border"];i["visible"]===!0&&(this.EPs_||this.GY_(this.EPs_=new Sc));this.EPs_&&DIt(this.EPs_,i)}t["highlight"]!==void 0&&t["highlight"]["strategy"]!==void 0&&(this.mPs_=t["highlight"]["strategy"]);if(t["trackcontainer"]!==void 0){t["trackcontainer"]["verticalflip"]!==void 0&&this.Gqs_.Eq_(t["trackcontainer"]["verticalflip"]);if(t["trackcontainer"]["border"]!==void 0){const i=t["trackcontainer"]["border"];i["visible"]===!0&&(this.RPs_||this.$Ps_.GY_(this.RPs_=new Sc));this.RPs_&&DIt(this.RPs_,i)}if(t["trackcontainer"]["track"]!==void 0){t["trackcontainer"]["track"]["borderstrategy"]!==void 0&&(this.pPs_=t["trackcontainer"]["track"]["borderstrategy"]);t["trackcontainer"]["track"]["highlightstrategy"]!==void 0&&(this.mPs_=t["trackcontainer"]["track"]["highlightstrategy"])}}if(t["track"]!==void 0){t["track"]["border"]!==void 0&&Pi(t["track"]["border"],this.zJs_);t["track"]["background"]!==void 0&&(this.XJs_=t["track"]["background"])}t["indextrack"]!==void 0&&(this.WJs_=Pi(t["indextrack"],this.WJs_));if(t["tools"]!==void 0){t["tools"]["crosshair"]!=="none"&&this.tVs_.dt_(t["tools"]["crosshair"]);if(t["tools"]["cursortracking"]!==void 0){t["tools"]["cursortracking"]["crosshair"]!==void 0&&this.iVs_.dt_(t["tools"]["cursortracking"]["crosshair"]);t["tools"]["cursortracking"]["tooltip"]!==void 0&&this.sVs_.dt_(t["tools"]["cursortracking"]["tooltip"])}t["tools"]["tracksplitter"]&&this.eVs_.dt_(t["tools"]["tracksplitter"])}if(t["marker"]!==void 0){t["marker"]["indexvisible"]!==void 0&&(this.ePs_=t["marker"]["indexvisible"]);t["marker"]["datetimeformat"]!==void 0&&(this.APs_=t["marker"]["datetimeformat"]);t["marker"]["indexformatter"]!==void 0&&(this.nPs_=t["marker"]["indexformatter"]);t["marker"]["labelvisible"]!==void 0&&(this.hPs_=t["marker"]["labelvisible"]);t["marker"]["valueformatter"]!==void 0&&(this.rPs_=t["marker"]["valueformatter"]);t["marker"]["enabledinterpolatedvalues"]!==void 0&&(this.oPs_=t["marker"]["enabledinterpolatedvalues"]);t["marker"]["linestyle"]!==void 0&&(this.SUt_=t["marker"]["linestyle"]);t["marker"]["fillstyle"]!==void 0&&(this.GUt_=t["marker"]["fillstyle"])}t["direction"]!==void 0&&this.AVs_(t["direction"]);t["orientation"]!==void 0&&this.setOrientation(t["orientation"]);t["nodefilter"]!==void 0&&this._Ot_(t["nodefilter"]);return this}v4_(t){return t===ha.W_?null:this.M4_[t]}JPs_(t){const i=[ha.sG_,ha.AG_,ha.eG_,ha.nG_,ha.hG_,ha.rG_,ha.lG_,ha.oG_];for(let s=0;s<i.length;++s)this.k4_(t,i[s]);return this}k4_(t,i){const s=t["annotations"][i],e=t["annotationssizes"][i];s!=null&&this.v4_(i).GY_(s);const A={};A[i]=e!=null?+e:0;this.vei_(A);return this}PPs_(t){const i=t["type"],s=t["options"],e={left:0,bottom:0,right:t["size"],height:t["size"]};if(this.nVs_!=null){this.r4t_(this.nVs_.K3_());this.v4t_.removeChild(this.nVs_)}if(t["visible"]==="none")return;this.v4t_.GY_([this.nVs_=LG.Ai_().hUt_(i,{name:"HorizontalPlotScroll",modellimits:new mA(0,0,1e3,10),visiblelimits:new mA(0,0,100,10),size:t["size"]}).ft_(e,!0).qC_("trackhorizontalscroll")]);const A=(t,i,s)=>{const e=this.Gqs_.ot_(),A=s.ot_(),n=e.we_()-A.we_(),h=e.Ee_()-A.Ee_(),r=this.Gqs_.sd_().transformPoint(new lA(0,0)),o=undefined,l=this.Gqs_.sd_().transformPoint(new lA(n,h)).x-r.x;this.Gqs_.translate(l,0);this.JDi_.translate(l,0);this.PDi_.translate(l,0);this.HPs_.translate(l,0);this.sRi_();s.stopPropagation(!0)};this.nVs_.nf_(t["visible"]);s!=null&&this.nVs_.setOptions(s);this.nVs_.on(uG.Txt_,(()=>{this.fPs_=this.eVs_.isEnabled();this.eVs_.Kv_(!1)})).on(uG.qxt_,(()=>{this.eVs_.Kv_(this.fPs_)})).on(uG.qxt_,A).on(uG.Kxt_,A)}hVs_(t){const i=Array.isArray(t)?t:[t];this.notify(uct.wqs_,this,new oIt(i));return this}JV_(){return{indextype:this.rVs_(),indexunit:this.Fcs_()?this.Fcs_().fn_():null,deviceunit:this.vNs_(),orientation:this.KH_(),direction:this.oVs_(),indent:this.Hqs_,header:MIt(this.lVs_),footer:MIt(this.uVs_),highlight:{cssclass:this.dHi_,linestyle:this.MPs_,fillstyle:this.vPs_,header:this.yPs_,track:this.DPs_},scroll:{direction:this.rUt_["direction"]}}}aVs_(t){return this.lVs_?t==="auto"?this.Dpi_().getBounds().Ts_():Number(this.lVs_.NS_().getStyle()["height"]):0}gVs_(t){return this.uVs_?t==="auto"?this.Mpi_().getBounds().Ts_():Number(this.uVs_.NS_().getStyle()["height"]):0}cVs_(t){return this.setOptions({footer:{height:t}})}IVs_(t){return this.setOptions({header:{height:t}})}fVs_(t){this.CVs_.nf_(t);return this}dVs_(){return this.CVs_.$C_()}BVs_(t){this.wVs_.nf_(t);return this}QVs_(){return this.wVs_.$C_()}setOptions(t){if(t==null)return this;if(t["indent"]!=null){const i=+t["indent"];if(i!==this.Hqs_){this.Hqs_=i;this.Gqs_.iJs_(this.Hqs_)}}if(t["collapsed"]){t["collapsed"]["intervals"]&&this.Gqs_.Xqs_(t["collapsed"]["intervals"]);t["collapsed"]["marker"]&&this.Gqs_.Zqs_(t["collapsed"]["marker"])}t.hasOwnProperty("highlight")&&t["highlight"]==null&&(t["highlight"]={linestyle:null,fillstyle:null});if(t["highlight"]!=null){t["highlight"]["cssclass"]&&(this.dHi_=t["highlight"]["cssclass"]);t["highlight"].hasOwnProperty("linestyle")&&(this.MPs_=hl.Wi_(t["highlight"]["linestyle"]));t["highlight"].hasOwnProperty("fillstyle")&&(this.vPs_=il.BD_(t["highlight"]["fillstyle"]));t["highlight"].hasOwnProperty("header")&&(this.yPs_=t["highlight"]["header"]);t["highlight"].hasOwnProperty("track")&&(this.DPs_=t["highlight"]["track"])}if(t["header"]!=null&&t["header"]["height"]!=null){let i=t["header"]["height"];i==="auto"?i=this.aVs_("auto"):1&&(i=Number(i));t["header"]["height"]=i}if(t["footer"]!=null&&t["footer"]["height"]!=null){let i=t["footer"]["height"];i==="auto"?i=this.gVs_("auto"):1&&(i=Number(i));t["footer"]["height"]=i}t["header"]!=null&&t["header"]["restrictmaxheadersize"]!=null&&typeof t["header"]["restrictmaxheadersize"]=="boolean"&&(this.aPs_=t["header"]["restrictmaxheadersize"]);t["footer"]!=null&&t["footer"]["restrictmaxfootersize"]!=null&&typeof t["footer"]["restrictmaxfootersize"]=="boolean"&&(this.gPs_=t["footer"]["restrictmaxfootersize"]);const i=this.wIs_(),s=this.EVs_.NS_().clone().getStyle(),e=this.JV_();t["header"]=qi(t["header"],e["header"],!0);if(t["header"]!=null){this.lVs_&&vIt(this.lVs_,t["header"]);this.ANs_()}t["footer"]=qi(t["footer"],e["footer"],!0);if(t["footer"]){this.uVs_&&vIt(this.uVs_,t["footer"]);this.wPs_()}s["top"]=t["header"]["visible"]===!0?+t["header"]["height"]:0;s["bottom"]=t["footer"]["visible"]===!0?+t["footer"]["height"]:0;this.EVs_.ft_(s,!0);this.vei_({north:this.pVs_("north"),south:this.pVs_("south")});this.wq_();t["scroll"]!==void 0&&(this.rUt_["direction"]=t["scroll"]["direction"]||Rct.XRs_);const A=function(t){if(t["border"]!==void 0){const i=t["border"];i["visible"]!==void 0&&(t["isbordervisible"]=i["visible"]);(i.hasOwnProperty("color")||i.hasOwnProperty("width"))&&(t["borderlinestyle"]=i);i["background"]!==void 0&&(t["borderfillstyle"]=i["background"])}};if(t["track"]!==void 0){Pi(t["track"]["header"],this.jJs_,!0);Pi(t["track"]["footer"],this.ZJs_,!0);A(this.jJs_);A(this.ZJs_);for(let t=0;t<this.LRs_();t++){const i=this.URs_(t),s=this.OGs_(i);s!=null&&s.dt_(this.jJs_);const e=this.xqs_(i);e!=null&&e.dt_(this.ZJs_)}}const n=this.wIs_();this.mVs_(i,n,!0);return this}LPs_(t){const i=t["header"],s=i["border"],e=i["visible"]?+i["height"]:0;if(i["visible"]==="none")return null;this.lVs_=(new sI).Uq_().kY_(!0).aq_(!0).nf_(i["visible"]).cq_(this.IPs_).ft_({left:0,top:0,right:0,height:e},!0).qC_("headerPlotControl").GY_([this.ZPs_=(new sI).kY_(!0).aq_(!0).cq_(this.IPs_).ft_({left:0,top:0,right:t["scroll"]["headerverticalscroll"]["size"],bottom:0},!0)]).Yq_(!1);s["visible"]===!0&&this.ZPs_.GY_(this.kPs_=(new Sc).rB_(new hl(s["color"])));this.ZPs_.GY_([this.JDi_=(new kct).qC_("headerPlotControl").LGs_(i["margin"]).YGs_(i["padding"]).FGs_(i["displaytype"]).HGs_(!0).ht_(new mA(0,0,0,CIt)).aq_(!0).gk_(mIt(i["viewcache"])).kY_(!0).Rns_(new TQ({name:"manipulator"}))]);this.yVs_(t["scroll"]["headerverticalscroll"]);return this.lVs_}DVs_(t){if(this.CPs_!==t){this.CPs_=t;let i;if(this.ZPs_!=null){i=this.ZPs_.FY_(this.JDi_);this.CPs_&&i===-1?this.ZPs_.GY_(this.JDi_):i!==-1&&this.ZPs_.removeChild(this.JDi_)}if(this._Ps_){i=this._Ps_.FY_(this.PDi_);this.CPs_&&i===-1?this._Ps_.GY_(this.PDi_):i!==-1&&this._Ps_.removeChild(this.PDi_)}}return this}QPs_(){return this.CPs_}yVs_(t){if(t["visible"]==="none")return this;const s=t["type"],e=t["options"],A={width:t["size"],top:0,right:0,bottom:0};if(this.CVs_!=null){this.r4t_(this.CVs_.K3_());this.lVs_.removeChild(this.CVs_)}this.lVs_.GY_([this.CVs_=LG.Ai_().hUt_(s,{name:"HeaderVerticalScroll",modellimits:new mA(0,0,t["size"],1e3),visiblelimits:new mA(0,0,t["size"],100),size:t["size"]}).ft_(A,!0).qC_("headerverticalscroll")]);this.CVs_.nf_(t["visible"]);e!=null&&this.CVs_.setOptions(e);const n=(t,s,e)=>{i.MVs_(this.JDi_,e);this.sRi_();e!=null&&e.stopPropagation(!0)};this.CVs_.on(uG.qxt_,n).on(uG.Kxt_,n);return this}UPs_(t){const i=t["trackcontainer"]["border"],s=t["header"]["visible"]===!0?+t["header"]["height"]:0;let e=null;const A=t["indexunit"],n=t["deviceunit"];this.qRi_ instanceof Fc?e=this.qRi_:this.qRi_===!0&&(e=(new tI).QH_(!0));e instanceof tI&&e.setOrientation(this.$K_);this.EVs_=(new sI).aq_(!0).cq_(this.IPs_).ft_({left:0,top:s,right:0,bottom:t["footer"]["visible"]===!0?t["footer"]["height"]:0},!0).qC_("trackPlotControl").GY_([this.$Ps_=(new sI).kY_(!0).aq_(!0).cq_(this.IPs_).ft_({left:0,top:0,right:t["scroll"]["trackverticalscroll"]["size"],bottom:0},!0).GY_([this.Gqs_.qC_("trackPlotControl").ht_(new mA(0,0,1,this.tPs_.zs_()-this.tPs_.Xs_())).Lq_(new mA(0,this.tPs_.Xs_(),1,this.tPs_.zs_())).KBs_(this.tPs_.Xs_(),this.tPs_.zs_()).kY_(!1).whs_(A).XNs_(n).iJs_(this.Hqs_).Rns_(this.SPs_).Rns_(this.GPs_).Rns_(this.e4t_().i6_(!0)).gk_(e).Eq_(t["trackcontainer"]["verticalflip"])])]);i["visible"]===!0&&this.$Ps_.GY_(this.RPs_=(new Sc).rB_(new hl(i["color"])));this.vVs_(t["scroll"]["trackverticalscroll"]);this.Gqs_.on(rh.AC_,this.BPs_);return this.EVs_}vVs_(t){if(t["visible"]==="none")return this;const i=t["type"],s=t["options"],e={width:t["size"],top:0,right:0,bottom:0};if(this.bVs_!=null){this.r4t_(this.bVs_.K3_());this.EVs_.removeChild(this.bVs_)}this.EVs_.GY_([this.bVs_=LG.Ai_().hUt_(i,{name:"TrackPlotVerticalScroll",modellimits:new mA(0,0,t["size"],1e3),visiblelimits:new mA(0,0,t["size"],100),size:t["size"]}).ft_(e,!0).qC_("trackverticalscroll")]);this.bVs_.nf_(t["visible"]);s!=null&&this.bVs_.setOptions(s);this.bVs_.Eq_(this.Gqs_.jY_());const A=(t,i,s)=>{const e=this.wIs_(),A=this.Gqs_.ot_(),n=s.ot_(),h=A.we_()-n.we_(),r=A.Ee_()-n.Ee_(),o=this.Gqs_.sd_().transformPoint(new lA(0,0)),l=undefined,u=this.Gqs_.sd_().transformPoint(new lA(h,r)).y-o.y;this.Gqs_.translate(0,u);this.sRi_();s.stopPropagation(!0);const a=this.wIs_();this.mVs_(e,a,!0)};this.bVs_.on(uG.qxt_,A).on(uG.Kxt_,A);return this}NVs_(){let t=null;if(this.bPs_!=null&&this.bPs_.$C_()){t==null&&(t={});t["depth"]={value:this.bPs_.G2_(),linestyle:this.bPs_.gt_()}}if(this.NPs_!=null&&this.NPs_.$C_()){t==null&&(t={});t["depths"]={values:this.NPs_.mcs_(),linestyle:this.NPs_.gt_(),fillstyle:this.NPs_.ct_()}}return t}SVs_(t,i,s){if(t!=null&&typeof t=="object"&&!Array.isArray(t)){const i=t["depth"];i!=null&&this.SVs_(i["value"],i["linestyle"]);const s=t["depths"];s!=null&&this.SVs_(s["values"],s["linestyle"],s["fillstyle"]);return this}let e=hl.Wi_(i);e==null&&(e=this.SUt_!==void 0?hl.Wi_(this.SUt_):dIt.clone());if(t==null){this.bPs_!=null&&this.bPs_.nf_(!1);this.NPs_!=null&&this.NPs_.nf_(!1);return this}if(Array.isArray(t)){if(this.NPs_==null){this.NPs_=new tIt(e).rB_(e);this.SPs_.GY_(this.NPs_)}this.NPs_.wys_(t);if(i!=null){this.NPs_.rB_(e);s==null&&this.NPs_.iQ_(e.getColor())}s!==void 0&&this.NPs_.iQ_(s)}else{if(this.bPs_==null){this.bPs_=new $ct({linestyle:e,fillstyle:this.GUt_,showdepth:this.ePs_,datetimeformat:this.APs_,depthformatter:this.nPs_,showlabel:this.hPs_,valueformatter:this.rPs_,showinterpolatedvalues:this.oPs_},this.UBs_());this.SPs_.GY_(this.bPs_)}this.bPs_.lfs_(t);i!=null&&this.bPs_.rB_(e)}return this}GVs_(){return this.GPs_}YPs_(t){const i=t["footer"],s=i["border"],e=i["visible"]===!0?+i["height"]:0;if(i["visible"]==="none")return null;this.uVs_=(new sI).kY_(!0).aq_(!0).nf_(i["visible"]).cq_(this.IPs_).ft_({left:0,height:e,right:0,bottom:0},!0).qC_("footerPlotControl").GY_([this._Ps_=(new sI).kY_(!0).aq_(!0).cq_(this.IPs_).ft_({left:0,top:0,right:t["scroll"]["footerverticalscroll"]["size"],bottom:0},!0)]);s["visible"]===!0&&this._Ps_.GY_(this.FPs_=(new Sc).rB_(new hl(s["color"])));this._Ps_.GY_([this.PDi_=(new kct).qC_("footerPlotControl").LGs_(i["margin"]).YGs_(i["padding"]).FGs_(i["displaytype"]).HGs_(!0).ht_(new mA(0,0,0,CIt)).aq_(!0).gk_(mIt(i["viewcache"])).kY_(!0).Rns_(new TQ({name:"manipulator"}))]);this.RVs_(t["scroll"]["footerverticalscroll"]);return this.uVs_}RVs_(t){if(t["visible"]==="none")return this;const s=t["type"],e=t["options"],A={width:t["size"],top:0,right:0,bottom:0};if(this.wVs_!=null){this.r4t_(this.wVs_.K3_());this.uVs_.removeChild(this.wVs_)}this.uVs_.GY_([this.wVs_=LG.Ai_().hUt_(s,{name:"FooterVerticalScroll",modellimits:new mA(0,0,t["size"],1e3),visiblelimits:new mA(0,0,t["size"],100),size:t["size"]}).ft_(A,!0).qC_("footerverticalscroll")]);this.wVs_.nf_(t["visible"]);e!=null&&this.wVs_.setOptions(e);const n=(t,s,e)=>{i.MVs_(this.PDi_,e);this.sRi_();e!=null&&e.stopPropagation(!0)};this.wVs_.on(uG.qxt_,n).on(uG.Kxt_,n);return this}static MVs_(t,i){const s=t.ot_()!=null?t.ot_():t.getBounds(),e=i.ot_(),A=s.we_()-e.we_(),n=s.Ee_()-e.Ee_(),h=t.sd_().transformPoint(new lA(0,0)),r=undefined,o=t.sd_().transformPoint(new lA(A,n)).y-h.y;t.translate(0,o)}A4t_(t){this.wUi_=this.kVs_();this.nRi_=this.hRi_();this.FVs_=this.ARi_();this.tVs_=this.xVs_(t!=null?t["crosshair"]:null);this.iVs_=this.LVs_(t!=null&&t["cursortracking"]!=null?t["cursortracking"]["crosshair"]:null);this.sVs_=this.UVs_(t!=null&&t["cursortracking"]!=null?t["cursortracking"]["tooltip"]:null);this.YVs_=this.TVs_(t!=null?t["horizontal-splitter"]:null);this.KVs_=null;this.eVs_=this.HVs_(t!=null&&t["tracksplitter"]!=null?t["tracksplitter"]:null);this.eVs_!=null&&this.eVs_.setOrientation(this.$K_);this.YWi_=this.qVs_();this.h4t_([new RF({nodefilters:[{drag:t=>{let i=[];for(let s=0;s<t.length;++s){const e=t[s];e instanceof Nnt&&i.push(e.mus_());e instanceof aAt&&i.push(e)}if(i.length===0||typeof i[0].RIs_!="function")return[];const s=i[0].RIs_();if(s==null)return[];const e=s.YY_(),A=[];e.forEach((t=>{if(t instanceof mnt)A.push(t);else if(t instanceof ynt){t.Yws_()&&A.push(t.Yws_());t.Tws_()&&A.push(t.Tws_())}}));const n=(t,i)=>{i&&t.indexOf(i)===-1&&t.push(i)};for(let t=0;t<i.length;++t){const s=i[t];if(s instanceof mnt){n(i,s.vws_());n(i,s.Nws_())}else if(s instanceof ynt){n(i,s.Yws_());n(i,s.Tws_())}for(let t=0;t<A.length;++t){const e=A[t].vws_(),h=A[t].Nws_();if(e===s){n(i,h);n(i,A[t])}if(h===s){n(i,e);n(i,A[t])}}}i=i.filter((function(t){if(t instanceof mnt)for(let s=0;s<i.length;++s){const e=i[s];if(e instanceof ynt&&(e.Yws_()===t||e.Tws_()===t))return!1}return t.RIs_()===s}));return e.filter((t=>i.indexOf(t)>-1))},container:t=>{for(let i=0;i<t.length;++i){const s=t[i];if(s instanceof Nnt&&s.mus_())return typeof s.mus_().RIs_=="function"?s.mus_().RIs_():null;if(s instanceof aAt)return s.RIs_()}return null}},{drag:t=>{for(let i=0;i<t.length;++i)if(t[i]instanceof _lt)return t[i];return null}}]}).on(SF.gWt_,((t,i,s)=>{let e=s.J2_(),A=e[0],n;const h=i.bFt_(this.getRoot(),s),r=this.GPs_.if_().uI_(h),o=this.UBs_(),l=[];for(let t=0;t<o.LRs_();++t){const i=o.URs_(t);i.$C_()&&l.push(i)}const u=bn.$c_(2,0,this.if_());let a=Tct.Nqs_(r.getX(),u,l);a instanceof _lt||(a=a["left"]||a["right"]);const g=a.UBs_();if(A instanceof _lt){n=A.UBs_();if(n!==g)return;const t=this.TRs_(a);s.Lkt_()["ctrlKey"]&&(A=A.clone());this.removeTrack(A);this.YRs_(t,A);return}const c=A.RIs_?A.RIs_():null;if(c!==a){n=c.UBs_();if(n===g){if(s.Lkt_()["ctrlKey"]){const t=[];for(let i=0;i<e.length;++i)t.push(e[i].clone());_lt.oSs_(e,t);e=t}a.GY_(e)}}})),this.xPs_=new lG(this.Gqs_).add([this.iVs_,this.sVs_]).HC_("cursor-tracking"),new lG(this.Gqs_).add([this.tVs_]),this.YVs_,new lG(this.KPs_).add([this.eVs_]),new lG(this.$Ps_).add([this.wHi_=new lG(this.$Ps_).HC_("overlay")]),new lG(this).add([this.bVs_!=null?this.bVs_.K3_():null,this.CVs_!=null?this.CVs_.K3_():null,this.wVs_!=null?this.wVs_.K3_():null,this.nVs_!=null?this.nVs_.K3_():null]),new lG(this.Gqs_).add([this.YWi_,this.FVs_]),this.wUi_,this.nRi_]);this.xPs_.Kv_(!1);return this}qVs_(){return new gU(this.GPs_).Kv_(!1).TZt_(Wk.ax_).rWt_(!0).on(rU.jZt_,((t,i,s)=>{const e=s.getArea();this.zNs_(e.Ee_(),e.pe_())}))}TVs_(t){return t==="none"?null:new wU(this.KPs_).HC_("horizontal-splitter").S_t_([this.lVs_,this.EVs_,this.uVs_]).on(IU.p_t_,((t,i,s)=>{const e=s.getDelta(),A=s.E_t_(),n=this.wIs_();let h=null;if(A["top"]===this.lVs_){const t=this.JDi_.sT_().Ts_();h=this.v4_("north").rt_().clone();if(this.aPs_===!0){const i=h.Ts_()+e;if(i<t)h.Be_(i);else{A["top"].ft_({height:t});h.Be_(t)}}else h.Be_(h.Ts_()+e);this.vei_({north:this.pVs_("north",h)})}else{if(A["bottom"]!==this.uVs_)return;{const t=this.PDi_.sT_().Ts_();h=this.v4_("south").rt_().clone();if(this.gPs_===!0){const i=h.Ts_()-e;if(i<t)h.Be_(i);else{A["bottom"].ft_({height:t});h.Be_(t)}}else h.Be_(h.Ts_()+e);this.vei_({south:this.pVs_("south",h)})}}this.wq_();this.Gqs_.iT_();if(this.QPs_()){this.JDi_&&this.JDi_.iT_();this.PDi_&&this.PDi_.iT_()}const r=this.wIs_();this.JPi_().sRi_().JVs_().mVs_(n,r).td_()}))}pVs_(t,i){const s=this.v4_(t);if(s&&s.bG_()){i==null&&(i=s.rt_());const e=s.bG_().sT_(i,s.YY_((t=>ys(t,ta))));return e==null?0:t===ha.sG_||t===ha.AG_?e.Ie_():e.Ts_()}return 0}vei_(t){if(t==null||!this.OJs_)return this;let i=!1,s=null;if(t["west"]!=null){s=t["west"];this.v4_(ha.sG_).Cq_(s,!0);this.v4_(ha.hG_).Cq_(s,!0);this.v4_(ha.lG_).Cq_(s,!0);i=!0}if(t["east"]!=null){s=t["east"];this.v4_(ha.AG_).Cq_(s,!0);this.v4_(ha.rG_).Cq_(s,!0);this.v4_(ha.oG_).Cq_(s,!0);i=!0}if(t["north"]!=null){s=t["north"];if(this.lVs_){const t=this.pVs_("north")-this.lVs_.cG_();this.lVs_.dq_(s-t,!0)}this.v4_(ha.eG_).dq_(s,!0);this.v4_(ha.rG_).dq_(s,!0);this.v4_(ha.hG_).dq_(s,!0);i=!0}if(t["south"]!=null){s=t["south"];if(this.uVs_!=null){const t=this.pVs_("south")-this.uVs_.cG_();this.uVs_.dq_(s-t,!0)}this.v4_(ha.nG_).dq_(s,!0);this.v4_(ha.oG_).dq_(s,!0);this.v4_(ha.lG_).dq_(s,!0);i=!0}i===!0&&this.TPs_.wq_();return this}HVs_(t){const i=new rIt(this.HPs_,this.Gqs_).on(sIt.vJs_,((t,i,s)=>{this.WNi_()}));t&&i.dt_(t);return i}xVs_(t){if(t==="none")return null;t=qi(t,{layer:this.GPs_,name:"cross-hair"},!0);return new cF(t).kVt_(null).on(tF.EVt_,((t,i,s)=>{const e=s.getPosition();this.cPs_=s.Lkt_()!=null?e.getY():NaN;const A=s.Lkt_()!=null?e.getX():NaN;this.Dpi_()!=null&&this.Dpi_().PGs_(A,this.cPs_);this.Mpi_()!=null&&this.Mpi_().PGs_(A,this.cPs_)}))}LVs_(t){t=Pi(t,{layer:this.GPs_,name:"index-cross-hair",west:{visible:!1,border:{visible:!0,fillstyle:new wr(cIt),linestyle:new hl(gIt),padding:6,radius:6},alignment:dA.he_}},!0);return new cF(t).kVt_(null).FVt_(null).on(tF.EVt_,((t,i,s)=>{const e=s.getPosition().getY();this.SVs_(e)}))}UVs_(t){const i={layer:this,name:"multi-tooltip",autoupdate:!1,autoflip:!0,offsetx:0,alignment:dA.le_,orientation:this.KH_(),positionhandler:(t,i,s)=>{const e=[],A=this.UBs_(),n=A.LRs_(),h=undefined,r=s.getPlot().r3_().getBoundingClientRect();for(let t=0;t<n;t++){const s=A.URs_(t);if(this.KH_()===fg.ax_){const t=s.getBounds().getX()+s.Ie_()/2+A.$Y_().getX()+r.left,n=A.ot_(),h=n.getX()+A.$Y_().getX()+r.left,o=n.Qe_()+A.$Y_().getX()+r.left;h<t&&t<o?e.push(i.clone().setX(t)):e.push(null)}else{const t=r.top,n=r.bottom,h=this.$Y_().Ts_()-s.getBounds().getX()+A.ot_().getX()-s.Ie_()/2+t;t<h&&h<n?e.push(i.clone().setY(h)):e.push(null)}}return e}};(t=t?Es(t):null)&&bIt(t,i,["name","autoupdate","autoflip","offsetx","offsety","alignment","orientation"]);return new iY(i)}hRi_(){const t=()=>{if(this.KGi_===!0){this.sAi_();this.wUi_.Kv_(!1);this.KGi_=!1}},i=()=>{if(this.KGi_===!1){this.PVs_();this.KGi_=!0}},s=function(t,i,s){const e=this.Zgs_,A=this.Av_;if(A==null)return;let n=s.oc_();const h=A.getParent().if_().aI_(new lA(0,0));n=A.getParent().if_().aI_(new lA(n.x,n.y));const r=n.x-h.x,o=n.y-h.y;e.Gqs_.translate(r,0).iT_();const l=e.Gqs_.ut_(),u=(new Gn).setTranslate(l?l.mI_().x:0,0);e.HPs_.at_(u);if(e.QPs_()){e.JDi_&&e.JDi_.translate(r,0).iT_();e.PDi_!=null&&e.PDi_.translate(r,0).iT_();A===e.JDi_?e.JDi_.translate(0,o).iT_():e.PDi_!=null&&e.PDi_.translate(0,o).iT_()}e.JPi_().sRi_().td_()};let e=null;this.Dpi_()!=null&&(e=new sG({name:"HeaderPanning"}).on(jS.PFt_,t).on(jS.OFt_,i).on(jS.VFt_,s.bind({Zgs_:this,Av_:this.Dpi_()})));const A=new sG({name:"TrackPanning"}).cxt_(this.$K_===fg.ux_).on(jS.PFt_,t).on(jS.OFt_,i).on(jS.VFt_,((t,i,s)=>{const e=this.Gqs_.if_(),A=e.aI_(s.Fkt_());this.tVs_!=null&&this.tVs_.isEnabled()&&this.Gqs_.ot_().contains(A)&&this.tVs_.setPosition(A,!1,s);let n=s.oc_();const h=this.wIs_();let r,o,l;if(s.Lkt_()["ctrlKey"]===!0){const t=s.oc_(),i=this.wIs_(),n=A.getY()-i.Xs_(),h=i.zs_()-A.getY();let r,o;if(s.JFt_()){const i=t.start.y>t.end.y?1.2:1/1.2;r=A.getY()-n*i;o=A.getY()+h*i}else{const s=e.hI_(t.start.x,t.start.y).clone(),A=e.hI_(t.end.x,t.end.y).clone(),n=s.getY()-i.Xs_(),h=A.getY()-i.Xs_(),l=i.getSize()*(n/h);r=i.Xs_();o=i.Xs_()+l}this.Gqs_.zNs_(r,o).iT_()}else{const t=this.Gqs_.getParent().if_();r=t.aI_(new lA(0,0));n=t.aI_(new lA(n.x,n.y));l=n.y-r.y;o=n.x-r.x;s.JFt_()?this.rUt_["direction"]===Rct.XRs_?this.Gqs_.translate(0,l).iT_():this.rUt_["direction"]===Rct.Yqs_&&this.Gqs_.translate(o,0).iT_():this.Gqs_.translate(o,l).iT_();const i=this.Gqs_.ut_()?this.Gqs_.ut_().mI_().getX():0,e=(new Gn).setTranslate(i,0);this.HPs_.at_(e);if(this.QPs_()){let s=t.transformPoint(new lA(i,0));if(this.JDi_){s=this.JDi_.if_().aI_(s);this.JDi_.translate(s.x,0).iT_()}if(this.PDi_){s=this.PDi_.if_().aI_(s);this.PDi_.translate(s.x,0).iT_()}}}const u=this.wIs_();this.JPi_().sRi_().JVs_().mVs_(h,u);s.stopPropagation(!0,!0)}));let n=null;this.Mpi_()!=null&&(n=new sG({name:"FooterPanning"}).on(jS.PFt_,t).on(jS.OFt_,i).on(jS.VFt_,s.bind({Zgs_:this,Av_:this.Mpi_()})));return new lG(this,"panningTools").add([e==null?null:new lG(this.Dpi_(),"headerPanning").add(e),new lG(this.$Ps_,"trackPanning").add(A),n==null?null:new lG(this.Mpi_(),"footerPanning").add(n)])}ARi_(){const t=()=>{if(this.lPs_===!0){this.sAi_();this.wUi_.Kv_(!1);this.lPs_=!1}},i=()=>{if(this.lPs_===!1){this.PVs_();this.lPs_=!0}};return new IY({name:"TrackZoom",layer:this.GPs_}).on(rY.XZt_,t).on(rY.jZt_,i).on(rY.v0t_,((t,i,s)=>{const e=s.ot_();e!=null&&s.Lkt_().ctrlKey!==!0&&this.zNs_(e.Ee_(),e.pe_())})).TZt_(this.$K_===fg.ax_?nY.Y:nY.X)}mVs_(t,i,s){if(!t.Ws_(i)){this.VVs_();this.notify(uct.dqs_,this,{old:t,new:i});s&&this.JPi_()}return this}kVs_(){const t=new MF(this.KPs_).POt_(this)._Ot_((t=>{const i=[];t=t.filter((t=>t instanceof _lt||t instanceof Nnt||t instanceof tut||t instanceof q0||t instanceof ch&&this.SOt_(t)));for(let s=0;s<t.length;s++){const e=t[s];if(e instanceof q0)i.push(e.v4_());else if(e instanceof tut)e.RIs_()!=null&&i.indexOf(e.RIs_())<0&&i.push(e.RIs_());else if(e instanceof Nnt){const t=BIt(e.mus_());t!=null&&i.indexOf(t)<0&&i.push(t);i.push(e);i.push(e.mus_())}else e instanceof ch&&i.push(e);if(e instanceof Tlt)break}return i}));t.on(wF.DOt_,((t,i,s)=>{s.getSelection().forEach((t=>{t instanceof ch&&this.Sqs_(t,!1)}))}));t.on(wF.yOt_,((t,i,s)=>{s.getSelection().forEach((t=>{t instanceof ch&&this.Sqs_(t,!0)}));this.notify(uct.Eqs_,this,this.C5_("pick").getSelection().filter(Ih))}));t.on(wF.pOt_,((t,i,s)=>{const e=s.Lkt_(),A=this.C5_("pick");let n=[],h;for(h=0;h<A.getSelection().length;h++)n.push(A.getSelection().filter(Ih)[h]);const r=s.getSelection().filter(Ih);let o=s.HFt_()||!e.ctrlKey;o||r.filter((t=>t instanceof _lt)).forEach((t=>{n.indexOf(t)===-1&&(o=!0)}));o&&(n=[]);r.forEach((t=>{const i=n.indexOf(t);t instanceof _lt?i===-1&&n.push(t):i===-1?n.push(t):e.ctrlKey&&n.splice(i,1)}));r.splice(0,r.length);for(h=0;h<n.length;h++)r.push(n[h])}));t.rVt_(Ts.z_|Ts.X_);t.on(wF.WFt_,this.dPs_);return t}OPs_(t,i){if(this.JDi_!=null){const i=t==null?Rrt.IO_().clone().HC_("plot_header_provider").SDs_(hAt.EIs_):t;this.JDi_.IKt_(i.CQs_(this._Js_));const s=undefined,e=this.JDi_.sMs_().sMs_(Put.D_());e!=null&&e.Lq_(e.rt_().Be_(CIt-4))}if(this.PDi_!=null){const t=i==null?Rrt.IO_().clone().HC_("plot_footer_provider").SDs_(hAt.pIs_):i;this.PDi_.IKt_(t.CQs_(this.$Js_))}}OVs_(t,i){Array.isArray(i)||(i=[this.Dpi_(),this.Mpi_()]);for(let s=0;s<i.length;++s){const e=i[s];if(e!=null){const i=e.sMs_();if(i!=null){const s=i.sMs_(Put.D_());if(s instanceof Flt){const e=s.clone();e.SDs_(t);i.iMs_(Put.D_(),e)}}ur(e).Gw_((t=>t instanceof Nnt&&t.mus_()instanceof Put)).Eu_((i=>{i.SDs_(t)}))}}return this}WVs_(t,i){if(!(t instanceof Nnt))for(let s=0;s<this.VPs_.length;++s){if(this.VPs_[s]==null)continue;const e=this.VPs_[s].sMs_(),A=e.bpi_(t);if(A==null)continue;const n=ch.Dd_(A,mut);if(n!=null){this.dHi_!=null&&this.dHi_!==""&&(i?n.Bd_(this.dHi_):n.Qd_(this.dHi_));n.td_()}if(this.dHi_==null||this.dHi_===""){if(A.lQi_!==void 0)if(i){A.zVs_=A.ct_();A.XVs_=A.uQi_();let t=this.MPs_,i=this.vPs_;const s=A.lQs_()||this.yPs_;if(s!=null){if(s["highlight"]===!1)return;s.hasOwnProperty("linestyle")&&(t=s["linestyle"]);s.hasOwnProperty("fillstyle")&&(i=s["fillstyle"])}t!==void 0&&A.lQi_(t instanceof hl?t.clone():null);i!==void 0&&A.iQ_(i instanceof wr?i.clone():null)}else{const i=e.sMs_(t.D_());A.XVs_!=null?A.lQi_(A.XVs_):A.lQi_(i!=null?i.uQi_():null);A.zVs_!=null?A.iQ_(A.zVs_):A.iQ_(i!=null?i.ct_():null);A.zVs_=null;A.XVs_=null}}else i?A.Bd_(this.dHi_):A.Qd_(this.dHi_)}}Sqs_(t,i){if(this.dHi_!=null&&this.dHi_!==""){i?t.Bd_(this.dHi_):t.Qd_(this.dHi_);this.WVs_(t,i);return this}if(t instanceof Nnt||!(t instanceof ch))return this;const s=t.Cd_(Rl.__),e=t.Cd_(Rl.Fv_);(s||e)&&t.Qd_([Rl.__,Rl.Fv_]);let A,n,h=this.MPs_,r=this.vPs_;if(this.DPs_!=null){this.DPs_.hasOwnProperty("linestyle")&&(h=this.DPs_["linestyle"]);this.DPs_.hasOwnProperty("fillstyle")&&(r=this.DPs_["fillstyle"])}if(t instanceof _lt){if(h!==void 0||r!==void 0){const s=t.lSs_();if(i){s.iQ_(r);s.rB_(h);s.nf_(!0)}else s.nf_(!1)}}else if(t instanceof $At){A=t.gt_();n=t.PCs_();A!=null&&A.de_(A.Ie_()+(i?1:-1));n!=null&&n.de_(n.Ie_()+(i?1:-1));const s=t.fn_();if(s!=null&&!ys(s,GAt)){const e=s.gt_();e!=null&&e.de_(e.Ie_()+(i?1:-1));t.Cds_().indexOf("symbol")!==-1&&t.k6_(t.fn_())}}else if(t!=null&&typeof t.gt_=="function"&&t.gt_()!=null){A=t.gt_();A.de_(A.Ie_()+(i?1:-1))}this.WVs_(t,i);return this}jVs_(){const t=[];if(this.wUi_){const i=this.wUi_.getSelection();if(i.length===0)return t;let s;i.forEach((i=>{i instanceof _lt?s=i:i instanceof ch&&(s=ch.Dd_(i,_lt));s!=null&&t.indexOf(s)===-1&&t.push(s)}))}return t}ZVs_(t){const i=this.wUi_.getSelection().filter(Ih),s=[];if(i.length===0)return s;i.forEach((i=>{const e=i instanceof ch?i.getParent():null;(this.SOt_(i)&&t==null||e===t)&&s.push(i)}));return s}wIs_(){return this.Gqs_.wIs_()}zNs_(t,i){if(t instanceof fA){i=t.zs_();t=t.Xs_()}else if(t>i){const s=i;i=t;t=s}if(t===i)return this;const s=this.wIs_();let e=this.$Ps_.rt_();e&&!e.isEmpty()&&(e=this.$Ps_.if_().rn_(e));this.Gqs_.zNs_(t,i,e&&!e.isEmpty()?e:null);this.Gqs_.iT_();const A=this.wIs_();this.JPi_().sRi_().JVs_().mVs_(s,A).td_();return this}_Vs_(t){const i={border:this.zJs_,orientation:this.$K_,indextype:this.iPs_,indexunit:this.Fcs_(),timezone:this.$F_,timezoneoffset:this.Y$_,indextrack:this.WJs_,borderstrategy:this.pPs_,highlightstrategy:this.mPs_,background:this.XJs_,gridlinestyle:this.uPs_,type:tct.nqs_};return qi(t,i,!0)}addTrack(t){const i=this.LRs_();return this.YRs_(i,t)}YRs_(t,i){Array.isArray(i)||i instanceof _lt||typeof i=="string"&&(i={type:i});const s=this.Fqs_(t,i);return this.OFi_(s)}OFi_(t,i){i=Pi({headeroptions:this.jJs_,footeroptions:this.ZJs_,headercontainer:this.JDi_,footercontainer:this.PDi_},i);return this.Gqs_.OFi_(t,i)}Fqs_(t,i){i instanceof _lt||Array.isArray(i)||(i=this._Vs_(i));i=this.Gqs_.Fqs_(t,i);this.oVs_()===Gct.Uqs_&&(i=Array.isArray(i)?i:[i]).forEach((t=>{t.pq_(!t.ZY_())}));if(this.YVs_!=null&&this.LRs_()>0&&this.KVs_!=null){this.YVs_.Kv_(this.KVs_);this.KVs_=null}this.WNi_().hVs_(i);return i}Uq_(){this.JDi_&&this.JDi_.Uq_();this.Gqs_&&this.Gqs_.Uq_();this.PDi_!=null&&this.PDi_.Uq_();return super.Uq_()}Yq_(t,i){this.JDi_&&this.JDi_.Yq_(t,null);this.Gqs_.Yq_(t,null);this.PDi_&&this.PDi_.Yq_(t,null);super.Yq_(t,i);this.JDi_&&this.ANs_();this.PDi_&&this.wPs_();return this}oVs_(){return this.sPs_}AVs_(t){if(this.sPs_===t)return this;this.sPs_=t;this.v4t_.pq_(this.sPs_===Gct.Uqs_);let i=null;for(let t=0;t<this.LRs_();t++){i=this.URs_(t);i.pq_(!i.ZY_())}this.zPs_();return this}removeTrack(t,i){const s=this.wUi_.getSelection().filter(Ih),e=[];for(let i=0;i<s.length;++i)BIt(s[i])!==t&&e.push(s[i]);s.length!==e.length&&this.wUi_.vO_(e);this.UBs_().removeTrack(t,i);if(this.YVs_!=null&&this.LRs_()===0&&this.KVs_==null){this.KVs_=this.YVs_.isEnabled();this.YVs_.Kv_(!1)}this.hVs_(t);return this}$Vs_(t){if(this.Gqs_.FY_(t)<0)return null;const i={},s=t.zC_();if(s!=null&&s["type"]!=null){i["type"]=s["type"];i["name"]=t.dn_();if(i["type"]===tct.Aqs_){const s=ur(t).Gw_((t=>t instanceof Put)).xw_();s!=null&&(i["autolabelrotation"]=s.T__())}if(i["type"]!==tct.Aqs_){const s=ur(t).Gw_((t=>t.dn_()==="IndexGrids")).xw_();if(s!=null){const t=undefined,e=ur(s).Gw_((t=>t instanceof iat)).xw_().ZZ_();i["index"]={major:{visible:e.qx_("major"),style:e.Vx_("major").N_()},minor:{visible:e.qx_("minor"),style:e.Vx_("minor").N_()}}}if(i["type"]===tct.nqs_||i["type"]===tct.hqs_){const s=i["type"]===tct.nqs_?ur(t).Gw_((t=>t.dn_()==="LinearGrids")).xw_():ur(t).Gw_((t=>t.dn_()==="Log10Grids")).xw_();if(s!=null){i["value"]={major:{visible:s.HY_(1).$C_(),style:s.HY_(1).gt_().N_()},minor:{visible:s.HY_(0).$C_(),style:s.HY_(0).gt_().N_()}};if(i["type"]===tct.nqs_){i["value"]["major"]["increment"]=s.HY_(1).oFs_()-1;i["value"]["minor"]["increment"]=1;i["value"]["major"]["increment"]!==0&&(i["value"]["minor"]["increment"]=(s.HY_(0).oFs_()-1)/i["value"]["major"]["increment"])}else if(i["type"]===tct.hqs_){const t=ur(s).Gw_((t=>t instanceof eat)).xw_(),e=t.vFs_();i["value"]["logstart"]=e["logstart"];i["value"]["logstop"]=e["logstop"];i["value"]["logscale"]=t.DFs_();i["value"]["logdecades"]=t.pFs_()}}}}const e=t.CSs_();e!=null&&(i["block"]={visible:e.$C_(),position:e.getPosition()});const A=ur(t).Gw_((t=>t instanceof Put)).xw_();if(A!=null){const t=A.ZZ_();i["axis"]={name:A.dn_(),locale:t instanceof Zg?t.lx_():"en"};if(t!=null){i["axis"]["ticks"]={edge:{visible:t.qx_("edge"),style:t.Vx_("edge").N_()},major:{visible:t.qx_("major"),style:t.Vx_("major").N_()},minor:{visible:t.qx_("minor"),style:t.Vx_("minor").N_()}};i["axis"]["labels"]={edge:{visible:t.Gx_("major"),style:t.Rx_("major").N_()},major:{visible:t.Gx_("major"),style:t.Rx_("major").N_()},minor:{visible:t.Gx_("minor"),style:t.Rx_("minor").N_()}}}if(t instanceof Zg){i["axis"]["timezone"]=t.tx_();i["axis"]["timezoneoffset"]=t.gU_()}}return i}return null}tOs_(t,i){if(this.Gqs_.FY_(t)<0)return null;const s=t.zC_();if(s!=null&&s["type"]!=null){i["type"]==null&&(i["type"]=s["type"]);const e=i["type"]===tct.Aqs_,A=undefined;if(s["type"]===tct.Aqs_===e){if(i["type"]!==tct.Aqs_){const s=ur(t).Gw_((t=>t.dn_()==="IndexGrids")).xw_(),e=ur(t).Gw_((t=>t.dn_()==="LinearGrids")).xw_(),A=ur(t).Gw_((t=>t.dn_()==="Log10Grids")).xw_();if(i["axis"]!=null){const s=ur(t).Gw_((t=>t instanceof Put)).xw_();if(s!=null){i["axis"]["name"]!=null&&s.HC_(i["axis"]["name"]);const t=i["axis"]["locale"]!=null?i["axis"]["locale"]:"en",e=s.ZZ_();e instanceof Zg&&e.$L_(t)}}e!=null&&e.nf_(!1);A!=null&&A.nf_(!1);if(s!=null){const t=undefined,e=ur(s).Gw_((t=>t instanceof iat)).xw_().ZZ_();if(i["index"]!=null){if(i["index"]["major"]!=null){typeof i["index"]["major"]["visible"]=="boolean"&&e.Hx_("major",i["index"]["major"]["visible"]);i["index"]["major"]["style"]!=null&&e.Vx_("major").dt_(i["index"]["major"]["style"])}if(i["index"]["minor"]!=null){typeof i["index"]["minor"]["visible"]=="boolean"&&e.Hx_("minor",i["index"]["minor"]["visible"]);i["index"]["minor"]["style"]!=null&&e.Vx_("minor").dt_(i["index"]["minor"]["style"])}}}if(i["type"]===tct.nqs_||i["type"]===tct.hqs_){const s=i["type"]===tct.nqs_?ur(t).Gw_((t=>t.dn_()==="LinearGrids")).xw_():ur(t).Gw_((t=>t.dn_()==="Log10Grids")).xw_();s!=null&&s.nf_(!0);if(s!=null&&i["value"]!=null){const t=ur(s).Gw_((t=>t instanceof eat||t instanceof sat)).Fw_();if(i["value"]["major"]!=null){typeof i["value"]["major"]["visible"]=="boolean"&&t[1].nf_(i["value"]["major"]["visible"]);i["value"]["major"]["style"]!=null&&t[1].gt_().dt_(i["value"]["major"]["style"])}if(i["value"]["minor"]!=null){typeof i["value"]["minor"]["visible"]=="boolean"&&t[0].nf_(i["value"]["minor"]["visible"]);i["value"]["minor"]["style"]!=null&&t[0].gt_().dt_(i["value"]["minor"]["style"])}if(i["type"]===tct.nqs_){if(i["value"]&&i["value"]["major"]&&i["value"]["minor"]&&typeof i["value"]["major"]["increment"]=="number"&&typeof i["value"]["minor"]["increment"]=="number"){t[1]instanceof sat&&t[1].lFs_(i["value"]["major"]["increment"]+1);const s=i["value"]["major"]["increment"]*i["value"]["minor"]["increment"];t[0]instanceof sat&&t[0].lFs_(s+1)}}else if(i["type"]===tct.hqs_){const t=ur(s).Gw_((t=>t instanceof eat));typeof i["value"]["logstart"]=="number"&&typeof i["value"]["logstop"]=="number"?t.select((t=>{t.MFs_(i["value"]["logstart"],i["value"]["logstop"])})):typeof i["value"]["logstart"]=="number"&&typeof i["value"]["logdecades"]=="number"?t.select((t=>{t.MFs_(i["value"]["logstart"],null);t.mFs_(i["value"]["logdecades"])})):typeof i["value"]["logscale"]=="number"&&typeof i["value"]["logdecades"]=="number"&&t.select((t=>{t.yFs_(i["value"]["logscale"]);t.mFs_(i["value"]["logdecades"])}))}}}}if(i["type"]===tct.Aqs_){const s=ur(t).Gw_((t=>t instanceof Put)).xw_();i["autolabelrotation"]!=null&&s!=null&&s.Y__(i["autolabelrotation"]);if(i["axis"]!=null&&s!=null){if(i["axis"]!=null){const t=s.ZZ_();if(t!=null){const s=i["axis"]["ticks"],e=i["axis"]["labels"];["edge","major","minor"].forEach((i=>{if(s!=null&&s[i]!=null){typeof s[i]["visible"]=="boolean"&&t.Hx_(i,s[i]["visible"]);s[i]["style"]!=null&&t.Px_(i,s[i]["style"])}if(e!=null&&e[i]!=null){typeof e[i]["visible"]=="boolean"&&t.Jx_(i,e[i]["visible"]);e[i]["style"]!=null&&t.Ox_(i,e[i]["style"])}}))}}i["axis"]["name"]!=null&&s.HC_(i["axis"]["name"]);const t=i["axis"]["locale"]!=null?i["axis"]["locale"]:"en",e=s.ZZ_();if(e instanceof Zg){e.$L_(t);i["axis"]["timezone"]!=null&&e.uU_(i["axis"]["timezone"]);i["axis"]["timezoneoffset"]!=null&&e.aU_(i["axis"]["timezoneoffset"])}}}s["type"]=i["type"];i["name"]!==void 0&&t.HC_(i["name"]);if(i["block"]!=null){const s=t.CSs_();if(s!=null){typeof i["block"]["visible"]=="boolean"&&s.nf_(i["block"]["visible"]);typeof i["block"]["position"]=="number"&&s.setPosition(i["block"]["position"])}}}}t.td_();return t}wq_(t,i){if(!this.Bgt_)return this;super.wq_(t);this.TPs_==null||this.Bq_()||this.WNi_(i);return this}WNi_(t){if(this.Bgt_&&!this.Bq_()){const i=this.UBs_();if(i==null)return this;const s=i.getBounds().Ie_();[this.Gqs_,this.JDi_,this.PDi_].forEach((function(t){if(t!=null){t.ht_(t.getBounds().clone().de_(s));if(t.gq_()===!1){const i=t.rt_();t.Lq_(i.clone().de_(s))}}}));this.Gqs_.iT_();if(this.QPs_()){this.JDi_&&this.JDi_.iT_();this.PDi_&&this.PDi_.iT_()}this.sRi_(t).td_()}return this}WPs_(t){const i=function(t){const i=t.rLt_(),s=t.oLt_();return i.Ws_(s,NA.Je_)===!1},s=(t,i)=>{let s=t,e=t,A=t;if(typeof t=="object"){s=t.zDi_;e=t.wFt_;A=t.WDi_}const n=this.rUt_,h=this.$K_===fg.ax_?{right:e===!0?n["trackverticalscroll"]["size"]:0}:{left:e===!0?n["trackverticalscroll"]["size"]:0};this.$Ps_.ft_(h);if(this.ZPs_!=null){const t=this.$K_===fg.ax_?{right:s===!0?n["headerverticalscroll"]["size"]:0}:{left:s===!0?n["headerverticalscroll"]["size"]:0};this.ZPs_.ft_(t)}if(this._Ps_){const t=this.$K_===fg.ax_?{right:A===!0?n["footerverticalscroll"]["size"]:0}:{left:A===!0?n["footerverticalscroll"]["size"]:0};this._Ps_.ft_(t)}this.bVs_!=null&&this.bVs_.nf_(e===!0||e==="floating").ft_({bottom:i==="floating"?n["trackverticalscroll"]["size"]:0}).Wxt_(e==="floating");this.CVs_!=null&&this.CVs_.nf_(s===!0||s==="floating").Wxt_(s==="floating");this.wVs_&&this.wVs_.nf_(A===!0||A==="floating").Wxt_(A==="floating");this.TPs_.ft_({bottom:i===!0?n["trackhorizontalscroll"]["size"]:0});if(this.nVs_!=null){const t=this.$K_===fg.ax_?{right:e===!0||e==="floating"?n["footerverticalscroll"]["size"]:0}:{left:e===!0||e==="floating"?n["trackhorizontalscroll"]["size"]:0};this.nVs_.ft_(t).nf_(i===!0||i==="floating").Wxt_(i==="floating")}};let e=this.oLi_===!0,A=this.rLi_===!0;if(this.oLi_==="auto"||typeof this.oLi_=="object"||this.rLi_==="auto"){const t=i(this.bVs_),n=this.lVs_!=null&&this.lVs_.$C_()&&i(this.CVs_),h=this.uVs_!=null&&this.uVs_.$C_()&&i(this.wVs_);e=this.oLi_==="auto"&&(t||n||h);A=this.rLi_==="auto"&&i(this.nVs_);e=e||this.oLi_;if(typeof this.oLi_=="object"){const i=this.oLi_["header"],s=this.oLi_["plot"],A=this.oLi_["footer"];e={zDi_:i==="auto"?n:i==null||i,wFt_:s==="auto"?t:s==null||s,WDi_:A==="auto"?A:A==null||A}}s(e||this.oLi_,A||this.rLi_);this.WNi_(!1)}else if(t===!0){s(e||this.oLi_,A||this.rLi_);this.WNi_(!1)}return this}uvt_(){if(!this.Bgt_)return this;this.Gqs_.uvt_();const t=this.Gqs_.rt_();this.Gqs_.ht_(t.clone());this.bVs_&&this.bVs_.Lq_(this.Gqs_.rt_(),this.Gqs_.ot_(),this.Gqs_.jY_(),!1);this.nVs_&&this.nVs_.Lq_(this.Gqs_.rt_(),this.Gqs_.ot_(),!1,!1);this.sRi_(!0,!1);this.td_();return this}sRi_(t,i){if(!this.Bgt_)return this;this.bVs_&&this.bVs_.Lq_(this.Gqs_.rt_(),this.Gqs_.ot_(),this.Gqs_.jY_(),i);this.nVs_&&this.nVs_.Lq_(this.Gqs_.rt_(),this.Gqs_.ot_(),!1,i);if(this.CVs_!=null&&this.lVs_!=null&&this.lVs_.$C_()&&this.JDi_.rt_()!=null){this.CVs_.Lq_(this.JDi_.rt_(),this.JDi_.ot_(),!1,i);this.JDi_.qY_()&&this.iOs_(this.JDi_);this.CVs_.td_()}if(this.wVs_!=null&&this.uVs_&&this.uVs_.$C_()&&this.PDi_.rt_()!=null){this.wVs_.Lq_(this.PDi_.rt_(),this.PDi_.ot_(),!1,i);this.PDi_.qY_()&&this.iOs_(this.PDi_);this.wVs_.td_()}this.r5_&&this.r5_.yCt_(this.Gqs_,i1.LHi_);t!==!1&&this.WPs_();return this}iOs_(t){for(let i=0;i<this.Gqs_.LRs_();i++){const s=t.OGs_(this.Gqs_.URs_(i));s&&s.notify(rh.hC_,null,{modellimits:t.rt_(),visiblemodellimits:t.ot_()})}return this}sOs_(t,i){if(t!=null){this.QPs_()&&t.iT_();if(i!=null&&t.rt_()!=null){i.Lq_(t.rt_(),t.ot_(),!1);i.td_()}this.iOs_(t)}return this}notify(t,i,s){super.notify(t,i,s);if(this.Bgt_&&t===na.tG_){i===this.JDi_&&this.ANs_();i===this.PDi_&&this.wPs_();if(i===this.Gqs_||i instanceof _lt){this.WNi_();if(i instanceof _lt)this.hVs_(i);else{const t=this.Gqs_.YY_((t=>t instanceof _lt)).toArray();this.hVs_(t)}}}if(this.Bgt_&&!this.Bq_()&&i instanceof _lt&&t===rh.cC_){this.JDi_&&this.JDi_.DG_();this.PDi_&&this.PDi_.DG_()}return this}ANs_(){this.sOs_(this.JDi_,this.CVs_)}wPs_(){this.sOs_(this.PDi_,this.wVs_)}Dpi_(){return this.JDi_}Mpi_(){return this.PDi_}UBs_(){return this.Gqs_}LRs_(){return this.Gqs_.LRs_()}URs_(t){return this.Gqs_.URs_(t)}Nqs_(t,i){if(t instanceof lA){i=t.getY();t=t.getX()}this.OSt_==null&&(this.OSt_=new bC);const s=this.OSt_.select(this.getRoot(),t,i,2);let e=null;for(let t=s.length;t>=0;--t){e=null;const i=s[t];i instanceof _lt?e=i:i instanceof tut&&(e=i.RIs_());if(e!=null&&e.UBs_()===this.Gqs_)return e}return null}TRs_(t){return this.Gqs_.TRs_(t)}VVs_(){this.tVs_&&this.tVs_.isEnabled()&&this.tVs_.lOt_();if(this.xPs_&&this.xPs_.isEnabled()){this.iVs_.lOt_();this.sVs_.s0t_()}}JVs_(){this.notify(uct.Bqs_,this);return this}JPi_(){const t=undefined,i=this.UBs_().ot_();this.notify(uct.Qqs_,this,{start:i.Ee_(),end:i.pe_()});return this}Wqs_(t){ur(this.UBs_()).Gw_(this.SOt_).select(t)}bind(t){this.Gqs_.bind(t);return this}unbind(t){this.Gqs_.unbind(t);return this}setData(t){this.Gqs_.setData(t);return this}getData(){return this.Gqs_.getData()}JTi_(){return this.Gqs_.JTi_()}qTi_(t,i){this.Gqs_.qTi_(t,i);return this}kcs_(t){if(t!==this.Fcs_()){this.Gqs_.whs_(t);this.td_()}return this}Fcs_(){return this.Gqs_.Bhs_()}XNs_(t){if(t!==this.vNs_()){this.Gqs_.XNs_(t);this.td_()}return this}vNs_(){return this.Gqs_.vNs_()}rVs_(){return this.iPs_}jPs_(t,i){if(t==="md"){ki('WellLogWidget.setIndexType with type "md" is deprecated since 4.0. Use "IndexType.Depth" instead.');t=kut.XRs_}if(this.iPs_!==t){this.iPs_=t;for(let i=0;i<this.LRs_();++i){const s=this.URs_(i);if(s.XC_()==="INDEX"){const i=ur(s).Gw_((t=>t.XC_()==="AXIS")).xw_();if(i instanceof nd){const s=i.ZZ_(),e={tick:{major:s.Vx_("major"),minor:s.Vx_("minor"),edge:s.Vx_("edge")},label:{major:s.Rx_("major"),minor:s.Rx_("minor"),edge:s.Rx_("edge")}};i.jZ_(t===kut.zRs_?(new Zg).uU_(this.$F_).aU_(this.Y$_).$L_("en"):null);const A=i.ZZ_();A.Px_("major",e["tick"]["major"]);A.Px_("minor",e["tick"]["minor"]);A.Px_("edge",e["tick"]["edge"]);A.Ox_("major",e["label"]["major"]);A.Ox_("edge",e["label"]["edge"]);if(t===kut.zRs_){A instanceof Zg&&A.KD_(this.Fcs_());A.Ox_("minor",e["label"]["minor"]);this.WJs_["labelformat"]!==null&&A.Yx_(this.WJs_["labelformat"])}}}}i!=null&&this.kcs_(i);this.td_()}return this}KBs_(t,i){let s,e;if(t instanceof fA){s=t.Xs_();e=t.zs_()}else{if(typeof t!="number"||typeof i!="number")return this;if(t>i){e=t;s=i}else{e=i;s=t}}if(NA.equals(s,this.tPs_.Xs_())&&NA.equals(e,this.tPs_.zs_()))return this;if(isFinite(s)&&isFinite(e)){const t=this.wIs_();this.tPs_._s_(s,e);this.UBs_().ht_(new mA(this.UBs_().getBounds().we_(),0,this.UBs_().getBounds().Qe_(),Math.abs(e-s))).KBs_(s,e).iT_();const i=this.wIs_();this.sRi_(!0,!1).JVs_().mVs_(t,i,!0).td_()}return this}BIs_(){return this.UBs_().BIs_()}eOs_(t,i,s){const e=this.bNs_(i,s);if(isNaN(e))throw Error("The depth scale cannot be set");this.scale(e/t);return this}bNs_(t,i){const s=this.UBs_();return s==null?Number.NaN:s.bNs_(t,i,null,this.$K_)}scale(t,i){i==null&&(i=1);const s=this.wIs_();this.UBs_().scale(i,t);this.UBs_().iT_();const e=this.wIs_();this.sRi_().JPi_().JVs_().mVs_(s,e);return this}AOs_(){const t=this.wIs_(),i=this.EVs_.$Y_(),s=this.UBs_().getBounds(),e=(this.$K_===fg.ax_?i.Ts_():i.Ie_())/s.Ts_();let A=this.UBs_().ut_();A=A==null?new Gn(1,0,0,e,0,0):new Gn(A.xx,A.yx,A.xy,e,A.dx,0);this.UBs_().at_(A);this.wq_();const n=this.wIs_();this.mVs_(t,n,!0);return this}sKt_(){const t=this.UBs_();let i=t.LRs_();if(i===0)return this;let s=0;this.oLi_!=="floating"&&[this.CVs_,this.bVs_,this.wVs_].forEach((function(t){t&&t.$C_()&&(s=Math.max(s,t.getBounds().Ie_()))}));const e=this.EVs_.getBounds(),A=t.getBounds();if(NA.equals(A.Ie_(),0))return this;const n=(e.Ie_()-s)/A.Ie_();if(NA.equals(n,1))return this;const h=ch.hd_();ch.pd_(!1);const r=t.mf_();t.yf_(!0);const o=[],l=[];let u=0,a=0;for(let s=0;s<i;s++){const i=t.URs_(s),e=i.NS_();let A=i.Ie_()*n;if(e!=null){let t=e.WS_(),s=e.XS_();if(typeof t=="string"){t=jA.parse(t,0)["value"];typeof t!="number"&&(t=null)}if(typeof s=="string"){s=jA.parse(s,0)["value"];typeof t!="number"&&(s=null)}if(t||s){t=+t;s=+s;if(A<t){u-=t-A;A=t}else if(A>s){u+=A-s;A=s}l.push(i)}else{a+=A;o.push(i)}}else{a+=A;o.push(i)}t.nJs_(A,i)}if(l.length>0&&u>0){i=o.length;for(let s=0;s<i;s++){const i=o[s],e=i.Ie_(),A=e+u/(e/a);t.nJs_(A,i)}}ch.pd_(h);h&&t.vn_();t.yf_(r);this.JDi_&&this.JDi_.wq_();this.PDi_&&this.PDi_.wq_();const g=this.Gqs_.YY_((t=>t instanceof _lt)).toArray();this.WNi_().hVs_(g);return this}nOs_(t,i,s){const e=this.wIs_();this.UBs_().ONs_(t,i||Hlt.PNs_);this.UBs_().iT_();this.sRi_(!0,s).td_();const A=this.wIs_();e.zs_()===A.zs_()&&e.Xs_()===A.Xs_()||this.sRi_(!0,s).JPi_().JVs_().mVs_(e,A);return this}hOs_(t,i,s){if(t!=null){const i=this.UBs_(),e=i.ot_(),A=t.getBounds();let n=0;s===void 0?e.Qe_()<A.Qe_()?n=e.Qe_()-A.Qe_():e.we_()>A.we_()&&(n=e.we_()-A.we_()):n=OC.Zj_(s)?e.Qe_()-A.Qe_():OC.jj_(s)?e.we_()-A.we_():e.ye_()-A.ye_();if(n!==0){i.translate(n,0).iT_();this.Dpi_()!=null&&this.Dpi_().translate(n,0).iT_();this.Mpi_()!=null&&this.Mpi_().translate(n,0).iT_();this.sRi_()}}if(Number.isFinite(i)){let t=Hlt.PNs_;s!=null&&(t=OC.zj_(s)?Hlt.TOP:OC.Xj_(s)?Hlt.JNs_:Hlt.qNs_);this.nOs_(i,t)}return this}nJs_(t,i){if(i instanceof _lt&&i.getBounds()!=null&&i.getBounds().Ie_()===t)return this;this.UBs_().nJs_(t,i);this.WNi_().hVs_(i);return this}OGs_(t){return this.Gqs_.OGs_(t)}xqs_(t){return this.Gqs_.xqs_(t)}rOs_(t){if(t===this.MPs_)return this;this.MPs_=t;const i=this.C5_("pick");if(i==null)return this;const s=i.getSelection().filter(Ih);if(s==null)return this;s.forEach((t=>{this.Sqs_(t,!1);this.Sqs_(t,!0)}));return this}oOs_(){return this.MPs_}lOs_(t){if(t===this.vPs_)return this;this.vPs_=t;const i=this.C5_("pick");if(i==null)return this;const s=i.getSelection().filter(Ih);if(s==null)return this;s.forEach((t=>{this.Sqs_(t,!1);this.Sqs_(t,!0)}));return this}uOs_(){return this.vPs_}pqs_(){const t=this.LRs_();if(t>0)for(let i=t-1;i>=0;--i)if(this.URs_(i).$C_()){const t=this.URs_(i).getBounds();if(t!=null)return t.Qe_()}return 0}_Ot_(t){if(typeof t=="function"&&this.SOt_!==t){this.SOt_=t;this.Gqs_._Ot_(t);this.wUi_.vO_([])}return this}aOs_(t,i,s){if(t==="px")return s;const e=OA.Ai_(),A=e.sh_(),n=t&&e.gn_(t)?e.gn_(t):this.UBs_().vNs_(),h=i&&e.gn_(i)?e.gn_(i):this.UBs_().Bhs_(),r=e.gn_("in");let o=1,l=s;n!=null&&n.dn_()!==r.dn_()&&(o=n.wn_(o,r));o*=A;h!=null&&this.UBs_().Bhs_()!=null&&h.dn_()!==this.UBs_().Bhs_().dn_()&&(l=h.wn_(l,this.UBs_().Bhs_()));return o/l}gOs_(){return bn.jc_(0,1,this.Gqs_.if_())}sei_(t){const i={paperformat:null,top:.85,bottom:.85,left:1.1,right:1.1,units:"in",scaling:qI.jP_,keepaspectratio:!0,continuous:!1},s={mode:IK.R4t_,quality:1,speed:fK.k4t_},e={footer:null,header:null,isfootervisible:null,isheadervisible:null,documentheader:null,documentfooter:null,output:"PDF Output",save:!1,printsettings:null,limits:null,imagecompression:null,streamcompression:!0,indexunit:this.Fcs_(),deviceunit:this.vNs_()};t==null&&(t={});const A=qi(t,e,!0);A["printsettings"]=qi(A["printsettings"],i,!0);const n=OA.Ai_().gn_("px");if(A["printsettings"]["paperformat"]==null){const t=sf.Ai_().BV_("Letter",n,VI.aV_);A["printsettings"]["paperformat"]=t}A["scale"]==null&&(A["scale"]=this.bNs_(A["indexunit"],A["deviceunit"]));const h=undefined,r=OA.Ai_().gn_(A["printsettings"]["units"]),o=A["printsettings"]["paperformat"];o instanceof zI&&r!==o.gn_()&&(A["printsettings"]["paperformat"]=sf.Ai_().BV_(A["printsettings"]["paperformat"],r));A["imagecompression"]=qi(A["imagecompression"],s,!0);const l=this.aOs_(A["deviceunit"],A["indexunit"],A["scale"]);this.DP_();const u=this.XP_(A),a=new cQ({root:u,document:{header:A["documentheader"]instanceof fQ?A["documentheader"]:null,footer:A["documentfooter"]instanceof fQ?A["documentfooter"]:null},page:{header:A["header"],footer:A["footer"],isfootervisible:A["isfootervisible"],isheadervisible:A["isheadervisible"]},truescale:A["truescale"]==null||A["truescale"],options:{imagescalefactor:A["imagescalefactor"],orientation:this.$K_,exportscale:l!=null?l:1,limits:A["limits"]}}),g=new TH;if(Array.isArray(A["embededfonts"])){const t=undefined;A["embededfonts"].forEach((t=>{t=qi(t,{},!0);g.ysi_(t["subtype"],t["fontname"],t["fontweight"],t["fontstyle"],t["fontbase64encodedfile"],t["encoding"])}))}A["imagecompression"]&&g.Ssi_(A["imagecompression"]["mode"],A["imagecompression"]["quality"],A["imagecompression"]["speed"]);g.Nsi_(A["streamcompression"]);let c;c=ys(A["pdfstream"],Qy)?A["pdfstream"]:new by;return g.hei_(a,A["printsettings"],c,A["progress"]).then((t=>{t.save(A["output"],A["save"]);this.yP_();return t}))}DP_(){this.Kei_=this.Kei_||{};const t=[];this.Kei_.yAi_=this._C_();this.Kei_.cOs_=gs();this.rd_(!1);as(!1);this.Kei_.IOs_=this.BIs_().clone();this.Gqs_!=null&&this.Gqs_.ut_()!=null&&(this.Kei_.fOs_=this.Gqs_.ut_().clone());ur(this).Gw_((t=>t!=null&&(t.dn_()!=null&&t.dn_().indexOf("manipulator")!==-1||t instanceof cG))).select((i=>{if(i.$C_()){t.push(i);i.nf_(!1)}}));this.Kei_.layers=t;this.e1t_().wq_();return this}yP_(){as(this.Kei_.cOs_);this.KBs_(this.Kei_.IOs_);this.Gqs_!=null&&this.Kei_.fOs_!=null&&this.Gqs_.at_(this.Kei_.fOs_);const t=this.Kei_.layers;for(let i=0;i<t.length;++i)t[i].nf_(!0);this.COs_();this.wq_();this.rd_(this.Kei_.yAi_);this.Kei_=null}XP_(t){const i={documentheader:null,documentfooter:null,scale:this.gOs_(),deviceunit:"px"};t==null&&(t={});const s=qi(t,i,!0),e=this.BIs_();let A=this.pqs_();const n=this.aOs_(s["deviceunit"],s["indexunit"],s["scale"]);let h=0,r=0,o=0,l=this.lVs_&&this.lVs_.$C_()!==!1?bn.jc_(0,this.Dpi_().rt_().Ts_(),this.Dpi_().if_()):0,u=this.lVs_&&this.lVs_.$C_()!==!1?this.pqs_():0,a=this.uVs_&&this.uVs_.$C_()!==!1?bn.jc_(0,this.Mpi_().rt_().Ts_(),this.Mpi_().if_()):0,g=this.uVs_&&this.uVs_.$C_()!==!1?this.pqs_():0;const c=bn.jc_(0,this.UBs_().rt_().Ts_(),this.UBs_().if_());let I=this.pqs_();const f=this.UBs_().getBounds(),C=this.Dpi_()?this.Dpi_().getBounds():null,d=this.Mpi_()?this.Mpi_().getBounds():null,B=this.wIs_(),w={start:B.Xs_(),end:B.zs_()},Q=qi(t["limits"],w,!0),E=new fA(Q["start"],Q["end"]),p=[];let m=null,y=1,D=1,M=null;s["documentheader"]==null||s["documentheader"]instanceof fQ||(M=s["documentheader"].getBounds().Ie_());s["documentfooter"]==null||s["documentfooter"]instanceof fQ||(M=Math.max(s["documentfooter"].getBounds().Ie_(),M));let v=null;const b=s["printsettings"];if(b!=null&&b["paperformat"]instanceof XI){const t=b["paperformat"],i=t.KH_()===VI.aV_?t.Ie_():t.Ts_(),s=t.KH_()===VI.aV_?t.Ts_():t.Ie_();v=i-(b["left"]+b["right"]);this.KH_()===fg.ux_&&(v=s-(b["top"]+b["bottom"]));v=t.gn_().wn_(v,"px");v=Math.max(M,v)}else v=M;let N=LI.NP_,S=!1;S=this.$K_===fg.ux_?b!=null&&b["scaling"]==="FitHeight":b!=null&&b["scaling"]==="FitWidth";const G=b!=null&&b["keepaspectratio"];if(S&&v!=null){G===!0?b["keepaspectratio"]=!1:N=LI.SP_;if(S){y=v/A;D=G?y:1;m=Gn.TI_(y,D)}}if(s["documentheader"]!=null&&!(s["documentheader"]instanceof fQ)){const t=s["documentheader"];h=t.getBounds().Ts_();const i=t.getBounds(),e=new TI(t,i.clone()).ht_(new mA(0,0,t.getBounds().Ie_(),h)).YP_(LI.SP_);p.push(e);if(this.$K_===fg.ux_){e.ht_(new mA(0,0,i.Ts_(),i.Ie_()));r=i.Ts_();h=0;const t=Gn.kI_(i.Ts_(),i.Ie_()-i.Ts_()),s=Gn.FI_(-Math.PI/2,0,i.Ts_()),A=Gn.multiply(t,s);e.qP_(A)}}const R=new mA(f.we_(),E.Xs_()-e.Xs_(),f.we_()+A,E.zs_()-e.Xs_()),k=new TI(this.UBs_(),R).UP_(m).YP_(N).pq_(this.oVs_()===Gct.Uqs_);let F=R.Ts_()*n,x,L;I*=y;F*=D;u*=y;l*=D;g*=y;a*=D;if(C){x=new TI(this.Dpi_(),new mA(C.we_(),C.Ee_(),C.we_()+A,C.pe_())).UP_(m).YP_(N).pq_(this.oVs_()===Gct.Uqs_);x.ht_(new mA(0,h,u,h+l))}if(d){L=new TI(this.Mpi_(),new mA(d.we_(),d.Ee_(),d.we_()+A,d.pe_())).UP_(m).YP_(N).pq_(this.oVs_()===Gct.Uqs_);L.ht_(new mA(0,h+l+F,g,h+l+F+a))}k.ht_(new mA(0,h+l,I,h+l+F));let U=h+F+l+a;if(this.$K_===fg.ux_){if(l!==0&&u!==0&&x){const t=Gn.kI_(r+l,u-l),i=Gn.FI_(-Math.PI/2,0,l);let s=Gn.multiply(t,i);const e=Gn.TI_(x.getBounds().Ie_()/x.KP_().Ie_(),x.getBounds().Ts_()/x.KP_().Ts_());s=Gn.multiply(s,e);this.oVs_()===Gct.Uqs_&&s.scale(-1,1).translate(-I,0);x.qP_(s);x.ht_(new mA(r,h,r+l,h+u))}const t=r+l+c,i=Gn.kI_(t-(E.Xs_()-e.Xs_())*n,I-c),s=Gn.FI_(-Math.PI/2,0,c);let o=Gn.multiply(i,s);o=Gn.multiply(o,Gn.TI_(k.getBounds().Ie_()/k.KP_().Ie_(),k.getBounds().Ts_()/k.KP_().Ts_()));this.oVs_()===Gct.Uqs_&&o.scale(-1,1).translate(-I,0);k.qP_(o);k.ht_(new mA(r+l,h,r+l+F,h+I));if(a!==0&&g!==0&&L){const t=Gn.kI_(r+l+F+a,g-a),i=Gn.FI_(-Math.PI/2,0,a);let s=Gn.multiply(t,i);const e=Gn.TI_(L.getBounds().Ie_()/L.KP_().Ie_(),L.getBounds().Ts_()/L.KP_().Ts_());s=Gn.multiply(s,e);this.oVs_()===Gct.Uqs_&&s.scale(-1,1).translate(-I,0);L.qP_(s);L.ht_(new mA(r+l+F,h,r+l+F+a,h+g))}U=I;A=r+l+k.getBounds().Ie_()+a}this.lVs_&&this.lVs_.$C_()&&p.push(x);p.push(k);this.uVs_&&this.uVs_.$C_()&&p.push(L);if(s["documentfooter"]!=null&&!(s["documentfooter"]instanceof fQ)){const t=s["documentfooter"];o=t.getBounds().Ts_();const i=t.getBounds(),e=new TI(t,i.clone()).ht_(new mA(0,U,i.Ie_(),o+U)).YP_(LI.SP_);p.push(e);if(this.$K_===fg.ux_){e.ht_(new mA(A,0,i.Ts_()+A,i.Ie_()));o=t.getBounds().Ts_();const s=Gn.kI_(A+i.Ts_(),i.Ie_()-i.Ts_()),n=Gn.FI_(-Math.PI/2,0,i.Ts_()),h=Gn.multiply(s,n);e.qP_(h);A+=o}else U+=o}const Y=this.KH_()===fg.ax_?wQ.ax_:wQ.ux_,T=new EQ(null,Y);return new KI(p,T)}e1t_(){let t;const i={dOs_:this.jVs_(),jgs_:this.ZVs_()};this.PLi_.push(i);for(t=0;t<i.jgs_.length;t++)this.Sqs_(i.jgs_[t],!1);for(t=0;t<i.dOs_.length;t++)this.Sqs_(i.dOs_[t],!1);return this}COs_(){let t;const i=this.PLi_.pop();if(i==null)return this;for(t=0;t<i.dOs_.length;t++)this.Sqs_(i.dOs_[t],!0);for(t=0;t<i.jgs_.length;t++)this.Sqs_(i.jgs_[t],!0);return this}BOs_(){this.wUi_.vO_([]);this.PLi_.length=0}l4t_(t,i){const s=this._C_();this.rd_(!1);this.BOs_();i=i||Sct.Ai_();for(let t=this.LRs_()-1;t>=0;t--)this.removeTrack(this.URs_(t),!0);const e=undefined,A=new pw(i).l5_(t);A.Hw_("#widget",this);A.Hw_("#headersContainer",this.JDi_);A.Hw_("#footersContainer",this.PDi_);A.Uw_("geotoolkit.welllog.widgets.WellLogWidget","template");this.rd_(s);this.wq_();this.sRi_().td_();return this}u4t_(t,i){t=t||Sct.Ai_();this.e1t_();const s=undefined,e=new pw(t,i).o5_("template",this);this.COs_();return e}setOrientation(t){const i=this.UBs_().yq_();i instanceof tI&&i.setOrientation(t);if(this.$K_===t)return this;const s=this.C5_("TrackPanning");s!=null&&s.cxt_(t===fg.ux_);const e=this.wIs_();this.$K_=t;ur(this).Gw_('node => class(node) == "geotoolkit.welllog.LogAxis"').select((t=>{const i=this.$K_===fg.ux_?Math.PI/2:-Math.PI/2;t.U__(i)}));this.eVs_!=null&&this.eVs_.setOrientation(t);this.sVs_!=null&&this.sVs_.dt_({orientation:t});if(this.v4t_==null)return this;const A=this.rt_();this.zPs_();this.v4t_.at_(null);if(t===fg.ux_){const t=(A.Ie_()-A.Ts_())/2,i=(A.Ts_()-A.Ie_())/2;this.v4t_.ht_(new mA(t,i,t+A.Ts_(),i+A.Ie_())).rotate(-1*Math.PI/2,A.ye_(),A.De_())}else this.v4t_.ht_(new mA(0,0,A.Ie_(),A.Ts_()));this.wq_();this.Gqs_!=null&&this.Gqs_.iT_();this.JDi_!=null&&this.JDi_.iT_();this.PDi_!=null&&this.PDi_.iT_();this.Gqs_==null&&this.JDi_==null&&this.PDi_==null||this.sRi_().td_();const n=this.wIs_();this.mVs_(e,n,!0);this.notify(uct.gC_,this);return this}zPs_(){if(this.bVs_==null||this.nVs_==null)return this;const t=this.bVs_.$C_()?this.rUt_["trackverticalscroll"]["size"]:0,i=this.nVs_.$C_()?this.rUt_["footerverticalscroll"]["size"]:0,s=this.oVs_()===Gct.Uqs_!=(this.$K_===fg.ux_),e=new Aa(s?{left:this.oLi_!=="floating"?t:0,top:0,right:0,bottom:0}:{left:0,top:0,right:this.oLi_!=="floating"?t:0,bottom:0}),A=new Aa(s?{width:t,top:0,left:0,bottom:0}:{width:t,top:0,right:0,bottom:0}),n=new Aa(s?{left:t,bottom:0,right:0,height:i}:{left:0,bottom:0,right:t,height:i});if(this.ZPs_){this.ZPs_.ft_(e);this.CVs_.ft_(A)}this.$Ps_.ft_(e);this.bVs_.ft_(A);if(this._Ps_){this._Ps_.ft_(e);this.wVs_.ft_(A)}this.nVs_.ft_(n);return this}ht_(t){const i=this.getBounds();if(i!=null&&i.Ce_(t,NA.Je_))return this;const s=this.wIs_();super.ht_(t);if(this.v4t_==null)return this;const e=this.rt_();if(this.$K_===fg.ux_){const t=(e.Ie_()-e.Ts_())/2,i=(e.Ts_()-e.Ie_())/2;this.v4t_.at_(null).ht_(new mA(t,i,t+e.Ts_(),i+e.Ie_())).rotate(-1*Math.PI/2,e.ye_(),e.De_())}else this.v4t_.ht_(new mA(0,0,e.Ie_(),e.Ts_()));if(this.Gqs_!=null){this.Gqs_.iT_();this.qRi_&&this.$K_===fg.ux_&&this.Gqs_.yq_().zT_()}this.JDi_!=null&&this.QPs_()&&this.JDi_.iT_();this.PDi_!=null&&this.QPs_()&&this.PDi_.iT_();this.Gqs_==null&&this.JDi_==null&&this.PDi_==null||this.sRi_().td_();const A=this.wIs_();this.mVs_(s,A,!0);return this}Lq_(t){super.Lq_(t);this.v4t_!=null&&this.v4t_.Lq_(t);return this}KH_(){return this.$K_}sAi_(){this.Hei_.push({wOs_:this.YVs_!=null&&this.YVs_.isEnabled(),QOs_:this.eVs_.isEnabled(),LAi_:this.tVs_!=null&&this.tVs_.isEnabled(),EOs_:this.xPs_.isEnabled(),UAi_:this.YWi_.isEnabled(),selection:this.wUi_.isEnabled(),YAi_:this.nRi_.isEnabled(),zoom:this.FVs_.isEnabled()});return this}PVs_(){const t=this.Hei_.pop();if(t!=null){this.YVs_&&this.YVs_.Kv_(t.wOs_);this.nRi_.Kv_(t.YAi_);this.FVs_.Kv_(t.zoom);this.wUi_.Kv_(t.selection);this.eVs_.Kv_(t.QOs_);this.YWi_.Kv_(t.UAi_);this.xPs_.Kv_(t.EOs_);this.tVs_&&this.tVs_.Kv_(t.LAi_)}return this}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);this.setOptions(t);this.XPs_(t);return this}N_(){const t=super.N_(),i=this.JV_();Pi(i,t);t["highlight"]={};t["highlight"]["cssclass"]=this.dHi_;t["highlight"]["strategy"]=this.mPs_;t["highlight"]["linestyle"]=this.MPs_;t["highlight"]["fillstyle"]=this.vPs_;t["highlight"]["header"]=this.yPs_;t["highlight"]["track"]=this.DPs_;t["range"]=this.BIs_();t["horizontalscrollable"]=this.rLi_;t["verticalscrollable"]=this.oLi_;t["timezone"]=this.$F_;t["timezoneoffset"]=this.Y$_;t["nodefilter"]=this.SOt_;const s=this.Gqs_.jqs_(),e=this.Gqs_._qs_();(s&&s.length>0||e)&&(t["collapsed"]={intervals:s,marker:e});t["header"]=qi(EIt(this.JDi_),t["header"]);this.kPs_&&(t["header"]["border"]=yIt(this.kPs_));this.JDi_&&(t["header"]["viewcache"]=this.JDi_.yq_()!=null);t["header"]["restrictmaxheadersize"]=this.aPs_;t["header"]["roundedboxradius"]=this._Js_;t["footer"]=qi(EIt(this.PDi_),t["footer"]);this.FPs_&&(t["footer"]["border"]=yIt(this.FPs_));this.PDi_&&(t["footer"]["viewcache"]=this.PDi_.yq_()!=null);t["footer"]["restrictmaxfootersize"]=this.gPs_;t["footer"]["roundedboxradius"]=this.$Js_;t["gridlinestyle"]=this.uPs_;t["viewcache"]=this.Gqs_.yq_()!=null;this.EPs_&&(t["border"]=yIt(this.EPs_));t["trackcontainer"]={};t["trackcontainer"]["track"]={};t["trackcontainer"]["track"]["borderstrategy"]=this.pPs_;t["trackcontainer"]["track"]["highlightstrategy"]=this.mPs_;t["trackcontainer"]["verticalflip"]=this.Gqs_.jY_();this.RPs_&&(t["trackcontainer"]["border"]=yIt(this.RPs_));t["annotations"]={};t["annotations"]["west"]=this.M4_[ha.sG_];t["annotations"]["east"]=this.M4_[ha.AG_];t["annotations"]["north"]=this.M4_[ha.eG_];t["annotations"]["south"]=this.M4_[ha.nG_];t["annotationssizes"]={};const A=[ha.eG_,ha.nG_,ha.sG_,ha.AG_];for(let i=0;i<A.length;i++)t["annotationssizes"][A[i]]=this.pVs_(A[i]);t["marker"]={};t["marker"]["indexvisible"]=this.ePs_;t["marker"]["datetimeformat"]=this.APs_;t["marker"]["indexformatter"]=this.nPs_;t["marker"]["labelvisible"]=this.hPs_;t["marker"]["valueformatter"]=this.rPs_;t["marker"]["enabledinterpolatedvalues"]=this.oPs_;t["marker"]["linestyle"]=this.SUt_;t["marker"]["fillstyle"]=this.GUt_;t["tools"]={};t["tools"]["crosshair"]=this.tVs_.N_();t["tools"]["cursortracking"]={};t["tools"]["cursortracking"]["crosshair"]=this.iVs_.N_();t["tools"]["cursortracking"]["tooltip"]=this.sVs_.N_();t["tools"]["tracksplitter"]=this.eVs_.N_();t["track"]={};t["track"]["background"]=this.XJs_;t["track"]["border"]=Pi(this.zJs_);t["track"]["header"]=Pi(this.jJs_);t["track"]["footer"]=Pi(this.ZJs_);t["indextrack"]=Pi(this.WJs_);return t}connect(t,i){if(!i){if(!(t instanceof nd))return this;i=t.KH_()}const s=undefined;this.pOs_().connect(t,{sender:!1,receiver:!0,vertical:i===fg.ax_,horizontal:i===fg.ux_,events:[]});return this}pOs_(){if(!this.r5_){this.r5_=new I1({mode:[i1.LHi_]});this.r5_.connect(this.Gqs_,{vertical:!0,horizontal:!1,sender:!0,receiver:!1,events:[rh.oC_,rh.nC_]});this.r5_.yCt_(this.Gqs_,i1.LHi_)}return this.r5_}qPs_(t){this.td_();this.Gqs_.Xqs_(t);this.uvt_()}mOs_(){this.qPs_(this.Gqs_.jqs_());this.wq_();return this}hJs_(t){this.Gqs_.hJs_(t);return this}kqs_(){return this.Gqs_.kqs_()}};s=i=t([Zs(HI),_s("geotoolkit.welllog.widgets.WellLogWidget")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoidjRfIiwiZ2V0T3B0aW9ucyI6IkpWXyIsImdldEhlYWRlckhlaWdodCI6ImFWc18iLCJnZXRGb290ZXJIZWlnaHQiOiJnVnNfIiwic2V0Rm9vdGVySGVpZ2h0IjoiY1ZzXyIsInNldEhlYWRlckhlaWdodCI6IklWc18iLCJzZXRIZWFkZXJTY3JvbGxWaXNpYmxlIjoiZlZzXyIsImdldEhlYWRlclNjcm9sbFZpc2libGUiOiJkVnNfIiwic2V0Rm9vdGVyU2Nyb2xsVmlzaWJsZSI6IkJWc18iLCJnZXRGb290ZXJTY3JvbGxWaXNpYmxlIjoiUVZzXyIsInNldEF0dGFjaGVkSGVhZGVycyI6IkRWc18iLCJpc0F0dGFjaGVkSGVhZGVycyI6IlFQc18iLCJnZXREZXB0aE1hcmtlcnMiOiJOVnNfIiwic2V0RGVwdGhNYXJrZXJzIjoiU1ZzXyIsImdldFRyYWNrTWFuaXB1bGF0b3JMYXllciI6IkdWc18iLCJpbml0aWFsaXplVG9vbHMiOiJBNHRfIiwic2V0QW5ub3RhdGlvblNpemUiOiJ2ZWlfIiwic2V0QXhpc0hlYWRlclR5cGUiOiJPVnNfIiwiaGlnaGxpZ2h0VmlzdWFsSGVhZGVyIjoiV1ZzXyIsImhpZ2hsaWdodFZpc3VhbCI6IlNxc18iLCJnZXRTZWxlY3RlZFRyYWNrcyI6ImpWc18iLCJnZXRTZWxlY3RlZFZpc3VhbHMiOiJaVnNfIiwiZ2V0VmlzaWJsZURlcHRoTGltaXRzIjoid0lzXyIsInNldFZpc2libGVEZXB0aExpbWl0cyI6InpOc18iLCJpbnNlcnRUcmFjayI6IllSc18iLCJzdXNwZW5kVXBkYXRlIjoiVXFfIiwicmVzdW1lVXBkYXRlIjoiWXFfIiwiZ2V0VHJhY2tSZW5kZXJEaXJlY3Rpb24iOiJvVnNfIiwic2V0VHJhY2tSZW5kZXJEaXJlY3Rpb24iOiJBVnNfIiwiZ2V0VHJhY2tPcHRpb25zIjoiJFZzXyIsInNldFRyYWNrT3B0aW9ucyI6InRPc18iLCJ1cGRhdGVMYXlvdXQiOiJ3cV8iLCJ1cGRhdGVTY3JvbGxQb3NpdGlvbnMiOiJzUmlfIiwidXBkYXRlSGVhZGVyIjoiQU5zXyIsInVwZGF0ZUZvb3RlciI6IndQc18iLCJnZXRIZWFkZXJDb250YWluZXIiOiJEcGlfIiwiZ2V0Rm9vdGVyQ29udGFpbmVyIjoiTXBpXyIsImdldFRyYWNrQ29udGFpbmVyIjoiVUJzXyIsImdldFRyYWNrc0NvdW50IjoiTFJzXyIsImdldFRyYWNrQXQiOiJVUnNfIiwiZ2V0VHJhY2tBdFBvc2l0aW9uIjoiTnFzXyIsImdldFRyYWNrSW5kZXgiOiJUUnNfIiwidXBkYXRlRGF0YSI6IkpQaV8iLCJmb3JFYWNoVmlzdWFsIjoiV3FzXyIsImdldERhdGFCaW5kaW5nIjoiSlRpXyIsInNldERhdGFCaW5kaW5nIjoicVRpXyIsInNldEluZGV4VW5pdCI6Imtjc18iLCJnZXRJbmRleFVuaXQiOiJGY3NfIiwic2V0RGV2aWNlVW5pdCI6IlhOc18iLCJnZXREZXZpY2VVbml0Ijoidk5zXyIsImdldEluZGV4VHlwZSI6InJWc18iLCJzZXRJbmRleFR5cGUiOiJqUHNfIiwic2V0RGVwdGhMaW1pdHMiOiJLQnNfIiwiZ2V0RGVwdGhMaW1pdHMiOiJCSXNfIiwic2V0RGVwdGhTY2FsZSI6ImVPc18iLCJnZXREZXB0aFNjYWxlIjoiYk5zXyIsImZpdFRvSGVpZ2h0IjoiQU9zXyIsImZpdFRvV2lkdGgiOiJzS3RfIiwic2Nyb2xsVG9JbmRleCI6Im5Pc18iLCJwYW5Ub1RyYWNrIjoiaE9zXyIsInNldFRyYWNrV2lkdGgiOiJuSnNfIiwiZ2V0VHJhY2tIZWFkZXIiOiJPR3NfIiwiZ2V0VHJhY2tGb290ZXIiOiJ4cXNfIiwic2V0SGlnaGxpZ2h0TGluZVN0eWxlIjoick9zXyIsImdldEhpZ2hsaWdodExpbmVTdHlsZSI6Im9Pc18iLCJzZXRIaWdobGlnaHRGaWxsU3R5bGUiOiJsT3NfIiwiZ2V0SGlnaGxpZ2h0RmlsbFN0eWxlIjoidU9zXyIsImdldFRyYWNrc1NpemUiOiJwcXNfIiwic2V0Tm9kZUZpbHRlciI6Il9PdF8iLCJleHBvcnRUb1BkZiI6InNlaV8iLCJiZWdpbkV4cG9ydCI6IkRQXyIsImVuZEV4cG9ydCI6InlQXyIsImdldEV4cG9ydEVsZW1lbnQiOiJYUF8iLCJsb2FkVGVtcGxhdGUiOiJsNHRfIiwic2F2ZVRlbXBsYXRlIjoidTR0XyIsInNldEJvdW5kcyI6Imh0XyIsInNldE1vZGVsTGltaXRzIjoiTHFfIiwiZ2V0T3JpZW50YXRpb24iOiJLSF8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0VHJhY2tGYWN0b3J5IjoiaEpzXyIsImdldFRyYWNrRmFjdG9yeSI6Imtxc18ifX19");Yy("2021.1.0","geotoolkit.welllog.widgets.WellLogWidget",(function(t){if(t==null)return t;if(t["header"]!=null){if(t["header"]["display-type"]!=null){t["header"]["displaytype"]=t["header"]["display-type"];delete t["header"]["display-type"]}if(t["footer"]["display-type"]!=null){t["footer"]["displaytype"]=t["footer"]["display-type"];delete t["footer"]["display-type"]}}return t}));var RIt=function(){var t=class{static register(t){t.OE_("geotoolkit.welllog.LogTrack",{save:function(t,i){i.lp_(t,"default");const s=function(t){const i=ur(t).Gw_((function(t){return t.dn_()==="LinearGrids"})).xw_(),s=ur(t).Gw_((function(t){return t.dn_()==="Log10Grids"})).xw_(),e=ur(t).Gw_((function(t){return t.dn_()==="TangentialGrids"})).xw_(),A=ur(t).Gw_((function(t){return t.dn_()==="IndexGrids"})).xw_();if(i==null||s==null||e==null)return null;let n,h,r,o=2,l=2,u=2;if(i.$C_()){n=tct.nqs_;o=i.HY_(1).oFs_()-1;o=o<=1?1:o;l=(i.HY_(0).oFs_()-1)/o;h=i.HY_(1).gt_().getColor();r=i.HY_(0).gt_().getColor()}else if(e.$C_()){n=tct.rqs_;o=e.HY_(0).ZZ_(fg.ax_).l$_();l=e.HY_(0).ZZ_(fg.ax_).Gj_();h=e.HY_(0).gt_(fg.ux_,"major").getColor();r=e.HY_(0).gt_(fg.ux_,"minor").getColor()}else{n=tct.hqs_;u=s.HY_(0).pFs_();h=s.HY_(1).gt_().getColor();r=s.HY_(0).gt_().getColor()}const a=undefined,g=undefined;return{tracktype:n,verticalmajorcount:o,verticalminorcount:l,verticaldecade:u,horizontalmajoraxiscolor:A.HY_(0).ZZ_().Vx_("major").getColor(),horizontalminoraxiscolor:A.HY_(0).ZZ_().Vx_("minor").getColor(),verticalmajoraxiscolor:h,verticalminoraxiscolor:r}},e=function(t){const i=undefined,s=ch.Dd_(t,GIt).OGs_(t),e=ur(s).Gw_((function(t){return t instanceof Tlt})).xw_(),A=e!=null&&s.gRs_(),n=s.sMs_().bpi_(t),h=undefined,r=undefined,o=undefined,l=undefined,u=undefined;return{visible:A,title:n.mus_().dn_(),holdtitle:s.QRs_(),automultiplelines:n.HNs_(),autotitlerotation:n.T__(),rotationangle:n.kx_()*180/Math.PI}},A={general:s(t),title:e(t)};i.Oi_("calculated",A);i.commit()},load:function(t,i){const s=t.hp_(),e=s["calculated"]["general"],A=s["calculated"]["title"],n=function(t,i){const s=ch.Dd_(i,GIt).OGs_(i),e=s.sMs_().bpi_(i);s.aRs_(t["visible"]);e.mus_().HC_(t["title"]);s.wRs_(t["holdtitle"]);e.KNs_(t["automultiplelines"]);e.Y__(t["autotitlerotation"]);e.Wx_(t["rotationangle"]*Math.PI/180)},h=function(t,i){const s=ur(i).Gw_((function(t){return t.dn_()==="Grids"})).xw_();let e=null,A=null;if(s!=null)for(let n=0;n<s.qY_();n++){const h=s.HY_(n).dn_();if(h==="LinearGrids"&&t["tracktype"]===tct.nqs_){i.zC_()["type"]=tct.nqs_;s.HY_(n).nf_(!0);e=s.HY_(n);e.HY_(0).lFs_(+t["verticalminorcount"]*+t["verticalmajorcount"]+1);e.HY_(1).lFs_(+t["verticalmajorcount"]+1);e.HY_(0).gt_().setColor(t["verticalminoraxiscolor"]);e.HY_(1).gt_().setColor(t["verticalmajoraxiscolor"])}else if(h==="Log10Grids"&&t["tracktype"]===tct.hqs_){i.zC_()["type"]=tct.hqs_;s.HY_(n).nf_(!0);e=s.HY_(n);e.HY_(0).mFs_(+t["verticaldecade"]);e.HY_(1).mFs_(+t["verticaldecade"]);e.HY_(0).gt_().setColor(t["verticalminoraxiscolor"]);e.HY_(1).gt_().setColor(t["verticalmajoraxiscolor"])}else if(h==="TangentialGrids"&&t["tracktype"]===tct.rqs_){i.zC_()["type"]=tct.rqs_;s.HY_(n).nf_(!0);e=s.HY_(n);e.HY_(0).ZZ_(fg.ax_).u$_(+t["verticalmajorcount"]).Rj_(+t["verticalminorcount"]);e.HY_(0).gt_(fg.ux_,"major").setColor(t["verticalmajoraxiscolor"]);e.HY_(0).gt_(fg.ux_,"minor").setColor(t["verticalminoraxiscolor"])}else if(h==="IndexGrids"){s.HY_(n).nf_(!0);A=s.HY_(n);A.HY_(0).ZZ_().Vx_("minor").setColor(t["horizontalminoraxiscolor"]);A.HY_(0).ZZ_().Vx_("major").setColor(t["horizontalmajoraxiscolor"])}else s.HY_(n).nf_(!1)}};h(e,i);n(A,i);return i}});t.OE_("geotoolkit.welllog.CompositeLogCurve",{save:function(t,i){i.lp_(t,"default");const s={};s["markerVisible"]=t.mds_();s["autoScaling"]=!t.zCs_()&&!t.sds_();s["limits"]={};s["limits"]["from"]=t.zCs_()?t.cds_():t.lds_();s["limits"]["to"]=t.zCs_()?t.Ids_():t.uds_();const e=function(t){let i=.5,s=null;if(t){t.vws_()instanceof ont&&(i=+t.vws_().getValue().toFixed(2));t.vws_()instanceof $At&&(s=t.vws_().dn_())}const e=undefined;return{refLine:s||"BaseLine",baseLineValue:i}};let A=["BaseLine"];ur(t.getParent()).Gw_((function(t){return t instanceof ynt})).Gw_((function(i){return i.dn_()!==t.dn_()})).select((function(t){A.push(t.dn_())}));A=A.filter((function(t,i,s){return s.indexOf(t)===i}));let n=["empty"];ur(t.RIs_()).Gw_((function(t){return t instanceof ynt})).Gw_((function(i){return i.dn_()!==t.dn_()&&i.FCs_()==null})).select((function(t){n.push(t.dn_())}));n=n.filter((function(t,i,s){return s.indexOf(t)===i}));s["leftfill"]=e(t.Yws_());s["rightfill"]=e(t.Tws_());s["leftfill"]["enum"]=A;s["rightfill"]["enum"]=A;s["stack"]={refCurveName:t.FCs_()instanceof ynt?t.FCs_().dn_():"empty",enum:n};i.Oi_("calculated",s);i.commit()},load:function(t,i){i=t.qw_().jE_("default").load(t,i);const s=t.hp_()["calculated"];i.pds_(s["markerVisible"]);if(s["autoScaling"]){i.XCs_(!1);i.ods_();i.rds_()}else{i.rds_();if(i.zCs_()){i.rds_();i.tds_(+s["limits"]["from"],+s["limits"]["to"])}else{i.ods_();i.ZCs_(+s["limits"]["from"],+s["limits"]["to"])}}const e=function(t,i){return ur(t).Gw_((function(t){return t instanceof ynt})).Gw_((function(t){return t.dn_()===i})).xw_()};let A,n,h,r;if(t.hp_()["leftfill"]!=null){A=+s["leftfill"]["baseLineValue"];n=e(i.getParent(),s["leftfill"]["refLine"]);if(n==null){n=i.Pws_();n instanceof ont||(n=new ont);n.setValue(A)}i.Jws_(n)}if(t.hp_()["rightfill"]!=null){A=+s["rightfill"]["baseLineValue"];n=e(i.getParent(),s["rightfill"]["refLine"]);if(n==null){n=i.Ows_();n instanceof ont||(n=new ont);n.setValue(A)}i.Vws_(n)}if(t.hp_()["calculated"]["stack"]!=null){h=s["stack"]["refCurveName"];const t=i.RIs_();r=h==="empty"?null:e(t?.QIs_(),h);i.RCs_(r)}return i}});t.OE_("geotoolkit.welllog.Log2DVisual",{save:function(t,i){i.lp_(t,"default");const s=t.rms_();s instanceof xut?i.Oi_("decimationstrategy",s.ZRs_()?"Rounded Average":"Average"):s instanceof Iht?i.Oi_("decimationstrategy","Default"):s instanceof Lut&&i.Oi_("decimationstrategy",s.tks_()?"Local Minimum":"Local Maximum");i.commit()},load:function(t,i){const s=undefined;switch(t.hp_()["decimationstrategy"]){case"Average":t.hp_()["decimationstrategy"]=new xut;break;case"Rounded Average":t.hp_()["decimationstrategy"]=new xut(!0);break;case"Default":t.hp_()["decimationstrategy"]=new Iht;break;case"Local Maximum":t.hp_()["decimationstrategy"]=new Lut;break;case"Local Minimum":t.hp_()["decimationstrategy"]=new Lut(!0);break}if((i=t.qw_().jE_("default").load(t,i)).Sps_()){const t=i.Rps_();i.Gps_(t.Xs_(),t.zs_())}return i}});t.OE_("geotoolkit.welllog.header.LogAxisVisualHeader",{save:function(t,i){i.lp_(t,"default");i.commit()},load:function(t,i){const s=undefined;delete t.hp_()["visual"];return t.qw_().jE_("default").load(t,i)}})}};return t}();var kIt=Ci(function(){let i=class t extends OS{constructor(t,i){let s;s=t instanceof Ic?{layer:t}:t!=null?Es(t):null;if(i!==void 0){s=s||{};s["name"]=typeof i=="string"?i:""}if(s!=null&&s["cachedlayer"]!==void 0){ki("AbstractLogVisualsEditingTool.Options.cachedlayer is deprecated since 4.0,"+" please use AbstractLogVisualsEditingTool.Options.layer instead.");s["layer"]=s["cachedlayer"]}super(s);this.yOs_=cE;this.eFt_({pointerdown:this.zFt_.bind(this),pointermove:this.XFt_.bind(this),pointerup:{callback:this.Ct_.bind(this),object:Mi}});this.dgt_=null;this.DOs_=new lA;this.MOs_=new lA;this.E8_=null;this.Sgt_=[];this.Qgt_=new lA;this.Xgt_=!1;this.vOs_=!0;this.OSt_=new bC;const e=s&&s["handlestyles"]||{};e["ghostlinestyle"]===void 0&&(e["ghostlinestyle"]=new hl("grey"));e["ghostfillstyle"]===void 0&&(e["ghostfillstyle"]=new wr("lightgrey"));e["activefillstyle"]===void 0&&(e["activefillstyle"]=new wr("red"));e["activelinestyle"]===void 0&&(e["activelinestyle"]=new hl("red"));e["inactivefillstyle"]===void 0&&(e["inactivefillstyle"]=new wr);e["inactivelinestyle"]===void 0&&(e["inactivelinestyle"]=new hl);this.bOs_(e);this.Ggt_=s&&s["handlesize"]!==void 0?s["handlesize"]:8}dt_(t){if((t=Es(t))==null)return this;if(t["cachedlayer"]!==void 0){ki("AbstractLogVisualsEditingTool.Options.cachedlayer is deprecated since 4.0,"+" please use AbstractLogVisualsEditingTool.Options.layer instead.");t["layer"]==null&&(t["layer"]=t["cachedlayer"])}t["handlestyles"]!==void 0&&this.uct_(t["handlestyles"]);t["handlesize"]!==void 0&&this.sgt_(t["handlesize"]);return super.dt_(t)}N_(){const t=super.N_();t["handlestyles"]=this.NOs_();t["handlesize"]=this.egt_();return t}SOs_(t){return t instanceof dD?t.lR_():this.GOs_(t)}GOs_(t){const i=t.OA_(),s=t.WA_();return new lA(i.x+(s.x-i.x)/2,i.y+(s.y-i.y)/2)}ROs_(t){return new lA(t.Fkt_().getX(),t.Fkt_().getY())}kOs_(t,i){return this.E8_?this.OSt_.select(this.E8_.getRoot(),t,i,2).filter(Ih):null}$gt_(t){for(let i=0;i<this.Sgt_.length;i++)this.Sgt_[i].nf_(t);return this}FOs_(t,i){i["nativeEventArgs"]=t;return i}getPosition(){return this.Qgt_}xOs_(){ki("AbstractLogVisualsEditingTool.getCachedManipulatorLayer is deprecated since 4.0,"+" please use AbstractLogVisualsEditingTool.getManipulatorLayer instead.");return this.mgt_()}e7_(){return this.dgt_}vgt_(){return this.wgt_}lct_(){return this.Xgt_}LOs_(){return this.vOs_}NOs_(){return{ghostlinestyle:this.UOs_,ghostfillstyle:this.YOs_,activefillstyle:this.TOs_,inactivefillstyle:this.KOs_,activelinestyle:this.HOs_,inactivelinestyle:this.qOs_}}JOs_(){return this.yOs_}setPosition(t,i){this.Qgt_.vs_(t,i);return this}Mgt_(t){this.wgt_=t;return this}ygt_(t){if(t===this.dgt_)return this;this.POs_(t);this.update();return this}POs_(t){this.dgt_=t;return this}oct_(t){if(this.Xgt_!==t){this.Xgt_=t;this.update()}return this}VOs_(t){this.vOs_=t;return this}uct_(t){this.bOs_(t);this.update();return this}OOs_(t){this.yOs_=t;this.update();return this}sgt_(t){this.Ggt_=t;this.update();return this}egt_(){return this.Ggt_}lFt_(t){this.E8_=t;return this}Pkt_(){super.Pkt_();this.update()}bOs_(t){t["ghostlinestyle"]!==void 0&&(this.UOs_=hl.Wi_(t["ghostlinestyle"]));t["ghostfillstyle"]!==void 0&&(this.YOs_=il.BD_(t["ghostfillstyle"]));t["activefillstyle"]!==void 0&&(this.TOs_=il.BD_(t["activefillstyle"]));t["inactivefillstyle"]!==void 0&&(this.KOs_=il.BD_(t["inactivefillstyle"]));t["activelinestyle"]!==void 0&&(this.HOs_=hl.Wi_(t["activelinestyle"]));t["inactivelinestyle"]!==void 0&&(this.qOs_=hl.Wi_(t["inactivelinestyle"]))}};i.prototype.update=Zi;i.prototype.zFt_=Zi;i.prototype.XFt_=Zi;i.prototype.Ct_=Zi;i=t([_s("geotoolkit.welllog.widgets.tools.AbstractLogVisualEditingTool")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwib25Nb3VzZURvd24iOiJ6RnRfIiwib25Nb3VzZU1vdmUiOiJYRnRfIiwib25Nb3VzZVVwIjoiQ3RfIiwiZ2V0RGV2aWNlWFkiOiJST3NfIiwibWFrZVNlbGVjdGlvbiI6ImtPc18iLCJzZXRIYW5kbGVzVmlzaWJsZSI6IiRndF8iLCJnZXRDYWNoZWRNYW5pcHVsYXRvckxheWVyIjoieE9zXyIsImdldFNoYXBlIjoiZTdfIiwiZ2V0QWN0aXZlSGFuZGxlIjoidmd0XyIsImdldFNob3dHaG9zdCI6ImxjdF8iLCJnZXRIaWRlR2hvc3RPbkRyb3AiOiJMT3NfIiwiZ2V0SGFuZGxlU3R5bGVzIjoiTk9zXyIsImdldEhhbmRsZVBhaW50ZXIiOiJKT3NfIiwic2V0QWN0aXZlSGFuZGxlIjoiTWd0XyIsInNldFNoYXBlIjoieWd0XyIsInNldFNob3dHaG9zdCI6Im9jdF8iLCJzZXRIaWRlR2hvc3RPbkRyb3AiOiJWT3NfIiwic2V0SGFuZGxlU3R5bGVzIjoidWN0XyIsInNldEhhbmRsZVBhaW50ZXIiOiJPT3NfIiwic2V0SGFuZGxlU2l6ZSI6InNndF8iLCJnZXRIYW5kbGVTaXplIjoiZWd0XyIsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZCI6IlBrdF8ifX19");var FIt=function(){let i=class t{constructor(t,i,s){this.WOs_=0;this.tH_=t;this._at_=i;this.JP_=s;this.vQ_=void 0;this.WOs_=0;this.connect()}dispose(){if(this.zOs_!=null){this._at_.off(rh.rC_,this.zOs_);this.zOs_=null}}XOs_(){this._at_.off(rh.rC_,this.zOs_);return this}jOs_(){this.zOs_==null&&(this.zOs_=()=>this.td_());this._at_.on(rh.rC_,this.zOs_);this.td_();return this}ZOs_(){return this.WOs_}disconnect(){this.WOs_--;if(this.WOs_===0&&this._at_!=null){this._at_.off(rh.rC_,this.zOs_);this.zOs_=null}return this}connect(){this.WOs_++;if(this.zOs_==null&&this._at_!=null){this.zOs_=()=>this.td_();this._at_.on(rh.rC_,this.zOs_)}return this}_Os_(){return this._at_}PP_(){return this.JP_}td_(){this.vQ_=void 0;this.tH_.td_();return this}Ad_(){this.vQ_=void 0;return this}Ji_(){if(this.vQ_!==void 0)return this.vQ_;if(this._at_==null||this.JP_==null)return null;this.vQ_=WF.KWt_(this._at_,this.JP_.getParent());return this.vQ_}transformPoint(t,i){const s=this.Ji_();return s!=null?s.transformPoint(t,i):i!=null?i.vs_(t):t.clone()}validate(t,i){const s=this.Ji_().rI_();if(s==null)return new lA(t,i);if(ne(this._at_)){const e=s.nI_(t,i);if(this._at_.rt_().contains(e))return e.clone()}return null}uM_(){return this.vQ_!==void 0}N_(){const t=undefined;return{owner:this.tH_,connections:this.WOs_,node:this.JP_,anchor:this._at_.XC_()}}dt_(t){if((t=Es(t))==null)return this;t["connections"]!=null&&(this.WOs_=t["connections"]);t["owner"]&&(this.tH_=t["owner"]);t["node"]&&(this.JP_=t["node"]);t["anchor"]&&(this._at_=t["anchor"]);this.connect();return this}};i=t([_s("geotoolkit.welllog.tools.annotations.editors.adapters.PointAdapter")],i);return i}();function xIt(t){return t&&typeof t.$Os_=="function"&&typeof t.tWs_=="function"}var LIt=function(){let i=class t{constructor(t){this.iWs_=[];this.dgt_=t;this.sWs_=new Map;this.QK_=!1;this.eWs_=!0}dispose(){if(this.sWs_!=null){this.sWs_.forEach((t=>t.dispose()));this.sWs_.clear();this.sWs_=null}}e7_(){return this.dgt_}getRoot(){return this._root}clear(){this.sWs_.forEach((t=>t.dispose()));this.sWs_.clear();return this}XOs_(){this.sWs_.forEach((t=>t.XOs_()));return this}jOs_(){this.sWs_.forEach((t=>t.jOs_()));return this}AWs_(t){return this.sWs_!=null&&this.sWs_.has(t)?this.sWs_.get(t):null}nWs_(t){const i=this.AWs_(t);if(i!=null){i.disconnect();i.ZOs_()===0&&this.sWs_.delete(t)}return this}hWs_(t){this.sWs_==null&&(this.sWs_=new Map);const i=t._Os_();if(i!=null){this.sWs_.set(i,t);this._root=i.getRoot()}return this}rWs_(){const t=[];this.sWs_.forEach((i=>t.push(i)));return t}oWs_(){return this.iWs_}lWs_(t){this._root=t.getRoot();this.sWs_==null&&(this.sWs_=new Map);if(this.sWs_.has(t)){const i=undefined;return this.sWs_.get(t).connect()}const i=new FIt(this,t,this.dgt_);this.sWs_.set(t,i);return i}isEnabled(){return this.eWs_}Kv_(t){if(this.eWs_===t)return this;this.eWs_=t;this.eWs_?this.jOs_():this.XOs_();this.QK_=!1;this.eWs_&&this.uWs_(!0);return this}uM_(){return this.QK_}aWs_(t){this.QK_=t;return this}td_(){if(this.QK_){this.QK_=!1;this.dgt_.td_()}return this}gWs_(t,i,s,e){return t!=null?t(i,s,e):{anchor:s instanceof lA?s:new lA(s,e),node:null}}cWs_(t){return t.IWs_?t.IWs_.transformPoint(t.anchor):t.anchor}fWs_(t,i){if(t==null)return{anchor:i.anchor,IWs_:i.node?this.lWs_(i.node):null};t.anchor=i.anchor;if(t.IWs_!=null&&t.IWs_._Os_()===i.node)return t;t.IWs_!=null&&this.nWs_(t.IWs_._Os_());t.IWs_=i.node!=null?this.lWs_(i.node):null;return t}uWs_(t){this.aWs_(!0);return this}N_(){const t={shape:this.dgt_,enabled:this.eWs_};this.iWs_!=null&&(t["anchors"]=this.iWs_.map((t=>({anchor:t.anchor,connector:t.IWs_}))));return t}dt_(t){if((t=Es(t))==null)return this;t["shape"]!=null&&(this.dgt_=t["shape"]);t["enabled"]!=null&&this.Kv_(t["enabled"]);if(t["anchors"]!=null){this.iWs_=t["anchors"].map((t=>({anchor:t.anchor,connector:t.IWs_})));this.uWs_(!0)}return this}CWs_(){this.iWs_.forEach((t=>{this.hWs_(t.IWs_)}));return this}dWs_(t,i,s){this.iWs_.push({anchor:new lA(i,s),IWs_:this.lWs_(t)});return this}};i=t([_s("geotoolkit.welllog.tools.annotations.editors.adapters.GeometryAdapter")],i);return i}();var UIt=Ci(function(){let i=class t extends Rd{dispose(){if(this.BWs_!=null){this.BWs_.dispose();this.BWs_=null}super.dispose()}tWs_(t){if(this.BWs_===t)return this;this.BWs_=t;this.BWs_!=null&&this.BWs_.CWs_();return this}$Os_(){return this.BWs_}jC_(t){super.jC_(t);this.BWs_!=null&&(t==null?this.BWs_.Kv_(!1):this.BWs_.getRoot()===t.getRoot()&&this.BWs_.Kv_(!0));return this}ud_(t){return this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0||super.ud_(t)}render(t){this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0&&this.BWs_.uWs_();super.render(t)}N_(){const t=super.N_();t["geometryadapter"]=this.BWs_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["geometryadapter"]instanceof LIt&&this.tWs_(t["geometryadapter"]);return this}};i=t([_s("geotoolkit.welllog.tools.annotations.shapes.Line")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY2hlY2tDb2xsaXNpb24iOiJ1ZF8ifX19");var YIt=function(){let i=class t extends LIt{zA_(t,i,s){const e=this.e7_();if(e==null||e.Df_())return this;if(i!=null){const s=this.gWs_(t,e,i);let A=this.wWs_();A=this.fWs_(A,s);this.QWs_(A);i=this.cWs_(A)}if(s!=null){const i=this.gWs_(t,e,s);let A=this.EWs_();A=this.fWs_(A,i);this.pWs_(A);s=this.cWs_(A)}e.zA_({from:i,to:s});return this}uWs_(t){super.uWs_();const i=this.e7_();if(i==null)return this;const s=this.wWs_(),e=this.EWs_(),A=s!=null?this.cWs_(s):i.OA_(),n=e!=null?this.cWs_(e):i.WA_(),h=ch.hd_(),r=i.mf_();ch.pd_(!1);i.yf_(!0);i.zA_({from:A,to:n});i.yf_(r);ch.pd_(h);t===!0&&i.td_();return this}wWs_(){return this.iWs_[0]}QWs_(t){this.iWs_[0]=t;return this}EWs_(){return this.iWs_[1]}pWs_(t){this.iWs_[1]=t;return this}};i=t([_s("geotoolkit.welllog.tools.annotations.editors.adapters.LineAdapter")],i);return i}();var TIt=function(){let i=class t extends Nx{constructor(t){let i=null;t!=null&&t["node"]!=null||(i=new UIt({linestyle:{width:2,pixelsnapmode:!0}}));super(t=qi(t,{name:"LineEditor",node:i}));if(t["node"]instanceof Rd&&xIt(t["node"])){let i=t["node"].$Os_();if(i==null){i=new YIt(t["node"]);t["node"].tWs_(i)}this.mWs_=i}}isSupported(t){return t["node"]instanceof Rd||t["mode"]===Dx.Line}$Os_(){return this.mWs_}yWs_(t){this.DWs_=t;return this}PWt_(t,i,s,e){if(!(t instanceof Rd))return super.PWt_(t,i,s,e);const A=t.OA_().clone().translate(i,s),n=t.WA_().clone().translate(i,s);this.zA_(t,A,n);return!0}VWt_(t,i,s){if(!(t instanceof Rd))return super.VWt_(t,i,s);const e=i.transformPoint(t.OA_()),A=i.transformPoint(t.WA_());this.zA_(t,e,A);return!0}zA_(t,i,s){if(this.mWs_==null||this.mWs_.isEnabled()!==!0||t!==this.mWs_.e7_())return super.zA_(t,i,s);this.mWs_.zA_(this.DWs_,i,s);return this}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.editors.Line")],i);return i}();var KIt=Ci(function(){let i=class t extends sE{dispose(){if(this.BWs_!=null){this.BWs_.dispose();this.BWs_=null}super.dispose()}tWs_(t){if(this.BWs_===t)return this;this.BWs_=t;this.BWs_!=null&&this.BWs_.CWs_();return this}$Os_(){return this.BWs_}jC_(t){super.jC_(t);this.BWs_!=null&&(t==null?this.BWs_.Kv_(!1):this.BWs_.getRoot()===t.getRoot()&&this.BWs_.Kv_(!0));return this}ud_(t){return this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0||super.ud_(t)}render(t){this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0&&this.BWs_.uWs_();super.render(t)}N_(){const t=super.N_();t["geometryadapter"]=this.BWs_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["geometryadapter"]instanceof LIt&&this.tWs_(t["geometryadapter"]);return this}};i=t([_s("geotoolkit.welllog.tools.annotations.shapes.Arrow")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY2hlY2tDb2xsaXNpb24iOiJ1ZF8ifX19");var HIt=function(){let i=class t extends TIt{constructor(t){let i=null;t!=null&&t["node"]!=null||(i=new KIt({linestyle:{width:2,pixelsnapmode:!0},symbolend:new ma({width:12,height:24,painter:da,alignment:dA.le_,sizeisindevicespace:!0,preserverightangle:!0,linestyle:"black",fillstyle:"black"})}));super(t=qi(t,{name:"ArrowEditor",node:i},!0))}isSupported(t){return t["node"]instanceof KIt||t["mode"]===Dx.$Xt_}OWt_(t,i,s){if(!(t instanceof KIt))return super.OWt_(t,i,s);const e=t.OA_(),A=t.WA_(),n=Gn.FI_(i,e.getX(),e.getY()),h=e,r=n.transformPoint(A);this.zA_(t,h,r);return!0}};i=t([_s("geotoolkit.welllog.tools.annotations.editors.Arrow")],i);return i}();var qIt=function(){let i=class t extends LIt{gR_(t,i,s){const e=this.e7_();if(e==null||e.Df_())return this;let A;A=i instanceof lA?i:new lA(i,s);const n=this.gWs_(t,e,A);let h=this.akt_();h=this.fWs_(h,n);this.ukt_(h);A=this.cWs_(h);const r=e.ut_();if(r!=null){const t=Math.atan2(r.QI_(),r.BI_());t&&e.at_(Gn.FI_(t,A.getX(),A.getY()))}e.gR_(A);return this}uWs_(t){super.uWs_();const i=this.e7_();if(i==null)return this;const s=i.lR_(),e=this.akt_(),A=e!=null?this.cWs_(e):i.lR_();if(A.bs_(s,NA.Je_))return this;const n=ch.hd_(),h=i.mf_();ch.pd_(!1);i.yf_(!0);const r=i.ut_();if(r!=null){const t=Math.atan2(r.QI_(),r.BI_());t&&i.at_(Gn.FI_(t,A.getX(),A.getY()))}i.gR_(A);i.yf_(h);ch.pd_(n);t===!0&&i.td_();return this}akt_(){return this.iWs_[0]}ukt_(t){this.iWs_[0]=t;return this}};i=t([_s("geotoolkit.welllog.tools.annotations.editors.adapters.TextAdapter")],i);return i}();var JIt=Ci(function(){let i=class t extends iv{dispose(){if(this.BWs_!=null){this.BWs_.dispose();this.BWs_=null}super.dispose()}tWs_(t){if(this.BWs_===t)return this;this.BWs_=t;this.BWs_!=null&&this.BWs_.CWs_();return this}$Os_(){return this.BWs_}jC_(t){super.jC_(t);this.BWs_!=null&&(t==null?this.BWs_.Kv_(!1):this.BWs_.getRoot()===t.getRoot()&&this.BWs_.Kv_(!0));return this}ud_(t){const i=super.ud_(t);return i===!1&&this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0||i}render(t){this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0&&this.BWs_.uWs_();super.render(t)}N_(){const t=super.N_();t["geometryadapter"]=this.BWs_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["geometryadapter"]instanceof LIt&&this.tWs_(t["geometryadapter"]);return this}};i=t([_s("geotoolkit.welllog.tools.annotations.shapes.Callout")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY2hlY2tDb2xsaXNpb24iOiJ1ZF8ifX19");var PIt=function(){let i=class t extends Jx{constructor(t){let i=null;t!=null&&t["node"]!=null||(i=new JIt({width:100,height:30,sizemode:NC.hX_,showellipsis:!0,padding:0,sizeisindevicespace:!0,preserveaspectratio:!0}));super(t=qi(t,{name:"CalloutEditor",node:i}));if(t["node"]instanceof iv&&xIt(t["node"])){let i=t["node"].$Os_();if(i==null){i=new qIt(t["node"]);t["node"].tWs_(i)}this.MWs_=i}}isSupported(t){return t["node"]instanceof JIt||t["mode"]===Dx.tjt_}$Os_(){return this.MWs_}yWs_(t){this.DWs_=t;return this}gR_(t,i,s){if(this.MWs_==null||this.MWs_.isEnabled()!==!0||t!==this.MWs_.e7_())return super.gR_(t,i,s);this.MWs_.gR_(this.DWs_,i,s);return this}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.editors.Callout")],i);return i}();var VIt=function(){let i=class t extends LIt{Qt_(t,i,s){const e=this.e7_();if(e==null||e.Df_())return this;if(Qe(e)!==!0)return this;const A=Math.max(i.length,s.length),n=[],h=[];for(let r=0;r<A;r++){const A=this.gWs_(t,e,i[r],s[r]);r<this.iWs_.length?this.iWs_[r]=this.fWs_(this.iWs_[r],A):this.iWs_.push(this.fWs_(null,A));const o=this.cWs_(this.iWs_[r]);n.push(o.getX());h.push(o.getY())}if(this.iWs_.length>A){const t=this.iWs_.length;for(let i=A;i<t;i++)this.nWs_(this.iWs_[i].IWs_._Os_());this.iWs_.splice(A)}e.Qt_(n,h);return this}VWt_(t,i){const s=this.e7_();if(s==null||s.Df_())return this;const e=s.Bt_(),A=s.wt_(),n=Math.min(e.length,A.length),h=[],r=[];for(let t=0;t<n;t++){const s=i.nI_(e[t],A[t]);h.push(s.x);r.push(s.y)}this.Qt_(t,h,r);return this}PWt_(t,i,s){const e=this.e7_();if(e==null||e.Df_())return this;const A=e.Bt_(),n=e.wt_(),h=Math.min(A.length,n.length),r=[],o=[];for(let t=0;t<h;t++){r.push(A[t]+i);o.push(n[t]+s)}this.Qt_(t,r,o);return this}uWs_(t){super.uWs_();const i=this.e7_();if(i==null)return this;const s=ch.hd_(),e=i.mf_();ch.pd_(!1);i.yf_(!0);const A=[],n=[];this.iWs_.forEach(((t,i)=>{const s=this.cWs_(this.iWs_[i]);A.push(s.getX());n.push(s.getY())}));i.Qt_(A,n);i.yf_(e);ch.pd_(s);t===!0&&i.td_();return this}};i=t([_s("geotoolkit.welllog.tools.annotations.editors.adapters.PointSetAdapter")],i);return i}();var OIt=Ci(function(){let i=class t extends oE{dispose(){if(this.BWs_!=null){this.BWs_.dispose();this.BWs_=null}super.dispose()}tWs_(t){if(this.BWs_===t)return this;this.BWs_=t;this.BWs_!=null&&this.BWs_.CWs_();return this}$Os_(){return this.BWs_}jC_(t){super.jC_(t);this.BWs_!=null&&(t==null?this.BWs_.Kv_(!1):this.BWs_.getRoot()===t.getRoot()&&this.BWs_.Kv_(!0));return this}ud_(t){return this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0||super.ud_(t)}render(t){this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0&&this.BWs_.uWs_();super.render(t)}N_(){const t=super.N_();t["geometryadapter"]=this.BWs_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["geometryadapter"]instanceof LIt&&this.tWs_(t["geometryadapter"]);return this}};i=t([_s("geotoolkit.welllog.tools.annotations.shapes.Polygon")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY2hlY2tDb2xsaXNpb24iOiJ1ZF8ifX19");var WIt=Ci(function(){let i=class t extends QL{constructor(t){let i=null;t!=null&&t["node"]!=null||(i=new OIt({linestyle:{width:2,pixelsnapmode:!0},fillstyle:"white"}));super(t=qi(t,{name:"PolygonEditor",node:i,preview:{linestyle:{color:"red",width:1.5,pattern:[7,3]}}}));if(t["node"]instanceof iu&&Qe(t["node"])&&xIt(t["node"])){let i=t["node"].$Os_();if(i==null){i=new VIt(t["node"]);t["node"].tWs_(i)}this.vWs_=i}}isSupported(t){return t["node"]instanceof OIt||t["mode"]===Dx.XXt_}jPt_(t){(t&xk.fJt_)!=0&&(t&=~xk.fJt_);return super.jPt_(t)}$Os_(){return this.vWs_}yWs_(t){this.DWs_=t;return this}Qt_(t,i,s){if(this.vWs_==null||this.vWs_.isEnabled()!==!0||t!==this.vWs_.e7_())return super.Qt_(t,i,s);this.vWs_.Qt_(this.DWs_,i,s);return this}PWt_(t,i,s,e){if(this.vWs_==null||this.vWs_.isEnabled()!==!0||t!==this.vWs_.e7_())return super.PWt_(t,i,s,e);this.vWs_.PWt_(this.DWs_,i,s);return!0}VWt_(t,i,s){if(this.vWs_==null||this.vWs_.isEnabled()!==!0||t!==this.vWs_.e7_())return super.VWt_(t,i,s);this.vWs_.VWt_(this.DWs_,i);return!0}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.editors.Polygon")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRFZGl0TW9kZSI6ImpQdF8ifX19");var zIt=Ci(function(){let i=class t extends ap{dispose(){if(this.BWs_!=null){this.BWs_.dispose();this.BWs_=null}super.dispose()}tWs_(t){if(this.BWs_===t)return this;this.BWs_=t;this.BWs_!=null&&this.BWs_.CWs_();return this}$Os_(){return this.BWs_}jC_(t){super.jC_(t);this.BWs_!=null&&(t==null?this.BWs_.Kv_(!1):this.BWs_.getRoot()===t.getRoot()&&this.BWs_.Kv_(!0));return this}ud_(t){return this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0||super.ud_(t)}render(t){this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0&&this.BWs_.uWs_();super.render(t)}N_(){const t=super.N_();t["geometryadapter"]=this.BWs_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["geometryadapter"]instanceof LIt&&this.tWs_(t["geometryadapter"]);return this}};i=t([_s("geotoolkit.welllog.tools.annotations.shapes.Polyline")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY2hlY2tDb2xsaXNpb24iOiJ1ZF8ifX19");var XIt=Ci(function(){let i=class t extends DL{constructor(t){let i=null;t!=null&&t["node"]!=null||(i=new zIt({linestyle:{width:2,pixelsnapmode:!0},fillstyle:"white"}));super(t=qi(t,{name:"PolylineEditor",node:i,preview:{linestyle:{color:"red",width:1.5,pattern:[7,3]}}}));if(t["node"]instanceof iu&&Qe(t["node"])&&xIt(t["node"])){let i=t["node"].$Os_();if(i==null){i=new VIt(t["node"]);t["node"].tWs_(i)}this.vWs_=i}}isSupported(t){return t["node"]instanceof zIt||t["mode"]===Dx.jXt_}jPt_(t){(t&xk.fJt_)!=0&&(t&=~xk.fJt_);return super.jPt_(t)}$Os_(){return this.vWs_}yWs_(t){this.DWs_=t;return this}Qt_(t,i,s){if(this.vWs_==null||this.vWs_.isEnabled()!==!0||t!==this.vWs_.e7_())return super.Qt_(t,i,s);this.vWs_.Qt_(this.DWs_,i,s);return this}PWt_(t,i,s,e){if(this.vWs_==null||this.vWs_.isEnabled()!==!0||t!==this.vWs_.e7_())return super.PWt_(t,i,s,e);this.vWs_.PWt_(this.DWs_,i,s);return!0}VWt_(t,i,s){if(this.vWs_==null||this.vWs_.isEnabled()!==!0||t!==this.vWs_.e7_())return super.VWt_(t,i,s);this.vWs_.VWt_(this.DWs_,i);return!0}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.editors.Polyline")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRFZGl0TW9kZSI6ImpQdF8ifX19");var jIt=Ci(function(){let i=class t extends YC{dispose(){if(this.BWs_!=null){this.BWs_.dispose();this.BWs_=null}super.dispose()}tWs_(t){this.BWs_=t;return this}$Os_(){return this.BWs_}jC_(t){super.jC_(t);this.BWs_!=null&&(t==null?this.BWs_.Kv_(!1):this.BWs_.getRoot()===t.getRoot()&&this.BWs_.Kv_(!0));return this}ud_(t){const i=super.ud_(t);return i===!1&&this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0||i}render(t){this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0&&this.BWs_.uWs_();super.render(t)}N_(){const t=super.N_();t["geometryadapter"]=this.BWs_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["geometryadapter"]instanceof LIt&&this.tWs_(t["geometryadapter"]);return this}};i=t([_s("geotoolkit.welllog.tools.annotations.shapes.Text")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY2hlY2tDb2xsaXNpb24iOiJ1ZF8ifX19");var ZIt=function(){let i=class t extends Ux{constructor(t){let i=null;t!=null&&t["node"]!=null||(i=new jIt({sizeisindevicespace:!0,ispointingup:!0,showellipsis:!0,fillstyle:"white",linestyle:{color:"black",pixelsnapmode:!0},textstyle:{baseline:ka.mk_}}).PX_(NC.hX_));super(t=qi(t,{name:"TextEditor",node:i}));if(t["node"]instanceof YC&&xIt(t["node"])){let i=t["node"].$Os_();if(i==null){i=new qIt(t["node"]);t["node"].tWs_(i)}this.MWs_=i}}isSupported(t){return t["node"]instanceof jIt||t["mode"]===Dx.Text}$Os_(){return this.MWs_}yWs_(t){this.DWs_=t;return this}gR_(t,i,s){if(this.MWs_==null||this.MWs_.isEnabled()!==!0||t!==this.MWs_.e7_())return super.gR_(t,i,s);this.MWs_.gR_(this.DWs_,i,s);return this}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.editors.Text")],i);return i}();var _It=Ci(function(){let i=class t extends cN{dispose(){if(this.BWs_!=null){this.BWs_.dispose();this.BWs_=null}super.dispose()}tWs_(t){if(this.BWs_===t)return this;this.BWs_=t;this.BWs_!=null&&this.BWs_.CWs_();return this}$Os_(){return this.BWs_}jC_(t){super.jC_(t);this.BWs_!=null&&(t==null?this.BWs_.Kv_(!1):this.BWs_.getRoot()===t.getRoot()&&this.BWs_.Kv_(!0));return this}ud_(t){const i=super.ud_(t);return i===!1&&this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0||i}render(t){this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0&&this.BWs_.uWs_();super.render(t)}N_(){const t=super.N_();t["geometryadapter"]=this.BWs_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["geometryadapter"]instanceof LIt&&this.tWs_(t["geometryadapter"]);return this}};i=t([_s("geotoolkit.welllog.tools.annotations.shapes.Label")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY2hlY2tDb2xsaXNpb24iOiJ1ZF8ifX19");var $It=function(){let i=class t extends LIt{gR_(t,i,s){const e=this.e7_();if(e==null||e.Df_())return this;let A;A=i instanceof lA?i:new lA(i,s);const n=this.gWs_(t,e,A);let h=this.akt_();h=this.fWs_(h,n);this.ukt_(h);e.gR_(A);return this}uWs_(t){super.uWs_();const i=this.e7_();if(i==null)return this;const s=i.lR_(),e=this.akt_(),A=e!=null?this.cWs_(e):i.lR_();if(A===s||A.bs_(s,NA.Je_))return this;const n=i.mf_(),h=ch.hd_();ch.pd_(!1);i.yf_(!0);const r=i.ut_();if(r!=null){const t=Math.atan2(r.QI_(),r.BI_());t&&i.at_(Gn.FI_(t,A.getX(),A.getY()))}i.gR_(A);i.yf_(n);ch.pd_(h);t===!0&&i.td_();return this}akt_(){return this.iWs_[0]}ukt_(t){this.iWs_[0]=t;return this}};i=t([_s("geotoolkit.welllog.tools.annotations.editors.adapters.LabelAdapter")],i);return i}();var tft=function(){let i=class t extends fL{constructor(t){let i=null;t!=null&&t["node"]!=null||(i=new _It({sizeisindevicespace:!0,fillstyle:"white",linestyle:{color:"black",pixelsnapmode:!0},textstyle:{baseline:ka.mk_}}));super(t=qi(t,{name:"LabelEditor",node:i}));if(t["node"]instanceof cN&&xIt(t["node"])){let i=t["node"].$Os_();if(i==null){i=new $It(t["node"]);t["node"].tWs_(i)}this.bWs_=i}}isSupported(t){return t["node"]instanceof _It||t["mode"]===Dx.Vpt_}$Os_(){return this.bWs_}yWs_(t){this.DWs_=t;return this}gR_(t,i,s){if(this.bWs_==null||this.bWs_.isEnabled()!==!0||t!==this.bWs_.e7_())return super.gR_(t,i,s);this.bWs_.gR_(this.DWs_,i,s);return this}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.editors.Label")],i);return i}();var ift=function(){let i=class t extends LIt{clear(){super.clear();const t=this.e7_();this.iWs_=[];t.clear();return this}moveTo(t,i,s){const e=this.e7_();if(e==null||e.Df_())return this;const A=this.gWs_(t,e,i,s),n=this.fWs_(null,A);this.iWs_.push(n);const h=this.cWs_(n);e.moveTo(h.getX(),h.getY());return this}lineTo(t,i,s){const e=this.e7_();if(e==null||e.Df_())return this;const A=this.gWs_(t,e,i,s),n=this.fWs_(null,A);this.iWs_.push(n);const h=this.cWs_(n);e.lineTo(h.getX(),h.getY());return this}lI_(t,i){const s=this.e7_();if(s==null||s.Df_())return this;const e=s.nt_().getX(),A=s.nt_().getY(),n=this.iWs_.length;let h=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let u=0;u<n;u++){const n=this.iWs_[u],a=i(e[u],A[u]);e[u]=a.x;A[u]=a.y;if(n.IWs_==null){const i=this.gWs_(t,s,e[u],A[u]);this.iWs_[u]=this.fWs_(n,i)}else{n.anchor=n.IWs_.validate(e[u],A[u]);if(n.anchor==null){const i=this.gWs_(t,s,e[u],A[u]);this.iWs_[u]=this.fWs_(n,i)}}h=Math.min(h,e[u]);r=Math.min(r,A[u]);o=Math.max(o,e[u]);l=Math.max(l,A[u])}s.dt_({x:e,y:A,bounds:new mA(h,r,o,l)});s.td_();return this}VWt_(t,i){return this.lI_(t,((t,s)=>i.nI_(t,s)))}PWt_(t,i,s){const e=new lA;return this.lI_(t,((t,A)=>e.vs_(t+i,A+s)))}NWs_(t,i){const s=new lA,e=t.getX(),A=t.getY(),n=Math.min(e.length,A.length);if(i.length-1!==n){const t=new TA;for(let e=0;e<i.length-1;e++){const A=i[e];let n,h;if(A.IWs_!=null){const t=A.IWs_.transformPoint(A.anchor,s);n=t.x;h=t.y}else{n=A.anchor.x;h=A.anchor.y}e===0?t.moveTo(n,h):t.lineTo(n,h)}return t}const h=[],r=[];let o=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(let t=0;t<n;t++){const n=i[t];let g,c;if(n.IWs_!=null){const t=n.IWs_.transformPoint(n.anchor,s);g=t.x;c=t.y}else{g=e[t];c=A[t]}h.push(g);r.push(c);o=Math.min(o,g);l=Math.min(l,c);u=Math.max(u,g);a=Math.max(a,c)}return new TA({x:h,y:r,index:t.An_(),tags:t.getTags(),bounds:new mA(o,l,u,a)})}uWs_(t){super.uWs_();const i=this.e7_();if(i==null)return this;let s=null;this.iWs_!=null&&this.iWs_.length!==0&&(s=this.NWs_(i.nt_(),this.iWs_));if(s==null)return this;const e=ch.hd_(),A=i.mf_();ch.pd_(!1);i.yf_(!0);i.Pd_(s);i.yf_(A);ch.pd_(e);t===!0&&i.td_();return this}N_(){const t=super.N_();this.iWs_!=null&&(t["anchors"]=this.iWs_.map((t=>({anchor:t.anchor,connector:t.IWs_}))));return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);if(t["anchors"]!=null){this.iWs_=t["anchors"].map((t=>({anchor:t.anchor,connector:t.IWs_})));this.uWs_(!0)}return this}CWs_(){this.iWs_.forEach((t=>{this.hWs_(t.IWs_)}));return this}};i=t([_s("geotoolkit.welllog.tools.annotations.editors.adapters.PathAdapter")],i);return i}();var sft=Ci(function(){let i=class t extends Yu{dispose(){if(this.BWs_!=null){this.BWs_.dispose();this.BWs_=null}super.dispose()}tWs_(t){if(this.BWs_===t)return this;this.BWs_=t;this.BWs_!=null&&this.BWs_.CWs_();return this}$Os_(){return this.BWs_}jC_(t){super.jC_(t);this.BWs_!=null&&(t==null?this.BWs_.Kv_(!1):this.BWs_.getRoot()===t.getRoot()&&this.BWs_.Kv_(!0));return this}ud_(t){return this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0||super.ud_(t)}render(t){this.BWs_!=null&&this.BWs_.isEnabled()===!0&&this.BWs_.uM_()!==!0&&this.BWs_.uWs_();super.render(t)}N_(){const t=super.N_();t["geometryadapter"]=this.BWs_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["geometryadapter"]instanceof LIt&&this.tWs_(t["geometryadapter"]);return this}};i=t([_s("geotoolkit.welllog.tools.annotations.shapes.Path")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiY2hlY2tDb2xsaXNpb24iOiJ1ZF8ifX19");var eft=Ci(function(){let i=class t extends CL{constructor(t){let i=null;t!=null&&t["node"]!=null||(i=new sft({linestyle:{width:2,pixelsnapmode:!0},fillstyle:"white"}));super(t=qi(t,{name:"PolylineEditor",node:i,preview:{linestyle:{color:"red",width:1.5,pattern:[7,3]}}}));if(t["node"]instanceof sft&&xIt(t["node"])){let i=t["node"].$Os_();if(i==null){i=new ift(t["node"]);t["node"].tWs_(i)}this.SWs_=i}}isSupported(t){return t["node"]instanceof sft||t["mode"]===Dx.ijt_}jPt_(t){(t&xk.fJt_)!=0&&(t&=~xk.fJt_);return super.jPt_(t)}$Os_(){return this.SWs_}yWs_(t){this.DWs_=t;return this}moveTo(t,i,s){if(this.SWs_==null||this.SWs_.isEnabled()!==!0||t!==this.SWs_.e7_())return super.moveTo(t,i,s);this.SWs_.moveTo(this.DWs_,i,s);return this}lineTo(t,i,s){if(this.SWs_==null||this.SWs_.isEnabled()!==!0||t!==this.SWs_.e7_())return super.lineTo(t,i,s);this.SWs_.lineTo(this.DWs_,i,s);return this}PWt_(t,i,s,e){if(this.SWs_==null||this.SWs_.isEnabled()!==!0||t!==this.SWs_.e7_())return super.PWt_(t,i,s,e);this.SWs_.PWt_(this.DWs_,i,s);return!0}VWt_(t,i,s){if(this.SWs_==null||this.SWs_.isEnabled()!==!0||t!==this.SWs_.e7_())return super.VWt_(t,i,s);this.SWs_.VWt_(this.DWs_,i);return!0}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.editors.Pencil")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRFZGl0TW9kZSI6ImpQdF8ifX19");let Aft=null;var nft=function(){var t=class{constructor(){this.map={};this.GWs_={};this.$3t_("point",lA.D_());this.$3t_("linestyle",hl.D_());this.$3t_("fillstyle",wr.D_());this.$3t_("imagepattern",El.D_());this.$3t_("textstyle",qa.D_());this.$3t_("spacestyle",_l.D_());this.$3t_("symbol",ma.D_());this.$3t_("circle",cE.D_());this.$3t_("cross",IE.D_());this.$3t_("diamond",fE.D_());this.$3t_("plus",$E.D_());this.$3t_("square",tp.D_());this.$3t_("star",sp.D_());this.$3t_("triangle",da.D_());this.$3t_("annotation-arrow",KIt.D_());this.$3t_("annotation-callout",JIt.D_());this.$3t_("annotation-label",_It.D_());this.$3t_("annotation-line",UIt.D_());this.$3t_("annotation-path",sft.D_());this.$3t_("annotation-polygon",OIt.D_());this.$3t_("annotation-polyline",zIt.D_());this.$3t_("annotation-text",jIt.D_());this.$3t_("point-adapter",FIt.D_());this.$3t_("line-geometry",YIt.D_());this.$3t_("pointset-geometry",VIt.D_());this.$3t_("path-geometry",ift.D_());this.$3t_("label-geometry",$It.D_());this.$3t_("text-geometry",qIt.D_())}static Ai_(){Aft==null&&(Aft=new t);return Aft}$3t_(t,i){this.map[t]=i;this.GWs_[i]=t}t4t_(){return this.map}getType(t){const i=t!=null&&typeof t.D_=="function"?t.D_():null;return i!=null?this.GWs_[i]!=null?this.GWs_[i]:i:null}i4t_(t){const i=this.map[t]!=null?this.map[t]:t;return i!=null?As(i):null}};return t}();const hft="cg_type",rft="cg_id",oft=function(t){return typeof t=="string"&&t.match(/^#href\(.*\)$/)?/^#href\((.*)\)$/.exec(t)[1]:null};var lft=function(){let i=class t extends mw{save(t,i){const s=nft.Ai_().getType(t);s!=null&&i.Oi_(hft,s);const e=i.WE_(t);e!=null&&i.Oi_(rft,e);let A=typeof t.N_=="function"?t.N_():t;t.D_&&(A=Ur.Ai_().JE_(A,t.D_()));for(const t in A)if(A.hasOwnProperty(t)&&t!==rft&&A[t]!==void 0){const s=A[t];if(s instanceof Mi.HTMLImageElement)continue;if(typeof s=="object"&&s!==null){const e=i.WE_(s);if(e==null){const e=nft.Ai_().getType(s);i.zE_(t,s,e)}else i.Oi_(t,"#href("+e+")")}else typeof s!="function"&&i.Oi_(t,s)}i.commit()}load(t,i){const s=t.Lw_();let e=i!=null?i:null;if(e==null){const i=t.getValue(hft),s=t.Vw_();i!=null&&(e=s!=null&&nft.Ai_().getType(s)===i?s:nft.Ai_().i4t_(i));e==null&&(e={})}let A=typeof e.dt_=="function"?{}:e;t.Tw_((function(t,i){if(t===rft)return;const n=i.getValue(hft),h=i.getValue(null,n),r=oft(h);r==null?A[t]=h:i.Kw_(r)!=null?A[t]=i.Kw_(r):i.Yw_(r,(function(i){A[t]=i;if(typeof e.dt_=="function"){A=Ur.Ai_().JE_(A,e.D_&&e.D_(),s);e.dt_(A)}}))}));if(typeof e.dt_=="function"){A=Ur.Ai_().JE_(A,e.D_&&e.D_(),s);e.dt_(A)}const n=t.getValue(rft);n!=null&&t.Hw_(n,e);return e}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.DefaultSerializer")],i);return i}();var uft=function(){let i=class t extends mw{getType(t){const i=undefined;return nft.Ai_().getType(t)}o5_(t,i){const s=nft.Ai_().getType(t);i.Oi_(hft,s);i.Oi_(rft,i.WE_(t));const e=t.XC_();e!=null&&i.Oi_("id",e);const A=t.dn_();A!=null&&A!==""&&i.Oi_("name",A);const n=t.gt_();n!=null&&i.zE_("linestyle",n,this.getType(hl));const h=t.ct_();h!=null&&i.zE_("fillstyle",h,this.getType(wr));return this}l5_(t,i){const s=i.getValue(rft);s!=null&&i.Hw_(s,t);const e=i.getValue("name"),A=i.getValue("id");A!=null&&t.JC_(A);t.HC_(e);const n=i.Uw_(this.getType(hl),"linestyle");n!=null&&t.rB_(n);const h=i.Uw_(this.getType(wr),"fillstyle");h!=null&&t.iQ_(h);return this}save(t,i){this.o5_(t,i);i.commit()}load(t,i){const s=this.RWs_(t);this.l5_(s,t);return s}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.AnnotationSerializer")],i);return i}();var aft=function(){let i=class t extends uft{o5_(t,i){super.o5_(t,i);let s=null;xIt(t)&&(s=t.$Os_());if(s!=null)i.zE_("geometry",s,this.getType(s));else{i.zE_("from",t.OA_(),this.getType(lA));i.zE_("to",t.WA_(),this.getType(lA))}return this}l5_(t,i){super.l5_(t,i);const s=new YIt(t),e=i.Uw_(this.getType(YIt),"geometry",s);if(e!=null)xIt(t)&&t.tWs_(e);else{const s=i.Uw_(this.getType(lA),"from"),e=i.Uw_(this.getType(lA),"to");t.zA_({from:s,to:e})}return this}RWs_(t){return new UIt}save(t,i){const s=t.ct_();t.iQ_(null);super.save(t,i);t.iQ_(s)}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.LineSerializer")],i);return i}();var gft=function(){let i=class t extends aft{nEt_(t,i,s){const e={};if(i.ak_()!==null){const t=i.N_();e["painter"]=t["painter"];t["painterproperties"]!=null&&(e["painterproperties"]=t["painterproperties"])}e["width"]=i.Ie_();e["height"]=i.Ts_();i.gt_()!=null&&(e["linestyle"]=i.gt_());i.ct_()!=null&&(e["fillstyle"]=i.ct_());i.$C_()!==!0&&(e["visible"]=i.$C_());s.zE_(t,e);return this}o5_(t,i){super.o5_(t,i);const s=t.F6_();s!=null&&this.nEt_("symbolstart",s,i);const e=t.x6_();e!=null&&this.nEt_("symbolend",e,i);return this}l5_(t,i){super.l5_(t,i);const s=new ma,e=i.Uw_(this.getType(ma),"symbolstart",s),A=new ma,n=i.Uw_(this.getType(ma),"symbolend",A);t.G6_(e);t.R6_(n);return this}save(t,i){this.o5_(t,i);i.commit()}RWs_(t){return new KIt}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.ArrowSerializer")],i);return i}();var cft=function(){let i=class t extends uft{o5_(t,i){super.o5_(t,i);i.Oi_("text",t.SG_());const s=t.FE_();s!=null&&i.zE_("textstyle",s,this.getType(qa));const e=t.uG_();e!=null&&i.zE_("paddingstyle",e,this.getType(_l));i.Oi_("padding",t.XX_());i.Oi_("width",t.ej_());i.Oi_("height",t.Aj_());i.Oi_("rotationangle",t.UE_());i.Oi_("radius",t.WX_());i.Oi_("showellipsis",t.yX_());let A=null;xIt(t)&&(A=t.$Os_());if(A!=null)i.zE_("geometry",A,this.getType(A));else{i.Oi_("ax",t.uR_());i.Oi_("ay",t.aR_())}return this}l5_(t,i){super.l5_(t,i);const s=i.getValue("text");s!=null&&t.a_(s);const e=i.Uw_(this.getType(qa),"textstyle");e!=null&&t.g_(e);const A=i.Uw_(this.getType(_l),"paddingstyle");if(A!==void 0)t.Iq_(A);else{const s=i.getValue("padding");s!==void 0&&t.zX_(s)}const n=i.getValue("width");n!==void 0&&t.de_(n);const h=i.getValue("height");h!==void 0&&t.Be_(h);const r=i.getValue("radius");r!==void 0&&t.OX_(r);const o=i.getValue("showellipsis");o!==void 0&&t.mX_(o);const l=i.getValue("rotationangle");l!==void 0&&t.c_(l);const u=new qIt(t),a=i.Uw_(this.getType(qIt),"geometry",u);if(a!=null)xIt(t)&&t.tWs_(a);else{const s=i.getValue("ax"),e=i.getValue("ay");t.gR_(s,e)}return this}RWs_(t){return new jIt}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.TextSerializer")],i);return i}();var Ift=function(){let i=class t extends cft{o5_(t,i){super.o5_(t,i);const s=t.N_();i.Oi_("arrowsize",s["arrowsize"]);i.Oi_("offset",{x:t.bK_(),y:t.NK_()});return this}l5_(t,i){super.l5_(t,i);t.dt_({arrowsize:i.getValue("arrowsize"),offset:i.getValue("offset")});return this}RWs_(t){return new JIt}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.CalloutSerializer")],i);return i}();var fft=function(){let i=class t extends uft{o5_(t,i){super.o5_(t,i);i.Oi_("text",t.SG_());const s=t.FE_();s!=null&&i.zE_("textstyle",s,this.getType(qa));const e=t.uG_();e!=null&&i.zE_("padding",e,this.getType(_l));const A=t.WG_(),n=t.GE_(),h=t.getSize();i.Oi_("sizeisindevicespace",A);i.Oi_("anchortype",n);i.Oi_("alignment",t.vF_());i.Oi_("rotationangle",t.UE_());i.Oi_("radius",t.WX_());i.Oi_("width",h.Ie_());i.Oi_("height",h.Ts_());const r=t.$Os_();if(r!=null)i.zE_("geometry",r,this.getType(r));else if(A&&n!==dA.W_){i.Oi_("x",t.uR_());i.Oi_("y",t.aR_())}else{const s=t.getBounds();i.Oi_("x",s.getX());i.Oi_("y",s.getY())}return this}l5_(t,i){super.l5_(t,i);const s=i.getValue("text");s!=null&&t.a_(s);const e=i.Uw_(this.getType(qa),"textstyle");e!=null&&t.g_(e);const A=i.Uw_(this.getType(_l),"padding");A!=null&&t.Iq_(A);const n=i.getValue("alignment");n!==void 0&&t.bF_(n);const h=i.getValue("anchortype");h!==void 0&&t.SE_(h);const r=i.getValue("sizeisindevicespace");r!==void 0&&t.OG_(r);const o=i.getValue("radius");o!==void 0&&t.OX_(o);const l=i.getValue("rotationangle");l!==void 0&&t.c_(l);t.dt_({x:i.getValue("x"),y:i.getValue("y"),width:i.getValue("width"),height:i.getValue("height")});const u=new $It(t),a=i.Uw_(this.getType($It),"geometry",u);a!=null&&t.tWs_(a);return this}RWs_(t){return new _It}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.LabelSerializer")],i);return i}();var Cft=function(){let i=class t extends uft{o5_(t,i){super.o5_(t,i);const s=t.$Os_();if(s!=null)i.zE_("geometry",s,this.getType(s));else{const s=t.nt_().N_();i.zE_("x",s["x"]);i.zE_("y",s["y"]);i.zE_("tags",s["tags"]);i.zE_("index",s["index"])}return this}l5_(t,i){super.l5_(t,i);const s=new ift(t),e=i.Uw_(this.getType(ift),"geometry",s);if(e!=null)t.tWs_(e);else{const s=i.Uw_(null,"x"),e=i.Uw_(null,"y"),A=i.Uw_(null,"tags"),n=i.Uw_(null,"index"),h=new TA({x:s,y:e,index:n,tags:A});t.Pd_(h)}return this}RWs_(t){return new sft}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.PathSerializer")],i);return i}();var dft=function(){let i=class t extends uft{o5_(t,i){super.o5_(t,i);const s=t.$Os_();if(s!=null)i.zE_("geometry",s,this.getType(s));else{i.zE_("x",t.Bt_());i.zE_("y",t.wt_())}return this}l5_(t,i){super.l5_(t,i);const s=new VIt(t),e=i.Uw_(this.getType(VIt),"geometry",s);if(e!=null)t.tWs_(e);else{const s=i.Uw_(null,"x"),e=i.Uw_(null,"y");t.Qt_(s,e)}return this}RWs_(t){return new OIt}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.PolygonSerializer")],i);return i}();var Bft=function(){let i=class t extends uft{o5_(t,i){super.o5_(t,i);const s=t.$Os_();if(s!=null)i.zE_("geometry",s,this.getType(s));else{i.zE_("x",t.Bt_());i.zE_("y",t.wt_())}return this}l5_(t,i){super.l5_(t,i);const s=new VIt(t),e=i.Uw_(this.getType(VIt),"geometry",s);if(e!=null)t.tWs_(e);else{const s=i.Uw_(null,"x"),e=i.Uw_(null,"y");t.Qt_(s,e)}return this}RWs_(t){return new zIt}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.PolylineSerializer")],i);return i}();var wft=function(){let i=class t extends mw{constructor(){super(...arguments);this.kWs_=null;this.FWs_=null}xWs_(t){this.FWs_=t;return this}LWs_(t){this.kWs_=t;return this}save(t,i){t.isEnabled()===!1&&i.Oi_("enabled",t.isEnabled());const s=t.oWs_().map((t=>({x:t.anchor.x,y:t.anchor.y,target:this.FWs_(t.IWs_._Os_())})));i.Oi_("coordinates",s);i.commit()}load(t,i){if(i==null)return t.qw_().jE_("default").load(t,i);const s=t.getValue("enabled");s!=null&&i.Kv_(s);const e=t.getValue("coordinates");e!=null&&e.forEach((t=>{const s=this.kWs_(t["target"]);i.dWs_(s,t.x,t.y)}));return i}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.GeometryAdapterSerializer")],i);return i}();var Qft=function(){let i=class t{constructor(t){this.jJt_=t}HKi_(){return this.jJt_}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.AnnotationsProxy")],i);return i}(),Eft=function(){let i=class t extends Kr{constructor(t){super();this.UWs_(t)}UWs_(t){const i=new lft,s=nft.Ai_().t4t_();for(const t in s)s.hasOwnProperty(t)&&this.OE_(t,i);this.OE_("default",i);const e=nft.Ai_(),A=(new wft).LWs_(t.YWs_).xWs_(t.TWs_);this.OE_("geotoolkit.welllog.widgets.tools.annotations.persistence.AnnotationsProxy",{save:function(t,i){i.Oi_("type","annotations");const s=i.up_("annotations","array");for(let i=0;i<t.HKi_().qY_();i++){const A=t.HKi_().HY_(i);A instanceof su&&s.zE_(i,A,e.getType(A))}s.commit();i.commit()},load:function(t){const i=t.getValue("type");if(i==null||i!=="annotations")throw new Error("not supported");const s=t.Kw_("#layer");if(s==null)throw new Error("layer not specified");t.Tw_((function(t,i){t==="annotations"&&i.Tw_((function(t,i){const e=i.getValue(hft);if(e!=null){const t=i.Uw_(e);t!=null&&s.HKi_().GY_(t)}}))}));return s}});this.OE_(e.getType(LIt),A);this.OE_(e.getType(YIt),A);this.OE_(e.getType($It),A);this.OE_(e.getType(ift),A);this.OE_(e.getType(VIt),A);this.OE_(e.getType(qIt),A);this.OE_(e.getType(UIt),new aft);this.OE_(e.getType(KIt),new gft);this.OE_(e.getType(zIt),new Bft);this.OE_(e.getType(OIt),new dft);this.OE_(e.getType(sft),new Cft);this.OE_(e.getType(jIt),new cft);this.OE_(e.getType(JIt),new Ift);this.OE_(e.getType(_It),new fft)}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.persistence.Registry")],i);return i}();const pft=t=>t.XC_()+"",mft=(t,i,s)=>{if(i==null)return;const e=i instanceof lA?i:new lA(i,s),A=t.if_(),n=A!=null?A.transformPoint(e):e,h=bC.select(t.getRoot(),n.getX(),n.getY(),5).filter((t=>t instanceof _lt))[0];if(h!=null){const t=h!=null?h.if_():null,i=undefined;return{anchor:t!=null?t.uI_(n):n,node:h}}return{anchor:e,node:null}};function yft(t){return t&&typeof t.yWs_=="function"}function Dft(t){return t&&typeof t.$Os_=="function"}const Mft=(new Tk).register(new HIt).register(new TIt).register(new PIt).register(new WIt).register(new XIt).register(new ZIt).register(new tft).register(new eft).register(new $x).register(new iL).register(new AL).register(new sL).register(new eL).register(new LL).WJt_(new yx);var vft=Ci(function(){let i=class t extends PL{constructor(t){super(t=Pi(t,{name:"annotations-editor",registry:Mft,history:new Jk(t&&t["layer"]).iz_(Mft)},!0));this.DWs_=mft;this.FWs_=pft}KWs_(t,i,s){i=i||new Eft({YWs_:this.kWs_,TWs_:this.FWs_});const e=undefined;return new pw(i,s).o5_("template",new Qft(t))}HWs_(t,i,s){s=s||new Eft({YWs_:this.kWs_,TWs_:this.FWs_});const e=undefined,A=new pw(s).l5_(t),n=new Qft(i);A.Hw_("#layer",n);A.Uw_(Qft.D_(),"template");return this}xWs_(t){this.FWs_=t;return this}LWs_(t){this.kWs_=t;return this}yWs_(t){this.DWs_=t;const i=this.zJt_();i!=null&&yft(i)&&i.yWs_(t);return this}ePt_(t){const i=super.ePt_(t);i!=null&&yft(i)&&i.yWs_(this.DWs_);return i}APt_(t){t!=null&&yft(t)&&t.yWs_(this.DWs_);super.APt_(t);return this}};i=t([_s("geotoolkit.welllog.tools.annotations.AnnotationEditor")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzYXZlQW5ub3RhdGlvbnMiOiJLV3NfIiwibG9hZEFubm90YXRpb25zIjoiSFdzXyIsInNldE5vZGVVdWlkUmVzb2x2ZXIiOiJ4V3NfIiwic2V0Tm9kZVJlc29sdmVyQnlVdWlkIjoiTFdzXyIsInNldE5vZGVSZXNvbHZlciI6InlXc18iLCJjcmVhdGVFZGl0b3IiOiJlUHRfIiwic2V0RWRpdG9yIjoiQVB0XyJ9fX0g");var bft=Ci(function(){let i=class t extends ux{Dkt_(){return"ChangeLinkState"}rI_(){return this}Eu_(t){if(!Dft(t))return!1;const i=t.$Os_();i.Kv_(!i.isEnabled());return!0}static qWs_(t){return!!Dft(t)&&t.$Os_().isEnabled()}static JWs_(t){return Dft(t)}};i=t([_s("geotoolkit.welllog.widgets.tools.annotations.commands.ChangeLink")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRFdmVudE5hbWUiOiJEa3RfIiwiY3JlYXRlSW52ZXJzZSI6InJJXyIsImV4ZWN1dGUiOiJFdV8ifX0sImlzTGlua2VkIjoicVdzXyIsImNhbkxpbmsiOiJKV3NfIn0g");let Nft;var Sft=function(){var i;let s=i=class t extends OS{constructor(t){super(t=qi(t,{name:"collapsed",layer:t instanceof GIt?t:null},!0));this.eFt_({pointerdown:this.zFt_.bind(this)});if(this.Jgt_==null)throw new Error("ManipulatorLayer cannot be null")}zFt_(t){if(this.isEnabled()){const i=t.Fkt_(),s=this.PWs_(i);if(s&&s["collapsed"]!=null){s["collapsed"]=!s["collapsed"];this.Jgt_.mOs_()}}}PWs_(t){let s=null;const e=i.hBi_();e.dI_(this.Jgt_.getRoot().if_());e.iX_(((t,i)=>{const e=i.bO_(),A=i.getSelection();if(e instanceof Igt&&e.dn_()==="geotoolkit_collapsed_marker"){let t=null;if(A instanceof jf)t=A.getData();else if(Array.isArray(A)){const i=A.filter((t=>t instanceof jf));Array.isArray(i)&&i.length>0&&(t=i[0].getData())}s=Array.isArray(t)&&t.length>0?t[0]:null}}),this.Jgt_.getRoot(),t.getX(),t.getY(),2);return s}static hBi_(){Nft||(Nft=new bC);return Nft}};s=i=t([_s("geotoolkit.welllog.widgets.tools.CollapsedIntervalTool")],s);return s}();const Gft=4;var Rft=Ci({sjt_:"edit",q_:"delete",ugt_:"insert"},2,"eyJFZGl0Ijoic2p0XyIsIkRlbGV0ZSI6InFfIiwiSW5zZXJ0IjoidWd0XyJ9"),kft=Ci({VWs_:"Anchored",L$_:"Default"},2,"eyJBbmNob3JlZCI6IlZXc18iLCJEZWZhdWx0IjoiTCRfIn0g"),Fft=Ci(function(){let i=class t extends Gc{TT_(t,i){return t.getBounds()}};i=t([_s("geotoolkit.welllog.widgets.tools.CurveEditor.ClipLayerModelLimitsStrategy")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGp1c3RNb2RlbExpbWl0cyI6IlRUXyJ9fX0g"),xft=function(){let i=class t extends TQ{constructor(t){(t=Es(t)||{})["automodellimitsstrategy"]===void 0&&(t["automodellimitsstrategy"]=new Fft);super(t);this.OWs_=null}WWs_(t){if(this.OWs_===t)return this;this.OWs_=t;this.vn_().td_();return this}zWs_(){return this.OWs_}getBounds(){return this.OWs_!=null?this.OWs_.XWs_():super.getBounds()}};i=t([_s("geotoolkit.welllog.widgets.tools.CurveEditor.ClipHandlesLayer")],i);return i}(),Lft=Ci(function(){let i=class t extends Gc{TT_(t,i){const s=t.zWs_();if(s==null)return i;const e=s.jWs_();return e!=null?e.clone():i}};i=t([_s("geotoolkit.welllog.widgets.tools.CurveEditor.HandlesLayerModelLimitsStrategy")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGp1c3RNb2RlbExpbWl0cyI6IlRUXyJ9fX0g"),Uft=Ci(function(){let i=class t extends TQ{constructor(t){(t=t||{})["automodellimitsstrategy"]===void 0&&(t["automodellimitsstrategy"]=new Lft);super(t);this.ZWs_=!1;this.f7_=null;this.igt_=new Gn;this.OWs_=null}XY_(t){const i=this.zWs_(),s=this.UY_(),e=undefined;if(s.length===0||i==null)return;let A;if(t.tk_()){if(this.f7_==null){this.f7_=new Ip(this.rt_(),Gft);s.forEach((t=>{this.f7_.GY_(t);const i=t.qat_();i!=null&&this.f7_.GY_(i)}))}A=this.f7_.IN_(t.rS_(),t)}else A=this.YY_();const n=i.NOs_(),h=ch.hd_();ch.pd_(!1);A.forEach((i=>{if(t.filter(i)){t.YR_(i);t.VC_(i.Kf_());i.Hat_()?i.Bat_(n["ghostfillstyle"]).vat_(n["ghostfillstyle"]).Qat_(n["ghostlinestyle"]).mat_(n["ghostlinestyle"]):i.Bat_(n["activefillstyle"]).vat_(n["inactivefillstyle"]).Qat_(n["activelinestyle"]).mat_(n["inactivelinestyle"]);i.render(t);t.TR_()}}));ch.pd_(h)}getBounds(){const t=this.zWs_();return t!=null?t._Ws_():null}KY_(t){this.ZWs_=!0;super.KY_(t);this.ZWs_=!1;return this}ZC_(t){return this.ZWs_?this:super.ZC_(t)}td_(t,i){this.$Ws_();return super.td_(t,i)}vn_(t,i){super.vn_(t,i);let s=!1;if(i===oh.QC_){const t=this.if_();s=Gn.PI_(this.igt_,t);s||t==null||this.igt_.dI_(t)}else i===oh.BC_&&(s=!0);s||this.$Ws_();return this}dispose(){if(!this.Df_()){this.$Ws_();super.dispose()}}WWs_(t){if(this.OWs_===t)return this;this.OWs_=t;this.vn_().td_();return this}zWs_(){return this.OWs_}$Ws_(){if(this.f7_!=null){this.f7_.clear();this.f7_=null}}};i=t([_s("geotoolkit.welllog.widgets.tools.CurveEditor.HandlesLayer")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVTdGF0ZSI6InZuXyIsImludmFsaWRhdGUiOiJ0ZF8iLCJjbGVhckNoaWxkcmVuIjoiS1lfIn19fSAg");const Yft=t=>t.HY_(0);var Tft=Ci(function(){let i=class t extends sI{constructor(t){super(t);const i=t&&t["handlestyles"];this.Wat_(i&&i["ghostlinestyle"]!==void 0?i["ghostlinestyle"]:new hl("grey")).Vat_(i&&i["ghostfillstyle"]!==void 0?i["ghostfillstyle"]:new wr("lightgrey")).wat_(i&&i["activelinestyle"]!==void 0?i["activelinestyle"]:new hl("red")).pat_(i&&i["inactivelinestyle"]!==void 0?i["inactivelinestyle"]:new hl).dat_(i&&i["activefillstyle"]!==void 0?i["activefillstyle"]:new wr("red")).Mat_(i&&i["inactivefillstyle"]!==void 0?i["inactivefillstyle"]:new wr);this.tzs_=null;this.izs_=null;this.szs_=-1;this.wgt_=null;this.ezs_=null;this.Azs_=null;this.nzs_=null;this.hzs_=!1}rzs_(t){const i=this.tzs_||this.ozs_(!1),s=this.tzs_==null&&Array.isArray(t),e=ch.hd_();s&&ch.pd_(!1);const A=undefined;Yft(i).GY_(t);s&&ch.pd_(e);if(this.tzs_==null){this.tzs_=i;this.GY_(this.tzs_);return this}return this}lzs_(t){if(this.tzs_==null)return this;const i=undefined;Yft(this.tzs_).removeChild(t);return this}vas_(t){if(this.tzs_==null)return this;const i=this.tzs_;this.removeChild(this.tzs_);this.tzs_=null;const s=ch.hd_();ch.pd_(!1);i.KY_(t);ch.pd_(s);this.vn_().td_();return this}uzs_(t){const i=this.tzs_!=null?Yft(this.tzs_).UY_():[];return Au.cN_(i,t)}azs_(){return this.tzs_!=null?Yft(this.tzs_).qY_():0}vgt_(){return this.wgt_}Mgt_(t){const i=this.vgt_();if(this.izs_==null&&(i!=null||t!=null)){this.izs_=this.ozs_(!0);this.Gq_(this.izs_)}if(i!=null){i.setActive(!1);if(this.tzs_!=null){const t=Yft(this.tzs_),s=i.qat_();if(this.szs_>=0){t.xY_(this.szs_,i);s!=null&&t.xY_(this.szs_+1,s)}else{t.GY_(i);s!=null&&t.GY_(s)}}}if(t!=null){t.setActive(!0);this.szs_=Yft(this.tzs_).FY_(t);const i=Yft(this.izs_);i.GY_(t);const s=t.qat_();s!=null&&i.GY_(s)}else this.szs_=-1;this.wgt_=t;return this}$gt_(t){if(this.tzs_==null)return this;this.tzs_.nf_(t);return this}gzs_(){return this.tzs_!=null&&this.tzs_.$C_()}czs_(t){if(this.ezs_!=null&&this.ezs_.Ce_(t,NA.Je_))return this;this.td_(this.ezs_);this.ezs_=t!=null?new mA(t):null;this.vn_().td_(this.ezs_);return this}_Ws_(){return this.ezs_!=null?this.ezs_.lock():null}Izs_(t){if(this.Azs_!=null&&this.Azs_.Ce_(t,NA.Je_))return this;this.Azs_!==t&&(this.Azs_=t!=null?new mA(t):null);this.vn_().td_();return this}XWs_(){return this.nzs_!=null?this.nzs_.lock():null}fzs_(t){if(this.nzs_!=null&&this.nzs_.Ce_(t,NA.Je_))return this;this.td_(this.nzs_);this.nzs_=t!=null?new mA(t):null;this.vn_().td_(this.nzs_);return this}jWs_(){return this.Azs_!=null?this.Azs_.lock():null}Czs_(t){if(this.hzs_===t)return this;this.hzs_=t;this.tzs_!=null&&this.tzs_.kY_(this.hzs_);this.izs_!=null&&this.izs_.kY_(this.hzs_);return this}dzs_(){return this.hzs_}Bzs_(){return this.tzs_!=null?Yft(this.tzs_).if_():this.if_()}uct_(t,i){t["ghostlinestyle"]!==void 0&&this.Wat_(t["ghostlinestyle"],i);t["ghostfillstyle"]!==void 0&&this.Vat_(t["ghostfillstyle"],i);t["activefillstyle"]!==void 0&&this.dat_(t["activefillstyle"],i);t["inactivefillstyle"]!==void 0&&this.Mat_(t["inactivefillstyle"],i);t["activelinestyle"]!==void 0&&this.wat_(t["activelinestyle"],i);t["inactivelinestyle"]!==null&&this.pat_(t["inactivelinestyle"],i);this.vn_().td_();return this}NOs_(){return{ghostlinestyle:this.UOs_,ghostfillstyle:this.YOs_,activelinestyle:this.HOs_,inactivelinestyle:this.qOs_,activefillstyle:this.TOs_,inactivefillstyle:this.KOs_}}dt_(t){if((t=Es(t))==null)return this;t["handlestyles"]!==void 0&&this.uct_(t["handlestyles"]);return super.dt_(t)}N_(){const t=super.N_();t["handlestyles"]=this.NOs_();return t}TY_(t){t===this.tzs_&&(this.tzs_=null);t===this.izs_&&(this.izs_=null);super.TY_(t)}rN_(t,i,s){const e=this.yq_();if(e!=null){const t=this.getBounds();t!=null?e.td_(t):e.zT_()}return super.rN_(t,i,s)}Wat_(t,i){if(this.UOs_===t)return this;this.UOs_=hl.jD_(this,this.UOs_,t,i,this.oQ_());return this}Vat_(t,i){if(this.YOs_===t)return this;this.YOs_=il.wD_(this,this.YOs_,t,i,this.oQ_());return this}wat_(t,i){if(this.HOs_===t)return this;this.HOs_=hl.jD_(this,this.HOs_,t,i,this.oQ_());return this}pat_(t,i){if(this.qOs_===t)return this;this.qOs_=hl.jD_(this,this.qOs_,t,i,this.oQ_());return this}dat_(t,i){if(this.TOs_===t)return this;this.TOs_=il.wD_(this,this.TOs_,t,i,this.oQ_());return this}Mat_(t,i){if(this.KOs_===t)return this;this.KOs_=il.wD_(this,this.KOs_,t,i,this.oQ_());return this}ozs_(t){const i=new xft({dynamic_layer:t}).kY_(this.hzs_).WWs_(this),s=(new Uft).WWs_(this).kY_(!1);return i.GY_(s)}};i=t([_s("geotoolkit.welllog.widgets.tools.CurveEditor.HandlesContainer")],i);return i}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg"),Kft=Ci(function(){var i;let s=i=class t extends kIt{constructor(t,i){let s;s=t instanceof Ic?{layer:t}:t!=null?Es(t):{};if(i!==void 0){ki("Parameter `cachedManipulatorLayer` is deprecated since 4.0,"+" please use options with CurveEditor.Options.layer property instead.");s=s||{};s["layer"]=i}s["name"]===void 0&&(s["name"]="curveeditor");s["mode"]===void 0&&(s["mode"]=Rft.sjt_);s["handlestype"]===void 0&&(s["handlestype"]=kft.L$_);super(s);this.d4_=s["mode"];this.wzs_=s["handlestype"];this.Qzs_="curve_editing_handle";this.Ezs_=new tn;this.pzs_=new tn;this.OWs_=(new Tft).gk_(new tI).uct_(this.NOs_());this.mzs_=!0;this.hzs_=!1;this.yzs_=0;this.Dzs_=0;this.Mzs_=!0;this.vzs_=!1;this.bzs_=!1;const e=this.mgt_();e!=null&&e.GY_(this.OWs_);this.Nzs_=!0;this.Szs_=(t,i)=>{this.isActive()&&this.KZt_()===Rft.sjt_||(this.Nzs_=!0)}}dt_(t){if((t=Es(t))==null)return this;t["cachedlayer"]!==void 0&&(t["layer"]=t["cachedlayer"]);if(t["layer"]!=null){t["layer"].GY_(this.OWs_);this.Nzs_=!0;this.update()}t["mode"]!==void 0&&this.TZt_(t["mode"]);t["handlestype"]!==void 0&&this.Gzs_(t["handlestype"]);return super.dt_(t)}N_(){const t=super.N_();t["mode"]=this.KZt_();t["handlestype"]=this.Rzs_();return t}zFt_(t){const i=this.e7_();if(!this.isEnabled()||i==null)return this;const s=this.ROs_(t),e=s.getX(),A=s.getY();switch(this.d4_){case Rft.ugt_:this.start();this.kzs_(e,A,t);break;case Rft.sjt_:const i=this.xLt_(e,A);if(i===null){this.setPosition(e,A);return this}this.start();this.notify(wD.ngt_,this,this.nct_(i,e,A,t));break;case Rft.q_:this.xLt_(e,A);if(this.vgt_()!=null){this.start();this.Fzs_(e,A,t)}break;default:return this}t.stopPropagation();this.setPosition(e,A);return this}Ct_(t){if(!this.isEnabled())return this;if(this.d4_===Rft.sjt_){this.xzs_(t);this.vzs_===!0&&this.Lzs_()}this.isActive()&&this.stop();return this}XFt_(t){if(this.e7_()===null||!this.isEnabled())return this;const i=this.ROs_(t),s=i.getX(),e=i.getY();if(this.d4_===Rft.ugt_){this.vgt_()===null&&this.Uzs_();this.bzs_&&this.Yzs_(s,e,t)}else if(this.d4_===Rft.sjt_&&this.vgt_()!==null){this.vzs_===!0&&this.Nas_(!0);const i=this.Tzs_(s,e);if(i===null)return this;this.notify(wD.rgt_,this,this.sct_(i,null,t))}this.setPosition(s,e);return this}start(t){const i=this.e7_();i!=null&&i.Tds_();return super.start(t)}stop(){const t=this.e7_();if(t!=null&&t.Kds_()){const i=t.lds_(),s=t.uds_();t.Hds_(!0);if(i!==t.lds_()||s!==t.uds_()){this.Nzs_=!0;this.Uzs_()}}return super.stop()}$gt_(t){this.OWs_.$gt_(t);return this}Mgt_(t){const i=this.vgt_();i!=null&&this.Kzs_(i);t!=null&&this.Kzs_(t);this.OWs_.Mgt_(t);super.Mgt_(t);return this}uct_(t){super.uct_(t);this.OWs_.uct_(this.NOs_());return this}ygt_(t){if(t!=null&&!(t instanceof $At))throw new Error(`Shape ${t.D_()} is not supported. ${$At.D_()} must be provided`);const i=this.e7_();if(i===t)return this;if(i!=null){i.off($et.pct_,this.Szs_);i.Kds_()&&i.Hds_(!0)}super.POs_(t);t!=null&&t.on($et.pct_,this.Szs_);this.Hzs_(!0);return this}Yzs_(t,i,s){const e=this.vgt_();if(this.e7_()===null||e==null)return this;const A=this.e7_().if_().rI_(),n=this.OWs_.Bzs_().rI_(),h=A.nI_(t,i),r=Math.max(0,Math.min(1,h.getX())),o=this.qzs_(h.getY(),r);if(!o)return this;if(!(this.Jzs_(o.getX())&&e instanceof dD)){e.nf_(!1);return this}e.nf_(!0);const l=A.aI_(o);n.transformPoint(l,l);e.gR_(l);this.notify(wD.agt_,this,this.Pzs_(h,o,s));return this}Tzs_(t,i){const s=this.e7_();if(s==null||s.RIs_()==null)return null;const e=s.RIs_();if(this.mzs_&&re(e)){const s=e.lt_();if(s==null||!s.contains(t,i))return null}const A=this.vgt_(),n=s.if_().rI_(),h=A.if_().rI_(),r=n.nI_(t,i);if(!this.Jzs_(r.getX(),null,!0))return null;const o=this.getPosition();if(o.x===t&&o.y===i)return null;this.DOs_.vs_(o.x,o.y);this.MOs_.vs_(t,i);h.transformPoint(this.DOs_,this.DOs_);h.transformPoint(this.MOs_,this.MOs_);this.Vzs_(A,this.MOs_.x-this.DOs_.x,this.MOs_.y-this.DOs_.y);n.transformPoint(this.DOs_,this.DOs_);return this.DOs_}Vzs_(t,i,s){t instanceof mD&&!this.Ozs_(t)&&(i=0);(!this.Mzs_||t instanceof mD&&this.Ozs_(t))&&(s=0);let e;if(this.Xgt_){t.xat_()||t.Uat_();t.qat_().translate(i,s).nf_(!0);e=this.SOs_(t.qat_());this.DOs_.vs_(e.x,e.y);t.qat_().if_().transformPoint(this.DOs_,this.DOs_)}else{t.translate(i,s);e=this.SOs_(t);this.DOs_.vs_(e.x,e.y);t.if_().transformPoint(this.DOs_,this.DOs_)}return this.DOs_}xzs_(t){const i=this.vgt_();if(i!=null){const s=undefined,e=this.e7_().if_().rI_();let A,n;if(this.Xgt_&&i.xat_()){n=i.qat_();A=this.SOs_(n);e.transformPoint(n.if_().transformPoint(A,this.DOs_),this.DOs_);i.at_(n.ut_());this.Kzs_(n)}else{A=this.SOs_(i);e.transformPoint(i.if_().transformPoint(A,this.DOs_),this.DOs_)}this.vOs_===!0&&i.xat_()&&i.Lat_();i.setActive(!1);this.notify(wD.lgt_,this,this.ect_(this.DOs_,i,t));this.Mgt_(null)}}Kzs_(t){const i=this.e7_(),s=t.Nat_(),e=t.ut_();if(i==null||e==null||e.isIdentity()||s==null)return;const A=s["index"]!=null;let n=null,h=null;if(A){const t=i.Cvt_();if(t!=null){h=t.G2_(s["index"]);n=this.Wzs_(t.getValue(s["index"]))}}else{n=s["value"];h=s["depth"]}if(t instanceof mD){const i=t.OA_(),r=t.WA_(),o=e.transformPoint(i),l=e.transformPoint(r),u=s["depth"]==null;if(!t.Hat_()){if(n!=null&&u){o.setX(n);l.setX(n)}if(h!=null&&!u){o.setY(h);l.setY(h)}}t.zA_({from:o,to:l});t.at_(null);u?A&&(s["value"]=this.zzs_(o.getX())):s["depth"]=o.getY();t.Hat_()||this.Xzs_(t,i,r,o,l)}else if(t instanceof dD){const i=t.lR_(),A=e.transformPoint(i);if(!t.Hat_()){n!=null&&A.setX(n);h!=null&&A.setY(h)}t.gR_(A).at_(null);s["value"]=this.zzs_(A.getX());s["depth"]=A.getY()}}Xzs_(t,i,s,e,A){const n=t.Nat_(),h=n["prevhandle"],r=n["depth"]==null;if(h!=null){const t=undefined,n=undefined;r!==(h.Nat_()["depth"]==null)&&this.jzs_(h,i,s,e,A)}const o=n["nexthandle"];if(o!=null){const t=undefined,n=undefined;r!==(o.Nat_()["depth"]==null)&&this.jzs_(o,i,s,e,A)}}jzs_(t,i,s,e,A){const n=t.OA_(),h=t.WA_();if(n.bs_(i,NA.Je_)){n.vs_(e);t.zA_({from:n})}else if(n.bs_(s,NA.Je_)){n.vs_(A);t.zA_({from:n})}else if(h.bs_(i,NA.Je_)){h.vs_(e);t.zA_({to:h})}else if(h.bs_(s,NA.Je_)){h.vs_(A);t.zA_({to:h})}}Fzs_(t,i,s){if(this.vgt_()!==null){const t=this.Zzs_(s);this.Mgt_(null);this.notify(wD.q_,this,t)}}xLt_(t,i){const s=this.kOs_(t,i);let e=null;if(s&&s.length>0)for(let t=s.length-1;t>=1;t--){const i=s[t];if(i instanceof aD&&s[t].dn_()===this.Qzs_){e=i;break}}if(e!==null){const t=e.Nat_(),i=undefined;if(!(t!=null&&t["index"]!=null))return null;if(e.Hat_()){this.Mgt_(e.Jat_());e.Jat_().setActive(!0)}else{e.setActive(!0);this.Mgt_(e)}}else{this.vgt_()!==null&&this.vgt_().setActive(!1);this.Mgt_(null)}return e}kzs_(t,i,s){if(this.e7_()){this.Yzs_(t,i,s);const e=this.e7_().if_().rI_(),A=this.OWs_.Bzs_(),n=e.nI_(t,i);let h=this.SOs_(this.vgt_());h=A.transformPoint(h);e.transformPoint(h,h);this.notify(wD.ugt_,this,this.Pzs_(n,h,s))}}_gt_(){const t=this.e7_();if(t===null)return this;if(this.d4_===Rft.ugt_){if(this.vgt_()===null){const t=this.getPosition();this.Sgt_[0]=new QD({painter:this.yOs_,activefillstyle:null,inactivefillstyle:null,activelinestyle:null,inactivelinestyle:null});const i=this.Sgt_[0];i.HC_(this.Qzs_);this.OWs_.rzs_(i);this.Mgt_(i);i.setActive(!1);this.Yzs_(t.getX(),t.getY())}return this}switch(this.wzs_){case kft.VWs_:this._zs_(t);break;default:switch(t.ePi_()){case"MiddleStep":case"EndStep":case"StartStep":this.$zs_(t);break;default:this._zs_(t);break}}this.Nzs_=!1;return this}$zs_(t){const i=undefined;if(this.mgt_()==null)return this;const s=function(t){return t.phi_()===!0},e=this.tXs_(t);if(e===null)return this;const A=e.range,n=e.joi_;let h=A.Xs_(),r,o=null,l=null,u,a;const g=ch.hd_();ch.pd_(!1);const c=Es({ghostlinestyle:null,ghostfillstyle:null,activefillstyle:null,inactivefillstyle:null,activelinestyle:null,inactivelinestyle:null});let I=null;while(h<A.zs_()&&(r=n.qni_(++h))!==void 0){if(o===null){if(!(h>0)){o=r;continue}r=r.clone();o=n.qni_(h-1)}l=s(r)?r:o;s(l)||(l=null);if(this.Jzs_(r,o)){c["x1"]=o.getValue();c["x2"]=r.getValue();c["y1"]=o.G2_();c["y2"]=r.G2_();const t=new mD(c);t.HC_(this.Qzs_);let i=o.getValue()===r.getValue();if(i&&I!=null){const t=undefined;if(NA.equals(o.G2_(),r.G2_())){const t=undefined;i=!(I.Nat_()["depth"]==null)}}if(i){u=l!==null?l.Ehi_():null;a=null}else{const i=this.SOs_(t);u=null;a=l!==null?l.G2_():i.getY()}t.bat_({index:l!==null?l.yhi_():null,depth:a,value:u});if(I!=null){let i=I.Nat_();i["nexthandle"]=t;i=t.Nat_();i["prevhandle"]=I}this.Sgt_.push(t);I=t}o=r}ch.pd_(g);this.OWs_.rzs_(this.Sgt_);return this}_zs_(t){const i=undefined;if(this.mgt_()===null)return this;const s=this.tXs_(t);if(s===null)return this;const e=s.joi_,A=s.range,n=t.RIs_();if(!ne(n))return this;const h=n.rt_(),r={},o=e.xct_()!==oA.W_,l=ch.hd_();ch.pd_(!1);const u=Es({painter:this.yOs_,ghostlinestyle:null,ghostfillstyle:null,activefillstyle:null,inactivefillstyle:null,activelinestyle:null,inactivelinestyle:null});for(let t=A.Xs_();t<A.zs_();t++){const i=e.qni_(t);if(!i||!i.phi_())continue;if(i.G2_()<h.Ee_())continue;if(i.G2_()>h.pe_()){if(o)break;continue}if(i.yhi_()==null||r[i.yhi_()]||!this.Jzs_(i))continue;u["x"]=i.getValue();u["y"]=i.G2_();const s=new QD(u);s.JC_("handle-"+t);s.HC_(this.Qzs_);this.Sgt_.push(s);s.bat_({index:i.yhi_(),depth:i.G2_(),value:i.Ehi_()});r[i.yhi_()]=!0}ch.pd_(l);this.OWs_.rzs_(this.Sgt_);return this}Ozs_(t){return t.OA_().getX()===t.WA_().getX()}qzs_(t,i){const s=this.e7_();if(s===null)return null;const e=this.tXs_(s,!0);if(e===null)return null;const A=e.joi_,n=this.iXs_(t,i,A);if(n.sXs_!==void 0)return A.qni_(n.sXs_).getValue()==null?null:new lA(A.qni_(n.sXs_).getValue(),A.qni_(n.sXs_).G2_());if(n.next===null||n.CN_===null)return null;if(A.qni_(n.CN_).getValue()==null||A.qni_(n.next).getValue()==null)return null;this.DOs_.vs_(this.yzs_,t);this.MOs_.vs_(this.Dzs_,t);this.Ezs_.rc_(this.DOs_.clone(),this.MOs_.clone());this.DOs_.vs_(A.qni_(n.CN_).getValue(),A.qni_(n.CN_).G2_());this.MOs_.vs_(A.qni_(n.next).getValue(),A.qni_(n.next).G2_());this.pzs_.rc_(this.DOs_,this.MOs_);const h=this.Ezs_.gc_(this.pzs_);return h!==null?h:null}iXs_(t,i,s,e,A){const n=s.xct_(),h=n!==oA.W_,r=n===oA.Ds_;e=e||0;A=A||s.getLength()-1;if(h){const n=parseInt((e+(A-e)/2).toString(),10);if(A-e<=1)return{CN_:e,next:A};if(s.qni_(n).G2_()===t)return{sXs_:n};if(s.qni_(n).G2_()<t){const h=r?n:e,o=r?A:n;return this.iXs_(t,i,s,h,o)}const h=r?e:n,o=r?n:A;return this.iXs_(t,i,s,h,o)}const o=Math.min(A,s.getLength()-1);let l=e,u=e+1,a=Number.MAX_VALUE;for(let A=e;A<o;A++){const e=s.qni_(A).G2_(),n=s.qni_(A).getValue();if(NA.equals(e,t)&&NA.equals(n,i))return{sXs_:A};const h=s.qni_(A+1).G2_(),r=Math.max(e,h),o=undefined;if(t>Math.min(e,h)&&t<r){const r=s.qni_(A+1).getValue();this.Ezs_.setStart(n,e).setEnd(r,h);const o=this.Ezs_.Ss_(i,t);if(o<a){a=o;l=A;u=A+1}}}return{CN_:l,next:u}}eXs_(t,s){const e=this.e7_(),A=this.tXs_(e);if(e==null||A==null)return-1;const n=A.joi_,h=e.Cvt_(),r=n.jni_(s,t),o=this.iXs_(t,r,n);if(o.sXs_!==void 0){const s=n.qni_(o.sXs_);return s.phi_()||o.sXs_===0?s.yhi_():i.AXs_(n,h,o.sXs_,t)}if(o.next===null||o.CN_===null)return-1;const l=n.qni_(o.next);return l.phi_()?~l.yhi_():i.AXs_(n,h,o.next,t)}static AXs_(t,i,s,e){const A=t.qni_(s),n=i.xct_(),h=i.mcs_();if(n!==oA.W_)return NA.findIndex(e,h);const r=t.Zni_(A.getValue());let o,l=0;for(let i=s-1;i>=0;i--){o=t.qni_(i);if(o.phi_()){l=o.yhi_();break}}const u=i.getValues(),a=Math.max(l,1);let g=u[a-1],c=h[a-1];for(let t=a;t<h.length;t++){const i=h[t],s=u[t];let A,n,o,l;if(g<s){A=g;n=s}else{A=s;n=g}if(NA.equals(e,i)){if((NA.equals(r,A)||r>A)&&(NA.equals(r,n)||r<n))return t;g=s;c=i}else{if(c<i){o=c;l=i}else{o=i;l=c}if(e>o&&e<l&&(NA.equals(r,A)||r>A)&&(NA.equals(r,n)||r<n))return~t;g=s;c=i}}return-1}Jzs_(t,i,s){if(this.dgt_ instanceof $At&&!s||this.mzs_&&s){let s=null,e=null;t!=null&&(s=this.zzs_(typeof t=="number"?t:t.getValue()));i!=null&&(e=this.zzs_(typeof i=="number"?i:i.getValue()));if(this.hzs_)if(e!==null){if(s<=this.yzs_&&e<=this.yzs_||s>=this.Dzs_&&e>=this.Dzs_){if(t instanceof Yq&&i instanceof Yq){if((NA.equals(s,this.yzs_)||NA.equals(s,this.Dzs_))&&t.phi_()&&(NA.equals(t.Ehi_(),this.Dzs_)||NA.equals(t.Ehi_(),this.yzs_)))return!0;if((NA.equals(e,this.yzs_)||NA.equals(e,this.Dzs_))&&i instanceof Yq&&i.phi_()&&(NA.equals(t.Ehi_(),this.Dzs_)||NA.equals(t.Ehi_(),this.yzs_)))return!0}return!1}}else if(s>=this.Dzs_||s<=this.yzs_)return!!((NA.equals(s,this.Dzs_)||NA.equals(s,this.yzs_))&&t instanceof Yq&&t.phi_()&&(NA.equals(t.Ehi_(),this.Dzs_)||NA.equals(t.Ehi_(),this.yzs_)))}return!0}tXs_(t,i){if(t==null)return null;const s=t.RIs_();if(!ne(s))return null;let e;e=i===!0&&he(s)?s.ot_():s.rt_();const A=t.wfs_(e.Ee_(),e.pe_());if(A===null)return null;const n=A.Pni_(e.Ee_(),e.pe_());return{joi_:A,range:n}}zzs_(t){const i=this.e7_();if(i==null)return null;let s=i.Afs_().Zni_(t);const e=i.Bvt_(),A=i.Cvt_().Rcs_();e!=null&&A!=null&&!e.pn_(A)&&e.Qn_(A)&&(s=e.wn_(s,A));return s}Wzs_(t){const i=this.e7_();if(i==null)return null;const s=i.Bvt_(),e=i.Cvt_().Rcs_();s!=null&&e!=null&&!s.pn_(e)&&e.Qn_(s)&&(t=e.wn_(t,s));return i.Afs_().jni_(t)}update(){this.Hzs_(this.Nzs_)}Hzs_(t){const i=this.isEnabled();if(i&&this.e7_()!==null){this.bzs_=!0;this.nXs_();if(t||this.KZt_()===Rft.ugt_){const t=this.zzs_(0),i=this.zzs_(1);this.Dzs_=Math.max(t,i);this.yzs_=Math.min(t,i);this.Uzs_()}}if(this.e7_()===null){this.hXs_();this.bzs_=!1}this.$gt_(i)}nXs_(){const t=this.e7_();if(t==null)return this;const i=t.RIs_();if(i==null)return this;const s=i.QIs_();if(!ne(s))return this;let e=s.rt_();if(e==null)return this;e=e.clone();const A=undefined,n=(t.if_()||Gn.JI_).rn_(e),h=undefined,r=(s.if_()||Gn.JI_).rn_(e),o=this.OWs_.if_().rI_();o.rn_(n,n);o.rn_(r,r);this.OWs_.Izs_(e).czs_(n).fzs_(r);return this}Uzs_(){const t=undefined;if(this.e7_()===null)return this;this.hXs_();this.isEnabled()&&this._gt_();return this}hXs_(){this.Mgt_(null);this.OWs_.vas_(!0);this.Sgt_=[];this.Nzs_=!0;return this}Nas_(t){let i=!1;const s=this.vgt_();if(s!==null){s.nf_(!1);i=s.xat_()&&s.qat_().$C_()}this.$gt_(!1);if(t&&s!==null){s.nf_(!0);s.xat_()&&s.qat_().nf_(i)}return this}Lzs_(){this.$gt_(!0);return this}KZt_(){return this.d4_}rXs_(){return this.mzs_}dzs_(){return this.hzs_}oXs_(){return this.Mzs_}lXs_(){return this.vzs_}uXs_(t){this.vzs_=t;return this}aXs_(t){this.mzs_=t;return this}TZt_(t){if(t!==this.d4_){this.d4_=t;this.update()}return this}Czs_(t){this.hzs_=t;this.OWs_.Czs_(this.hzs_);return this}gXs_(t){this.Mzs_=t;return this}sct_(t,i,s){i==null&&(i=this.vgt_());if(i==null)return null;const e=i.Nat_();let A,n,h,r;if(e["value"]===null){A=null;n=null}else{A=this.zzs_(t.getX());n=e["value"]}if(e["depth"]===null){h=null;r=null}else{h=t.getY();r=e["depth"]}return this.FOs_(s,{oldDepth:r,oldValue:n,depth:h,value:A,index:e["index"]})}ect_(t,i,s){const e=i.Nat_(),A=e["value"]===null?null:this.zzs_(t.getX()),n=e["depth"]===null?null:t.getY();return this.FOs_(s,{depth:n,value:A,index:e["index"]})}Zzs_(t){const i=this.vgt_();if(i===null)return null;const s=i.Nat_();return this.FOs_(t,{depth:s["depth"],value:s["value"],index:s["index"]})}Pzs_(t,i,s){return this.FOs_(s,{depth:t.getY(),value:this.zzs_(t.getX()),handleDepth:i.getY(),handleValue:this.zzs_(i.getX())})}nct_(t,i,s,e){const A=this.e7_().if_();this.DOs_.vs_(i,s);A.transformPoint(this.DOs_,this.DOs_);return this.FOs_(e,{depth:this.DOs_.getY(),value:this.DOs_.getX()})}Gzs_(t){if(t===this.wzs_)return this;this.wzs_=t;this.Nzs_=!0;this.Uzs_();return this}Rzs_(){return this.wzs_}};s=i=t([_s("geotoolkit.welllog.widgets.tools.CurveEditor")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwib25Nb3VzZURvd24iOiJ6RnRfIiwib25Nb3VzZVVwIjoiQ3RfIiwib25Nb3VzZU1vdmUiOiJYRnRfIiwic2V0SGFuZGxlc1Zpc2libGUiOiIkZ3RfIiwic2V0QWN0aXZlSGFuZGxlIjoiTWd0XyIsInNldEhhbmRsZVN0eWxlcyI6InVjdF8iLCJzZXRTaGFwZSI6InlndF8iLCJjcmVhdGVIYW5kbGVzIjoiX2d0XyIsImZpbmRTYW1wbGVJbmRleCI6ImVYc18iLCJjaGVja0hhbmRsZUNvbGxpc2lvbiI6Ikp6c18iLCJyZW1vdmVIYW5kbGVzIjoiaFhzXyIsImhpZGVIYW5kbGVzIjoiTmFzXyIsInNob3dIYW5kbGVzIjoiTHpzXyIsImdldE1vZGUiOiJLWnRfIiwiZ2V0SGFuZGxlSW5zaWRlVHJhY2siOiJyWHNfIiwiZ2V0SGlkZVNwaWxsaW5nSGFuZGxlcyI6ImR6c18iLCJnZXRWZXJ0aWNhbEVkaXRBbGxvd2VkIjoib1hzXyIsImdldEhpZGVJbmFjdGl2ZUhhbmRsZXMiOiJsWHNfIiwic2V0SGlkZUluYWN0aXZlSGFuZGxlcyI6InVYc18iLCJzZXRIYW5kbGVJbnNpZGVUcmFjayI6ImFYc18iLCJzZXRNb2RlIjoiVFp0XyIsInNldEhpZGVTcGlsbGluZ0hhbmRsZXMiOiJDenNfIiwic2V0VmVydGljYWxFZGl0QWxsb3dlZCI6ImdYc18iLCJzZXRIYW5kbGVzVHlwZSI6Ikd6c18iLCJnZXRIYW5kbGVzVHlwZSI6IlJ6c18ifX19");var Hft=Ci(function(){var i;let s=i=class t extends hx{constructor(t,i,s,e,A,n){super(t,i,n);this.fWi_=s;this.Cws_=A;this.xkt_(e)}Wft_(){return this.fWi_}Vcs_(){return this.Cws_}merge(t){const s=super.merge(t);s&&t instanceof i&&this.fWi_._s_(t.fWi_);return s}rI_(){const t=super.rI_();let s=this.PP_();s=Array.isArray(s)?null:s;return new i(t.OA_(),t.WA_(),this.fWi_.clone(),s,this.Cws_,!1)}};s=i=t([_s("geotoolkit.welllog.widgets.tools.editors.InsertRangeCommand")],s);return s}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVJbnZlcnNlIjoicklfIn19fSAg");const qft=new mA,Jft=22;var Pft=Ci(function(){var i;let s=i=class t extends fA{constructor(t,s,e,A){let n;if(t instanceof i){super(t);this.cXs_=t.cXs_;this.IXs_=t.IXs_;this.fXs_=t.fXs_;this.CXs_=t.CXs_;this.dXs_=t.dXs_;this.tH_=null}else if(t!=null&&typeof t!="number"){const i=undefined,s=undefined;super(t["low"],t["high"]);this.cXs_=t["mindeviceheight"]||Jft;this.tH_=t["owner"];this.IXs_=!0;this.fXs_=!0;this.CXs_=!0;this.dXs_=!0;n=t}else{super(t,s);this.cXs_=A||Jft;this.tH_=e;this.IXs_=!0;this.fXs_=!0;this.CXs_=!0;this.dXs_=!0}this.BXs_=n&&n["nextrange"]||null;this.wXs_=n&&n["prevrange"]||null;this.ov_=n&&n["name"]||null;this.hq_=n&&n["fillstyle"];this.QXs_=n&&n["bottomlinestyle"];this.EXs_=n&&n["bottomlinetype"]||null;this.pXs_=n&&n["title"]||null;this.fX_=n&&n["textstyle"];this.L$t_=n&&n["toplinestyle"];this.mXs_=n&&n["toplinetype"]||null;this._id=n&&n["id"]||null}js_(t){if(NA.equals(this.zs_(),t))return this;if(!this.yXs_(t))return this;super.js_(t);this.BXs_&&(this.CXs_||t>this.BXs_.Xs_())&&this.BXs_.Zs_(t);return this}Zs_(t){if(NA.equals(this.Xs_(),t))return this;if(!this.DXs_(t))return this;super.Zs_(t);this.wXs_&&(this.fXs_||t<this.wXs_.zs_())&&this.wXs_.js_(t);return this}_s_(t,i){let s,e;if(t instanceof fA){s=t.Xs_();e=t.zs_()}else if(t<i){s=t;e=i}else{e=t;s=i}if(!this.uM_()){this.Zs_(s);this.js_(e);return this}const A=e-s;if(NA.equals(A,this.getSize()))return this.translate(s-this.Xs_());if(!this.MXs_(A))return this;if(e>this.zs_()){this.js_(e);this.Zs_(s)}else{this.Zs_(s);this.js_(e)}return this}dt_(t){if((t=Es(t))==null)return this;t["fillstyle"]!==void 0&&(this.hq_=t["fillstyle"]);t["textstyle"]!==void 0&&(this.fX_=t["textstyle"]);t["toplinetype"]!==void 0&&(this.mXs_=t["toplinetype"]);t["bottomlinetype"]!==void 0&&(this.EXs_=t["bottomlinetype"]);t["toplinestyle"]!==void 0&&(this.L$t_=t["toplinestyle"]);t["bottomlinestyle"]!==void 0&&(this.QXs_=t["bottomlinestyle"]);t["name"]!==void 0&&(this.ov_=t["name"]);t["title"]!==void 0&&(this.pXs_=t["title"]);t["owner"]!==void 0&&this.VT_(t["owner"]);t["prevrange"]!==void 0&&this.vXs_(t["prevrange"]);t["nextrange"]!==void 0&&this.bXs_(t["nextrange"]);t["mindeviceheight"]!==void 0&&this.NXs_(t["mindeviceheight"]);t["id"]!==void 0&&(this._id=t["id"]);super.dt_(t);return this}N_(){const t=super.N_();this.hq_!==void 0&&(t["fillstyle"]=this.hq_);this.fX_!==void 0&&(t["textstyle"]=this.fX_);this.L$t_!==void 0&&(t["toplinestyle"]=this.L$t_);this.QXs_!==void 0&&(t["bottomlinestyle"]=this.QXs_);this.mXs_!=null&&(t["toplinetype"]=this.mXs_);this.EXs_!=null&&(t["bottomlinetype"]=this.EXs_);this.ov_!=null&&(t["name"]=this.ov_);this.pXs_!=null&&(t["title"]=this.pXs_);this._id!=null&&(t["id"]=this._id);t["prevrange"]=this.wXs_;t["nextrange"]=this.BXs_;t["owner"]=this.tH_;t["mindeviceheight"]=this.cXs_;return t}isConnected(){return this.wXs_!=null||this.BXs_!=null}static SXs_(){return Jft}GXs_(){return this.cXs_}NXs_(t){this.cXs_=t;return this}RXs_(){if(!this.IXs_)return 0;const t=this.tH_.if_();if(!t)return this.cXs_;const i=undefined;t.wI_()===0&&t.QI_()===0?qft.ce_(0,0,0,this.cXs_):qft.ce_(0,0,this.cXs_,0);t.gI_(qft,qft);return qft.Ts_()}kXs_(t){this.dXs_=t;if(this.dXs_){this.fXs_=this.wXs_!=null&&this.Xs_()<=this.wXs_.zs_();this.CXs_=this.BXs_!=null&&this.zs_()>=this.BXs_.Xs_()}else{this.fXs_=!1;this.CXs_=!1}return this}FXs_(){return this.dXs_}xXs_(t){this.IXs_=t;return this}LXs_(){return this.IXs_}VT_(t){this.tH_=t;return this}OT_(){return this.tH_}UXs_(){return this.wXs_}vXs_(t){this.wXs_=t;this.wXs_&&(this.fXs_=this.Xs_()<=this.wXs_.zs_());return this}YXs_(){return this.BXs_}bXs_(t){this.BXs_=t;this.BXs_&&(this.CXs_=this.zs_()>=this.BXs_.Xs_());return this}translate(t){if(t===0)return this;const i=this.getSize();if(t<0){this.Zs_(this.Xs_()+t);this.js_(this.Xs_()+i)}else{this.js_(this.zs_()+t);this.Zs_(this.zs_()-i)}return this}DXs_(t){if(!this.uM_())return!0;if(t==null||t>this.zs_())return!1;if(this.wXs_){this.dXs_&&!this.fXs_&&(this.fXs_=t<=this.wXs_.zs_());if(t<this.wXs_.Xs_())return!1}if(!this.tH_)return!0;let i;if(t<this.Xs_()){if(!this.wXs_)return!0;i=t-this.wXs_.Xs_()}else{if(!this.IXs_)return!0;i=this.zs_()-t}return this.MXs_(i)}yXs_(t){if(!this.uM_())return!0;if(t==null||t<this.Xs_())return!1;if(this.BXs_){this.dXs_&&!this.CXs_&&(this.CXs_=t>=this.BXs_.Xs_());if(t>this.BXs_.zs_())return!1}if(!this.tH_)return!0;let i;if(t>this.zs_()){if(!this.BXs_)return!0;i=this.BXs_.zs_()-t}else{if(!this.IXs_)return!0;i=t-this.Xs_()}return this.MXs_(i)}clone(){return new i(this)}TXs_(t,i){const s=this.tH_.getParent();if(!s||!he(s)||s.ot_()==null)return!0;const e=s.ot_();return i?t>=e.Ee_():t<=e.pe_()}MXs_(t){t==null&&(t=this.getSize());const i=this.tH_!=null?this.tH_.if_():null;let s;if(i){qft.ce_(0,0,0,t);i.rn_(qft,qft);const e=undefined;s=i.wI_()===0&&i.QI_()===0?qft.Ts_():qft.Ie_()}else s=t;return s>=this.cXs_}uM_(){const t=this.Xs_(),i=this.zs_();return!isNaN(t)&&!isNaN(i)&&isFinite(t)&&isFinite(i)}};s=i=t([_s("geotoolkit.welllog.widgets.tools.editors.LithologyRange")],s);return s}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRIaWdoIjoianNfIiwic2V0TG93IjoiWnNfIiwic2V0UmFuZ2UiOiJfc18iLCJnZXRQcm9wZXJ0aWVzIjoiTl8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIn19fSAg");const Vft=new Gn;var Oft=Ci(function(){let i=class t extends Gx{apply(t){const i=this.$O_()||t.PP_();if(i==null||Array.isArray(i))return this;let s,e,A,n,h;const r=t.JV_(),o=r&&r["hint"];switch(t.Dkt_()){case Lk.Mk_:if(!$F(t))return this;s=t.OA_();e=t.WA_();const l=r&&r["reversed"];h=r&&r["laststate"];if(l){WF.JWt_(i,o);return this}if(h!=null&&h["parent"]!=null){A=h["parent"];n=h["index"]}else{A=this.tXt_();if(!(A instanceof Ic))return this;n=A.FY_(this.iXt_())}if(A instanceof Ic){WF.g1_(A,i,n);const t=undefined;if(h!=null)return this;const r=WF.HWt_(i,this.mgt_(),Vft);s=r.aI_(s);e=r.aI_(e);WF.ht_(i,s,e,o)}return this}return super.apply(t)}Uat_(){const t=this.PP_(),i=this.getBounds();if(!t||!i)return null;const s=new dp({bounds:i.clone()});s&&WF.TWt_(s,this.mgt_(),this.tXt_());return s}KXs_(){const t=this.tXt_();return t instanceof _lt?t:null}HXs_(){const t=this.KXs_();return t!=null?t.rt_():null}_zt_(){return(this.lPt_()&xk.dJt_)!=0}getBounds(){const t=this.$O_();let i=super.getBounds();if(i!=null&&t instanceof qut&&t.eks_()){const s=bn.$c_(0,i.Ts_(),t.getParent().if_());i=i.clone().Be_(s)}return i}};i=t([_s("geotoolkit.welllog.widgets.tools.editors.LogVisualEditor")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVHaG9zdCI6IlVhdF8iLCJnZXRBY3RpdmVUcmFjayI6IktYc18iLCJnZXRUcmFja0xpbWl0cyI6IkhYc18ifX19");var Wft=function(){let i=class t extends aAt{constructor(t){super(t);this.fWi_=new Pft(NaN,NaN)}Wft_(){return this.fWi_}render(t){}};i=t([_s("geotoolkit.welllog.widgets.tools.editors.LithologyRangeNode")],i);return i}();var zft=Ci(function(){var i;let s=i=class t extends lx{constructor(t,i){super(t);this.fWi_=i}merge(t){if(!(t instanceof i))return!1;const s=super.merge(t);s&&this.fWi_._s_(t.fWi_);return s}Wft_(){return this.fWi_}rI_(){const t=super.rI_();return new i(t.XWt_(),this.fWi_.clone())}};s=i=t([_s("geotoolkit.welllog.widgets.tools.editors.ResizeRangeCommand")],s);return s}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVJbnZlcnNlIjoicklfIn19fSAg");var Xft=Ci(function(){var i;let s=i=class t extends rx{constructor(t,i,s){super(t,i);this.fWi_=s}merge(t){if(!(t instanceof i))return!1;const s=super.merge(t);s&&this.fWi_._s_(t.fWi_);return s}Wft_(){return this.fWi_}rI_(){const t=super.rI_();return new i(t.EI_(),t.pI_(),this.fWi_.clone())}};s=i=t([_s("geotoolkit.welllog.widgets.tools.editors.TranslateRangeCommand")],s);return s}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVJbnZlcnNlIjoicklfIn19fSAg");const jft=new Gn,Zft=new mA,_ft=1/NA.Je_,$ft="Range",tCt=srt.cys_,iCt=1,sCt=function(t,i){return{name:$ft+"["+t.toFixed(iCt)+"; "+i.toFixed(iCt)+"]",z6_:{baseline:ka.j_,alignment:Fa.ne_},Pvt_:{color:GA.BA_},qXs_:tCt,JXs_:tCt}},eCt="Shift";HF.Ai_().register(wrt,kF.IJt_,((t,i)=>{const s=i["dy"],e=undefined;i["hint"].translate(NA.round(s,_ft))})).register(wrt,kF.GWt_,((t,i)=>{const s=i["tr"],e=i["hint"];let A=s.nI_(0,e.Xs_()).getY(),n=s.nI_(0,e.zs_()).getY();A=NA.round(A,_ft);n=NA.round(n,_ft);A>n||e._s_(A,n)}));var ACt=Ci(function(){let i=class t extends Oft{constructor(t){super(t);this.PXs_=t&&t["attributecallback"]||sCt;this.VXs_=null;this.OXs_=null;this.WXs_=null;this.cXs_=t!=null&&t["mindeviceheight"]!==void 0?t["mindeviceheight"]:Pft.SXs_();this.Cws_=null;this.zXs_();this.XXs_=null;this.jXs_=t!=null&&t["splitbuttonkey"]!==void 0?t["splitbuttonkey"]:eCt;this.ZXs_=null}fPt_(t){super.fPt_(t);const i=t.Lkt_();i!=null&&this.ZXs_===i.key&&(this.ZXs_=null)}IPt_(t){super.IPt_(t);const i=t.Lkt_();if(i==null||this.ZXs_!=null)return;this.ZXs_=i.key;if(this.WXs_==null)return;const s=undefined,e=!(this.ZXs_!=null&&this.jXs_===this.ZXs_);this.WXs_.kXs_(e)}_Xs_(){if(this.WXs_==null)return null;const t=this.WXs_.N_();delete t["prevrange"];delete t["nextrange"];return t}N_(){const t=super.N_();t["mindeviceheight"]=this.cXs_;t["attributecallback"]=this.PXs_;t["splitbuttonkey"]=this.jXs_;return t}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["mindeviceheight"]!==void 0&&this.NXs_(t["mindeviceheight"]);t["attributecallback"]!==void 0&&this.$Xs_(t["attributecallback"]);t["splitbuttonkey"]!==void 0&&(this.jXs_=t["splitbuttonkey"]);return this}isSupported(t){return t["node"]instanceof wrt&&this.yyi_(t["node"])||t["node"]instanceof Wft}save(t){const i=this.PP_();if(i&&this.XXs_==null){this.VXs_==null&&this.tjs_(i);switch(t.Dkt_()){case Lk.C3_:case Lk.BC_:this.XXs_=this.getData(!1);break;case Lk.Mk_:case Lk.RJt_:case Lk.kJt_:this.XXs_=this.getData(!0);if(this.PP_()&&this.PP_().getParent()instanceof Ic){this.XXs_["parent"]=this.PP_().getParent();this.XXs_["index"]=this.XXs_["parent"].FY_(this.PP_())}break;default:return super.save(t)}}return this.XXs_}restore(t,i){const s=this.PP_();switch(t.Dkt_()){case Lk.C3_:case Lk.BC_:this.ijs_(s,i,!1);break;case Lk.Mk_:this.ijs_(s,i,!0);break;default:return super.restore(t,i)}return null}LXt_(t,i,s,e,A,n){if(this.WXs_==null)return null;const h=super.LXt_(t,i,s,e,A,n),r=this.WXs_.clone();let o=h.JV_();o=qi(o,{hint:r});return new zft(h.XWt_(),r).xkt_(e).setOptions(o)}FXt_(t,i,s){if(this.WXs_==null)return null;const e=super.FXt_(t,i,s),A=this.WXs_.clone();let n=e.JV_();n=qi(n,{hint:A});return new Xft(e.EI_(),e.pI_(),A).xkt_(s).setOptions(n)}rXt_(t,i,s,e,A,n){s=this.sjs_(s);const h=this.Hzt_();if(h===cx.Bzt_&&t.getY()>s.pe_()){if(t.getY()>=i.getY()){t.setY(i.getY());return null}s.Be_(t.getY()-s.Ee_())}if(h===cx.dzt_&&t.getY()<s.Ee_()){if(t.getY()<=i.getY()){t.setY(i.getY());return null}s.Be_(s.pe_()-t.getY()).setY(t.getY())}return super.rXt_(t,i,s,e,A,n)}oXt_(t,i,s,e){s=this.sjs_(s);return super.oXt_(t,i,s,e)}RXt_(t,i,s,e,A){s=this.sjs_(s);return super.RXt_(t,i,s,e,A)}kXt_(t,i,s,e){const A=this.ut_().rn_(this.getBounds(),Zft);if(A!=null){t.setX(A.we_());i.setX(A.Qe_())}if(!this.nXt_())return new hx(i,t,e).xkt_(s);if(this.WXs_==null)return null;const n=this.WXs_.clone();return new Hft(t,i,n,s,this.Cws_,e).setOptions({hint:n})}$zt_(t){const i=this.PP_();if(!(i instanceof wrt))return!1;if(!this.nXt_())return super.$zt_(t);if(!OS.Tkt_(t))return!1;if(i.mcs_().length<2)return!1;const s=this.ejs_(i,t.Fkt_()),e=s["currDepth"],A=s["prevDepth"],n=s["nexDepth"],h=s["isGap"];if(isNaN(A)||isNaN(n))return!0;if(h)return!0;let r=Math.min(e-A,n-e);const o=i.if_();if(o){Zft.ce_(0,0,0,r);o.rn_(Zft,Zft);const t=undefined;r=o.wI_()===0&&o.QI_()===0?Zft.Ts_():Zft.Ie_()}return r>=this.cXs_}apply(t){const i=undefined;if(!this.$O_())return this;const s=t.JV_();let e;switch(t.Dkt_()){case Lk.Mk_:if(t instanceof Hft)return this;break;case Lk.kJt_:const i=t.PP_();if(!(i instanceof wrt))return this;const A=undefined;if(i.mcs_()!=null&&i.mcs_().length<=2)break;const n=s&&s["laststate"];if(n!=null)e=n;else if(this.WXs_!=null&&this.Ajs_(i,this.WXs_,this.Cws_)){this.WXs_=null;e=this.getData(!0)}e&&this.ijs_(i,e,!0);return this;case Lk.RJt_:e=s&&s["origstate"];if(e&&e["depths"]&&e["depths"].length>2){this.ijs_(this.PP_(),e,!0);return this}break}return super.apply(t)}zzt_(t){this.Uq_();super.zzt_(t)}DPt_(t){const i=t.JV_(),s=i&&i["reversed"],e=i&&i["laststate"];let A;if(s){A=i["origstate"];this.WXs_=null;this.VXs_=null;this.OXs_=null;this.XXs_=null}else if(e){A=e;this.XXs_=null}switch(t.Dkt_()){case Lk.BC_:case Lk.C3_:if(!s&&A==null){const t=i&&i["hint"];if(t==null||this.WXs_==null||this.Xzt_())break;this.WXs_._s_(t);A=this.getData(!1)}this.ijs_(this.PP_(),A,!1);break;case Lk.Mk_:this.ijs_(this.PP_(),A,!0);break}super.DPt_(t)}vPt_(t){super.vPt_(t);switch(t.Dkt_()){case Lk.Mk_:t instanceof Hft&&this.PP_().nf_(!0);break}this.Yq_(!0)}GXt_(){const t=this.qat_();if(this.WXs_==null||this.PP_()==null||!(t instanceof iu))return this;const i=WF.TWt_(t,this.PP_().getParent()),s=ie(i)?i.getBounds().clone():null;if(s==null)return this;const e=undefined;i.ut_().rn_(s,s);this.WXs_._s_(s.Ee_(),s.pe_());const A=this.getData(!1);this.ijs_(this.PP_(),A,!1);return this}_zt_(){const t=undefined;return super._zt_()&&(this.PP_()!=null&&this.PP_().getParent()==null||this.WXs_!=null&&!this.WXs_.isConnected())}TPt_(t){if(this.PP_()==null)return this;const i=undefined,s=!(this.ZXs_!=null&&this.jXs_===this.ZXs_),e=t.Fkt_();this.VXs_==null&&this.tjs_(this.PP_());this.XXs_=null;if(this._zt_()){if(!this.$zt_(t))return this;this.Cws_=this.bLs_(e,!1);if(this.Cws_==null)return this;if(this.WXs_!=null)this.WXs_._s_(this.Cws_,this.Cws_);else{this.WXs_=this.VXs_;this.WXs_._s_(this.Cws_,this.Cws_);this.ijs_(this.PP_(),this.getData(!1),!1)}this.WXs_!=null&&this.WXs_.NXs_(this.cXs_)}else if(this.WXs_!=null){super.TPt_(t);if(this.KPt_(t)){this.WXs_.kXs_(s);this.njs_(this.WXs_);return this}this.WXs_=this.hjs_(e,!1)}else this.WXs_=this.hjs_(e,!1);this.MXt_(this.getBounds());if(this.WXs_==null){this.setActive(!1);return this}this.setActive(!0);this.WXs_.kXs_(s);super.TPt_(t);if(this.KPt_(t)){const t=this.hXt_()?this.find(this.Cws_,!0,!0):this.WXs_;this.njs_(t)}return this}Wzt_(t){const i=this._zt_(),s=this.mf_(),e=this.isActive();this.yf_(!0);super.Wzt_(t);this.yf_(s);if(this.WXs_!=null&&this.WXs_.uM_()){const s=this.PP_();if(i&&s instanceof wrt){const i=this.WXs_;this.WXs_=null;if(this.rjs_(s,i,this.Cws_)){if(this.PXs_!=null){const t=this.PXs_(i.Xs_(),i.zs_());i.dt_(t)}const s=this.getData(!0);this.ijs_(this.PP_(),s,!0);this.WXs_=i;this.wPt_(this.PP_(),t)}else this.WXs_=i}}this.WXs_!=null&&this.WXs_.kXs_(!0);this.Cws_=null;this.ojs_=null;this.ljs_=null;this.XXs_=null;e!==this.isActive()&&this.Dgt_();return this}xkt_(t){if(t instanceof Wft){this.WXs_=t.Wft_();t=null}else if(t===this.PP_())return this;super.xkt_(t);if(this.PP_()!=null)this.tjs_(this.PP_());else{this.VXs_=null;this.OXs_=null}return this}getBounds(){const t=undefined;if(!(this.$O_()instanceof wrt))return super.getBounds();const i=this.PP_();if(!(i instanceof wrt)||i.getBounds()==null||this.WXs_==null)return null;const s=i.getBounds().clone();s.ce_(s.we_(),this.WXs_.Xs_(),s.Qe_(),this.WXs_.zs_());return s}pXt_(t,i,s,e){return super.pXt_(t,i,s,!1)}rjt_(){const t=this.DXt_(),i=[4,8];for(let s=1;s<10;s++){const e=undefined;t.HY_(s).nf_(i.includes(s))}return this}GXs_(){return this.cXs_}NXs_(t){if(NA.equals(t,this.cXs_))return this;this.cXs_=t;this.zXs_();return this}ujs_(){return this.PXs_}$Xs_(t){this.PXs_=t;return this}sjs_(t){if(this.ojs_==null&&this.ljs_==null)return t;let i=this.ljs_,s=this.ojs_;const e=this.tXt_();if(this.Zzt_()&&e!==this.mgt_()){const t=WF.KWt_(e,this.mgt_(),jft);i!=null&&(i=t.nI_(0,i).getY());s!=null&&(s=t.nI_(0,s).getY())}let A=!1;if(i!=null&&i>t.Ee_()&&i<t.pe_()){t=t.clone().Be_(t.pe_()-i).setY(i);A=!0}if(s!=null&&s<t.pe_()&&s>t.Ee_()){A||(t=t.clone());t.Be_(s-t.Ee_())}return t}njs_(t){if(t==null)return;if(this._zt_()){if(this.Cws_<t.Xs_()&&t.UXs_()==null){const i=this.KXs_();i!=null&&(this.ljs_=i.wIs_().Xs_());this.ojs_=t.Xs_();return}if(this.Cws_>t.zs_()&&t.YXs_()==null){this.ljs_=t.zs_();const i=this.KXs_();i!=null&&(this.ojs_=i.wIs_().zs_());return}const i=t.zs_()<this.Cws_;if(!(i||t.DXs_(this.Cws_)&&t.yXs_(this.Cws_)))return;if(t.YXs_()&&i){this.ljs_=t.zs_();this.ojs_=t.YXs_().Xs_()}else{this.ljs_=t.Xs_();this.ojs_=t.zs_()}return}const i=t.FXs_(),s=t.RXs_(),e=undefined;let A,n;switch(this.Hzt_()){case cx.Bzt_:A=t.UXs_();A!=null&&(this.ljs_=i?A.Xs_()+s:A.zs_());this.ojs_=t.zs_()-s;break;case cx.dzt_:this.ljs_=t.Xs_()+s;n=t.YXs_();n!=null&&(this.ojs_=i?n.zs_()-s:n.Xs_());return;case cx.ne_:A=t.UXs_();A!=null&&(this.ljs_=A.Xs_()+s);n=t.YXs_();n!=null&&(this.ojs_=n.zs_()-s);break;default:return}}yyi_(t){return t.vws_()instanceof ont&&t.Nws_()instanceof ont}ejs_(t,i){const s=t.RIs_(),e=undefined,A=this.bFt_(s?.QIs_(),i).getY(),n=t.mcs_();let h=NaN,r=NaN,o=!1;for(let t=0;t<n.length;t++){const i=n[t];if(isNaN(i))o=!0;else if(i<A){h=i;o=!1}else if(i>A){r=i;break}}return{currDepth:A,prevDepth:h,nexDepth:r,isGap:o}}ajs_(t,i,s){if(this.WXs_!=null&&this.WXs_.Ws_(i))return this.WXs_;if(i==null)return null;this.VXs_==null&&this.tjs_(t);return this.find((i.Xs_()+i.zs_())/2,s,!0)}Mcs_(){return this.VXs_!=null?this.VXs_.Xs_():null}vcs_(){return this.OXs_!=null?this.OXs_.zs_():null}hjs_(t,i){const s=this.PP_();if(s==null)return null;const e=s.$X_(t);if(e==null)return null;let A=e["selectedranges"];i||(A=A.filter((t=>!t["isgap"])));if(A.length===0)return null;const n=A[A.length-1]["depthrange"],h=(n.Xs_()+n.zs_())/2;return this.find(h,i)}createRange(t,i){const s=this.PP_(),e=new Pft(t,i,s instanceof wrt?s:null,this.cXs_).xXs_(!1);let A=1;const n=this.PP_().if_();if(n!=null){const t=undefined;A/=n.wI_()===0&&n.QI_()===0?n._c_():n.Zc_()}e.getSize()<A&&e.js_(e.Xs_()+A);return e}rjs_(t,i,s){if(!i||i.isConnected())return!1;const e=this.ajs_(t,i,!0);if(!e)return!1;i.LXs_()||i.xXs_(!0);i.VT_(t);const A=i.RXs_();let n,h;if(i.getSize()<A){n=i.Xs_();this.ljs_!=null&&(n=Math.max(this.ljs_,n));h=n+A;this.ojs_!=null&&(h=Math.min(this.ojs_,h));i._s_(n,h)}if(e===i)return!0;s=s||(i.Xs_()+i.zs_())/2;i.xXs_(!0);const r=i.FXs_();if(s<e.Xs_()){r&&e.Zs_(i.zs_());this.VXs_=i;i.bXs_(e);e.vXs_(i);return!0}const o=e.zs_()<s;if(!o&&s>e.zs_()){r&&e.js_(i.Xs_());this.OXs_=i;i.vXs_(e);e.bXs_(i);return!0}let l,u;n=i.Xs_();h=i.zs_();if(s<=i.Xs_()||o){l=e;u=e.YXs_()}else{l=e.UXs_();u=e}if(l){l.bXs_(null);if(!NA.equals(n,l.zs_())&&(r||n<l.zs_())){const t=l.zs_();l.js_(n);if(NA.equals(t,l.zs_())){l.bXs_(u);return!1}}l.bXs_(i);i.vXs_(l)}else this.VXs_=i;if(u){u.vXs_(null);if(!NA.equals(h,u.Xs_())&&(r||h>u.Xs_())){const t=u.Xs_();u.Zs_(h);if(NA.equals(t,u.Xs_())){u.vXs_(l);return!1}}u.vXs_(i);i.bXs_(u)}else this.OXs_=i;return!0}Ajs_(t,i,s){this.VXs_==null&&this.tjs_(t);if(!i)return!1;const e=i.FXs_(),A=i.Xs_(),n=i.zs_();s=s||(A+n)/2;let h=this.find(s,!0);h&&h.zs_()<A&&(h=h.YXs_());const r=h;if(!h||!r)return!1;if(h===this.VXs_&&r===this.OXs_){if(i.Xs_()<s){r.vXs_(null);this.VXs_=r}else{h.bXs_(null);this.OXs_=h}return!0}const o=h.UXs_(),l=r.YXs_();if(o){if(e&&s<i.zs_()&&l){o.bXs_(null);o.js_(l.Xs_())}o.bXs_(l)}else l&&(this.VXs_=l);if(l){if(e&&s>i.Xs_()&&o){l.vXs_(null);l.Zs_(o.zs_())}l.vXs_(o)}else o&&(this.OXs_=o);return!0}bLs_(t,i){const s=this.PP_();if(!(t&&s instanceof wrt))return null;const e=this.bFt_(this.tXt_(),t);if(i){const t=s.getBounds();if(t==null||!t.contains(e))return null}return e.getY()}ijs_(t,i,s){if(!(t instanceof wrt)||i==null)return this;t.td_();const e=t._C_();t.rd_(!1);s&&t.mys_(i["textstyles"]).IIs_(i["titles"]).Wys_(i["names"]).jRt_(i["fillstyles"]).YT_(i["linestyles"]).yys_(i["linetypes"]).Xys_(i["ids"]);t.wys_(i["depths"]);t.vn_().rd_(e,!0);return this}tjs_(t){if(!(t instanceof wrt))return;this.VXs_=null;this.OXs_=null;const i=t.mcs_()||[],s=t.Oys_()||[],e=t.ZRt_()||[],A=t.zys_()||[],n=t.LT_()||[],h=t.dv_()||[],r=t.cIs_()||[],o=t.getIds()||[];if(i.length>=2){let t=-1;for(let l=0;l<i.length-1;l++){if(isNaN(i[l])||isNaN(i[l+1]))continue;const u=i[l],a=i[l+1];t++;const g={textstyle:s[t],fillstyle:e[t],toplinetype:A[t],bottomlinetype:A[t+1],toplinestyle:n[t],bottomlinestyle:n[t+1],name:h[t],title:r[t],id:o[t]};this.append(u,a,g)}}else{const t=i.length>0?i[0]:NaN;this.append(t,t,null)}}getData(t){const i=[];let s,e,A,n,h,r,o;if(t){s=[];e=[];A=[];n=[];h=[];r=[];o=[]}let l=-1,u=this.VXs_;while(u){i.push(u.Xs_());++l;const a=u.YXs_();if(a!=null&&u.zs_()<a.Xs_()){i.push(u.zs_());i.push(NaN)}if(t){const t=u.N_();t["fillstyle"]!==void 0&&(s[l]=t["fillstyle"]);t["textstyle"]!==void 0&&(e[l]=t["textstyle"]);t["toplinetype"]!==void 0&&(A[l]=t["toplinetype"]);t["toplinestyle"]!==void 0&&(n[l]=t["toplinestyle"]);t["name"]!=null&&(h[l]=t["name"]);t["title"]!=null&&(r[l]=t["title"]);t["id"]!=null&&(o[l]=t["id"]);if(!a){t["bottomlinetype"]!==void 0&&A.push(t["bottomlinetype"]);t["bottomlinestyle"]!==void 0&&n.push(t["bottomlinestyle"])}}u=a}i.push(this.OXs_.zs_());let a={depths:i};t&&(a=qi(a,{fillstyles:s,textstyles:e,linetypes:A,linestyles:n.length>0?n:null,names:h,titles:r.length>0?r:null,idarray:o}));return a}zXs_(){let t=this.VXs_;while(t){t.NXs_(this.cXs_);t=t.YXs_()}return this}append(t,i,s){const e=this.PP_(),A=new Pft(t,i,e instanceof wrt?e:null,this.cXs_).dt_(s);this.OXs_&&this.OXs_.bXs_(A);A.vXs_(this.OXs_);this.OXs_=A;this.VXs_||(this.VXs_=A);return this}prepend(t,i,s){const e=this.PP_(),A=new Pft(t,i,e instanceof wrt?e:null).dt_(s);A.bXs_(this.VXs_);this.VXs_&&this.VXs_.vXs_(A);this.VXs_=A;this.OXs_||(this.OXs_=A);return this}find(t,i,s){if(!this.VXs_||!NA.Oe_(t))return null;if(s=s===!0){if(t<this.VXs_.Xs_())return this.VXs_;if(this.OXs_!=null&&t>this.OXs_.zs_())return this.OXs_}let e=this.VXs_;while(e){const s=e.YXs_();if(e.contains(t)||i&&s!=null&&s.Xs_()>t)return e;e=s}return null}};i=t([_s("geotoolkit.welllog.widgets.tools.editors.LithologyEditor")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbktleVVwIjoiZlB0XyIsIm9uS2V5RG93biI6IklQdF8iLCJnZXRBY3RpdmVSYW5nZUluZm8iOiJfWHNfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIiwic2V0UHJvcGVydGllcyI6ImR0XyIsImNhbkluc2VydCI6IiR6dF8iLCJvbkJlZm9yZUNvbW1hbmRBcHBsaWVkIjoienp0XyIsIm9uQ29tbWFuZEFwcGx5aW5nIjoiRFB0XyIsIm9uQ29tbWFuZEFwcGxpZWQiOiJ2UHRfIiwicmVzZXROb2RlVG9HaG9zdCI6IkdYdF8iLCJzZXROb2RlIjoieGt0XyIsImdldE1pbkRldmljZUhlaWdodCI6IkdYc18iLCJzZXRNaW5EZXZpY2VIZWlnaHQiOiJOWHNfIiwiZ2V0QXR0cmlidXRlQ2FsbGJhY2siOiJ1anNfIiwic2V0QXR0cmlidXRlQ2FsbGJhY2siOiIkWHNfIn19fSAg");const nCt=25,hCt=new mA;HF.Ai_().register(Uut,kF.IJt_,((t,i)=>{if(!(t instanceof Uut&&t.B1_()))return;let s=i["dx"];const e=i["dy"],A=i["hint"],n=t.B1_().clone();A===!0&&(s=0);n.translate(s,e);t.ce_(n)})).register(Uut,kF.GWt_,((t,i)=>{if(!(t instanceof Uut&&t.B1_()))return;const s=i["tr"],e=i["hint"],A=t.B1_().clone();s.transform(A,A);e===!0&&A.setX(0).de_(1);t.ce_(A)})).register(Uut,kF.RWt_,((t,i)=>{if(!(t instanceof Uut))return;const s=i["p1"],e=i["p2"],A=i["hint"],n=new mA(s.getX(),s.getY(),e.getX(),e.getY());A===!0&&n.setX(0).de_(1);t.ce_(n)}));var rCt=Ci(function(){let i=class t extends Oft{constructor(t){super(t=qi(t,{freeresizemode:!1},!0));this.gjs_=t["freeresizemode"];this.rjt_()}cjs_(t){if(this.gjs_===t)return this;this.gjs_=t;this.Ijs_(this.gjs_);return this}fjs_(){return this.gjs_}isSupported(t){return t["node"]instanceof Uut}xkt_(t){super.xkt_(t);t!=null&&this.Ijs_(this.gjs_);return this}save(t){const i=this.$O_();if(!i)return null;let s;switch(t.Dkt_()){case Lk.BC_:case Lk.C3_:if(oe(i))s={localtransform:i.ut_()?i.ut_().clone():null};else{const t=this.getBounds();s={bounds:t!=null?t.clone():null}}break;default:s=super.save(t);break}return s}Vzt_(t,i,s,e,A,n){const h=super.Vzt_(t,i,s,e,A,n);if(h==null)return null;let r=h.JV_();r=qi(r,{hint:!this.fjs_()});h.setOptions(r);return h}kXt_(t,i,s,e){if(!this.fjs_()&&this.KXs_()!=null){let s=this.HXs_();s=this.KXs_().if_().rn_(s,hCt);s=this.if_().gI_(s,hCt);s=this.ut_().rn_(s,hCt);const e=s!=null?s.we_():0,A=s!=null?s.Qe_():1;i.setX(e);t.setX(A)}return super.kXt_(t,i,s,e)}GXt_(){const t=this.PP_(),i=this.qat_();if(!(t instanceof Uut&&i instanceof iu&&ie(i)))return this;const s=WF.TWt_(i,t.getParent()),e=ie(s)?s.getBounds().clone():null;if(e==null)return this;const A=undefined;s.ut_().rn_(e,e);t.ce_(e);return this}apply(t){const i=this.$O_()||t.PP_();if(i==null||Array.isArray(i))return this;switch(t.Dkt_()){case Lk.BC_:case Lk.C3_:const s=t.JV_(),e=undefined,A=s&&s["reversed"]?s["origstate"]:s["laststate"];if(A){i.dt_(A);return this}break}return super.apply(t)}vPt_(t){if(t.Dkt_()===Lk.C3_&&!this.Xzt_()&&jF(t)){const i=t.XWt_();if(i.length>1){const t=i[0]["delta"]<-1,s=i[1]["delta"]<-1;let e=this.Hzt_();t&&(e=this.mXt_(e,!1));s&&this.mXt_(e,!0)}}super.vPt_(t)}wPt_(t,i){t instanceof Uut&&this.Cjs_(t);super.wPt_(t,i)}rjt_(){const t=this.DXt_(),i=this.fjs_()?[1,3,5,7]:[4,8];for(let s=1;s<10;s++){const e=undefined;t.HY_(s).nf_(i.includes(s))}return this}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["freeresizemode"]!==void 0&&this.cjs_(t["freeresizemode"]);return this}N_(){const t=super.N_();t["freeresizemode"]=this.gjs_;return t}eXt_(t,i,s){const e=undefined;return t.XWt_().length===0&&t.JV_()&&t.JV_()["resizetransform"]?t.JV_()["resizetransform"]:super.eXt_(t,i,s)}Ijs_(t){this.rjt_();if(t)return;const i=this.PP_();if(!(i instanceof Uut)||i.B1_()==null)return;const s=this.HXs_(),e=s!=null?s.we_():0,A=s!=null?s.Qe_():1,n=i.B1_().clone();n.setX(e).de_(A-e);if(n.Ce_(i.B1_()))return;const h=(new Gn).II_(i.B1_(),n),r=new lx([]).setOptions({resizetransform:h});this.push(r);this.MXt_(n)}Cjs_(t){let i=t.B1_();const s=t.RIs_().QIs_(),e=t.FIs_();if(i==null||s==null||e==null)return this;const A=s.if_();let n=nCt,h=nCt;if(A!=null){hCt.ce_(0,0,n,h);A.gI_(hCt,hCt);n=Math.min(hCt.Ie_(),e.Ie_());h=Math.min(hCt.Ts_(),e.Ts_())}if(i.Ie_()>=n&&i.Ts_()>=h)return this;i=i.clone();const r=n-i.Ie_(),o=h-i.Ts_();i=i.clone();i.Le_(r/2,o/2);let l,u;if(this.gjs_){l=Math.max(e.we_(),Math.min(i.we_(),e.Qe_()-i.Ie_()));u=Math.min(e.Ie_(),i.Ie_())}else{l=e.we_();u=e.Ie_()}const a=Math.max(e.Ee_(),Math.min(i.Ee_(),e.pe_()-i.Ts_())),g=Math.min(e.Ts_(),i.Ts_());i.ce_(l,a,l+u,a+g);t.ce_(i);return this}};i=t([_s("geotoolkit.welllog.widgets.tools.editors.LogFrameVisualEditor")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGcmVlUmVzaXplTW9kZUVuYWJsZWQiOiJjanNfIiwiaXNGcmVlUmVzaXplTW9kZUVuYWJsZWQiOiJmanNfIiwic2V0Tm9kZSI6InhrdF8iLCJyZXNldE5vZGVUb0dob3N0IjoiR1h0XyIsIm9uQ29tbWFuZEFwcGxpZWQiOiJ2UHRfIiwib25Ob2RlQ3JlYXRlZCI6IndQdF8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIn19fSAg");const oCt=new mA;HF.Ai_().register(Igt,kF.IJt_,((t,i)=>{if(!(t instanceof Igt))return;const s=i["dy"];let e=t.G2_();e+=s;t.lfs_(e)})).register(Igt,kF.RWt_,((t,i)=>{if(!(t instanceof Igt))return;const s=undefined,e=i["p2"].getY();t.lfs_(e)}));var lCt=Ci(function(){let i=class t extends Oft{isSupported(t){return t["node"]instanceof Igt}save(t){const i=this.$O_();if(!i)return null;let s;t.Dkt_()===Lk.BC_?oe(i)?s={localtransform:i.ut_()?i.ut_().clone():null}:i instanceof Igt&&(s={depth:i.G2_()}):s=super.save(t);return s}Kzt_(t,i){i==null&&this.Hzt_(t)!=null&&(i="move");return super.Kzt_(t,i)}GXt_(){const t=this.PP_(),i=this.qat_();if(!(t instanceof Igt&&i instanceof iu))return this;const s=WF.TWt_(i,t.getParent()),e=ie(s)?s.getBounds().clone():null;if(e==null)return this;const A=undefined;s.ut_().rn_(e,e);const n=t.getBounds(),h=t.G2_();t.lfs_(e.getY()+(h-n.getY()));return this}Vzt_(t,i,s,e,A,n){if(s.bs_(i,NA.Je_))return null;if(t==null){const t=this.getBounds();if(t!=null){const i=undefined;this.ut_().rn_(t,oCt);s.setY(oCt.De_())}}i.setX(0);s.setX(0);const h=this.oXt_(i,s,this.AXt_(!1),e)||this.FXt_(i,s,e);h.xkt_(this.PP_());return h}rjt_(){const t=this.DXt_(),i=cx,s=[i.he_,i.oe_];for(let i=1;i<10;i++){const e=undefined;t.HY_(i).nf_(s.includes(i))}return this}};i=t([_s("geotoolkit.welllog.widgets.tools.editors.MarkerEditor")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVCcm93c2VyQ3Vyc29yIjoiS3p0XyIsInJlc2V0Tm9kZVRvR2hvc3QiOiJHWHRfIn19fSAg");var uCt=Ci(function(){let i=class t{constructor(t,i,s,e){this.JDt_=t;this.SEs_=i;this.GEs_=s;this.BSs_=e}getSelection(){return this.JDt_}Mcs_(){return this.SEs_}vcs_(){return this.GEs_}RIs_(){return this.BSs_}vO_(t){this.JDt_=t;return this}};i=t([_s("geotoolkit.welllog.widgets.tools.GhostToolEventArgs")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNaW5EZXB0aCI6Ik1jc18iLCJnZXRNYXhEZXB0aCI6InZjc18iLCJnZXRUcmFjayI6IlJJc18iLCJzZXRTZWxlY3Rpb24iOiJ2T18ifX0sImdldENsYXNzTmFtZSI6IkRfIn0g");var aCt=Ci({Hmt_:"selected"},2,"eyJTZWxlY3RlZCI6IkhtdF8ifSAg");const gCt={yJt_:"create",sjt_:"edit"},cCt=function(t,i){const s={};i.YY_((t=>t instanceof ynt&&t.$C_())).forEach((t=>{s[t.dn_()]=!0}));return t.filter((t=>s[t.dn_()]!=null))};var ICt=Ci(function(){let i=class t extends OS{constructor(t,i){const s=undefined;super({name:"ghost",layer:t});this.eFt_({pointerdown:this.zFt_.bind(this),pointermove:[{callback:this.XFt_.bind(this),object:null},{callback:this.XFt_.bind(this),object:Mi,enabled:!1}],pointerup:[{callback:this.Ct_.bind(this),object:null},{callback:this.Ct_.bind(this),object:Mi,enabled:!1}]});this.UU_=Pi(i,{ghost:{fillstyle:{color:"rgba(128,128,128,0.2)"},linestyle:{color:"#696969",width:2,pixelsnapmode:{x:!0,y:!0}}},rubberband:{fillstyle:{color:"rgba(189,189,189,0.5)"},linestyle:{color:"#bdbdbd",width:1,pattern:[2,3],pixelsnapmode:{x:!0,y:!0}}},highlight:{fillstyle:{color:"rgba(255,232,166,0.2)"},linestyle:{color:"#dfe0e3",width:1,pixelsnapmode:{x:!0,y:!0}}},snaptotrack:!1,shadow:!1},!0);this.BSs_=null;this.djs_=null;this.Bjs_=gCt.yJt_;this.wjs_=!1;this.Qjs_=!1;this.A_t_=new dp(new mA(0,0,0,0)).nf_(!1).rB_(this.UU_["rubberband"]["linestyle"]).iQ_(this.UU_["rubberband"]["fillstyle"]);this.Ejs_=(new sI).nf_(!1).kY_(!0).rB_(this.UU_["ghost"]["linestyle"]).iQ_(this.UU_["ghost"]["fillstyle"]);this.pjs_=new mA;this.OSt_=new bC;this.pei_=null;this.vgs_=new TQ;this.vgs_.GY_(this.Ejs_);this.Jgt_.GY_([this.vgs_,this.A_t_]);this.Eei_=this.mjs_(this.vgs_);this.fWt_=null;this.Ezt_=null}setOptions(t){if(t){this.UU_=Pi(t,this.UU_);if(t["rubberband"]){this.A_t_.rB_(this.UU_["rubberband"]["linestyle"]);this.A_t_.iQ_(this.UU_["rubberband"]["fillstyle"])}if(t["ghost"]){this.Ejs_.rB_(this.UU_["ghost"]["linestyle"]);this.Ejs_.iQ_(this.UU_["ghost"]["fillstyle"]);this.Qei_&&this.Qei_.setOptions({box:{activefillstyle:this.UU_["ghost"]["fillstyle"],inactivefillstyle:this.UU_["ghost"]["fillstyle"]}})}}return this}JV_(){return this.UU_}jY_(){return this.Ejs_.jY_()}Eq_(t){this.Ejs_.Eq_(t);return this}ZY_(){return this.Ejs_.ZY_()}pq_(t){this.Ejs_.pq_(t);return this}yjs_(t){if(t instanceof Function){if(this.fWt_!==t){this.fWt_=t;this.Djs_(this.Mjs_())}}else if(t===!0){if(this.fWt_!==cCt){this.fWt_=cCt;this.Djs_(this.Mjs_())}}else if(this.fWt_!=null){this.fWt_=null;this.Djs_()}return this}vjs_(t,i){if(this.isEnabled()&&this.Bjs_===gCt.sjt_&&this.pei_){const s=this.pei_.getPosition();s&&this.pei_.move(s.getX()-t,s.getY()-i)}}zFt_(t){if(this.isEnabled()){let i=t.Fkt_();if(this.Bjs_===gCt.yJt_){this.BSs_=this.bjs_(i);if(!this.BSs_)return;this.djs_=this.BSs_;this.$kt_=this.LFt_(this.BSs_,!0);this.Njs_=this.$kt_;if(this.$kt_.contains(i)){i=this.$kt_.Ikt_(i);if(!i)return;const s=this.BSs_.if_().uI_(i);this.uy_=new lA(0,s.getY());this.ay_=new lA(1,s.getY());this.wjs_=!0;this.Sjs_(this.uy_,this.ay_);t.stopPropagation(!0);this.$kt_.mgt_().GY_([this.vgs_,this.A_t_])}}else if(this.Bjs_===gCt.sjt_&&this.Gjs_(i)){t.stopPropagation(!0);this.Qjs_=!0;return}}}XFt_(t){if(this.isEnabled()){if(!this.Ezt_){this.Ezt_=t.getPlot();BG.Yb_(this.Ezt_,{cursor:"move"},this)}let i=t.Fkt_();if(this.Bjs_===gCt.yJt_&&!this.wjs_||this.Bjs_===gCt.sjt_&&this.Qjs_&&this.pei_&&this.pei_.vgt_()instanceof BD){const t=this.bjs_(i),s=this.LFt_(t,!0);if(this.$kt_!==s){if(!s.ckt_(this.pei_,i,this.$kt_.gkt_()))return;this.Bjs_===gCt.sjt_&&s.mgt_().GY_(this.vgs_);this.$kt_!==this.Njs_&&this.$kt_.dispose();this.$kt_=s}}if(this.$kt_){i=this.$kt_.Ikt_(i);if(!i)return}if(this.Bjs_===gCt.yJt_&&this.wjs_){const s=this.BSs_.if_().uI_(i);this.ay_=new lA(1,s.getY());this.Sjs_(this.uy_,this.ay_);t.stopPropagation(!0)}else if(this.Bjs_===gCt.sjt_&&this.pei_&&this.Qjs_){t.stopPropagation(!0);this.pei_.move(i.getX(),i.getY())}this.UU_["highlight"]["enable"]===!0&&this.UU_["snaptotrack"]===!0&&this.Qjs_&&this.Rjs_(this.Mjs_())}}Ct_(t){if(!this.isEnabled())return;const i=t.Fkt_();if(this.Bjs_===gCt.yJt_&&this.wjs_){this.wjs_=!1;this.A_t_.nf_(this.UU_["shadow"]);this.kjs_(i)}else if(this.Qjs_){this.UU_["snaptotrack"]&&this.Fjs_(this.Mjs_());this.Qjs_=!1}this.xjs_()}Fjs_(t){if(t&&this.UU_["snaptotrack"]){const i=this.LFt_(t,!0);if(this.$kt_!==i){let t=this.Ejs_.rt_().getCenter();t=this.Ejs_.if_().transform(t);t=this.$kt_.fkt_(t);i.mgt_().GY_(this.vgs_);i.ckt_(this.pei_,t,this.$kt_.gkt_());this.$kt_!==this.Njs_&&this.$kt_.dispose();this.$kt_=i}const s=t.rt_(),e=this.Ljs_(t,s.Me_()),A=this.Ljs_(t,s.ve_()),n=this.Ejs_.getBounds();this.Ejs_.ht_(new mA(e.getX(),n.Ee_(),A.getX(),n.pe_()));this.pjs_=this.Jgt_.if_().transform(this.Ejs_.getBounds());this.pjs_=t.if_().uI_(this.pjs_);this.pei_.Ngt_()}}KXs_(){return this.BSs_}Pkt_(){super.Pkt_();if(this.isEnabled())this.$kt_=new SS(this.Jgt_);else{BG.Yb_(this.Ezt_,{cursor:null},this);this.Ezt_=null;this.Ujs_()}}Sjs_(t,i){t=this.Ljs_(this.djs_,t);i=this.Ljs_(this.djs_,i);this.A_t_.ce_(new mA(t.getX(),t.getY(),i.getX(),i.getY()));this.A_t_.nf_(!0)}Ljs_(t,i){i=t.if_().transform(i);return this.$kt_.gkt_().if_().uI_(i)}bjs_(t){const i=this.OSt_.select(this.Jgt_.getRoot(),t.getX(),t.getY(),1)||[];for(let t=i.length-1;t>=1;t--){const s=i[t];if(s instanceof _lt&&s.dn_()!=="ghost_node")return s}return null}mjs_(t){this.Qei_=new SD({box:{activefillstyle:this.UU_["ghost"]["fillstyle"],inactivefillstyle:this.UU_["ghost"]["fillstyle"],linestyle:this.UU_["ghost"]["linestyle"]},handlers:this.UU_["snaptotrack"]?[dA.le_,dA.re_]:[dA.ie_,dA.ee_,dA.Ae_,dA.se_]});return new RD(null,t).register("geotoolkit.scene.Group",this.Qei_)}kjs_(t){const i=this.Ljs_(this.BSs_,this.uy_),s=this.Ljs_(this.BSs_,this.ay_);this.Ejs_.nf_(!0);this.Ejs_.Lq_(new mA(this.uy_.getX(),this.uy_.getY(),this.ay_.getX(),this.ay_.getY()));this.Ejs_.ht_(new mA(i.getX(),i.getY(),s.getX(),s.getY()));this.Yjs_(this.uy_.getY(),this.ay_.getY());this.Ejs_.td_();const e=this.Eei_.fat_(this.Ejs_);e.ygt_(this.Ejs_).setPosition(t.getX(),t.getY());this.Eei_.Ogt_(e);e.setActive(!0);this.pei_=e;this.Bjs_=gCt.sjt_}Tjs_(t,i){const s=ur(this.BSs_).Gw_((s=>s instanceof $At||s instanceof Igt&&s.G2_()>=t&&s.G2_()<=i)).Fw_(),e=new uCt(s,t,i,this.BSs_);this.notify(aCt.Hmt_,this,e);return e.getSelection()}Yjs_(t,i){this.Ejs_.KY_();const s=(new _lt).ht_(new mA(0,t,1,i)).HC_("ghost_node").KBs_(t,i).kY_(!0);this.Ejs_.yf_(!0).GY_(s).yf_(!1);const e=this.Tjs_(t,i);if(Array.isArray(e))for(let t=0;t<e.length;++t)s.GY_(e[t].clone())}Kjs_(){if(this.pei_){this.pei_.setActive(!1);this.Eei_.Ogt_(null);this.pei_=null}this.Bjs_=gCt.yJt_;this.Qjs_=!1}Ujs_(){this.Kjs_();this.A_t_.nf_(!1);this.Ejs_.nf_(!1);this.Bjs_=gCt.yJt_;this.BSs_=null;this.djs_=null;this.Jgt_.GY_([this.vgs_,this.A_t_]);this.Njs_&&this.Njs_.dispose();this.$kt_&&this.$kt_.dispose()}Gjs_(t){const i=this.OSt_.select(this.Jgt_.getRoot(),t.getX(),t.getY(),2);let s;if(i&&i.length>0)for(s=i.length-1;s>=1;s--){let e=i[s];if(e instanceof uD){e instanceof aD&&e.Hat_()&&(e=e.Jat_());const i=e;if(i.fat_()===this.pei_){if(!(t=this.$kt_.Ikt_(t)))return!1;this.pei_.Mgt_(i).setPosition(t.getX(),t.getY());return!0}}}return!1}Rjs_(t){const i=undefined;if(t instanceof _lt){if(t!==this.Hjs_){this.xjs_();this.Hjs_=t;this.zVs_=t.Wqt_().ct_();this.XVs_=t.Wqt_().gt_();t.rB_(this.UU_["highlight"]["linestyle"]).Wqt_().iQ_(this.UU_["highlight"]["fillstyle"]);this.Djs_(this.Hjs_)}}else this.xjs_()}Djs_(t){if(this.pei_==null)return;const i=this.pei_.e7_().HY_(0).UY_();if(this.fWt_!=null&&t!=null){const s=this.fWt_(i,t);if(Array.isArray(s)){for(let t=i.length-1;t>=0;t--){const e=s.indexOf(i[t]);i[t].nf_(e!==-1)}return}}for(let t=i.length-1;t>=0;t--)i[t].nf_(!0)}xjs_(){if(this.Hjs_){this.Hjs_.Wqt_().iQ_(this.zVs_);this.Hjs_.Wqt_().rB_(this.XVs_);this.Hjs_=null;this.zVs_=null;this.XVs_=null}}Mjs_(){let t=this.Ejs_.rt_().getCenter();t=this.Ejs_.if_().transform(t);t=this.$kt_.fkt_(t);return this.bjs_(t)}};i=t([_s("geotoolkit.welllog.widgets.tools.GhostTool")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1ZlcnRpY2FsRmxpcCI6ImpZXyIsInNldFZlcnRpY2FsRmxpcCI6IkVxXyIsImlzSG9yaXpvbnRhbEZsaXAiOiJaWV8iLCJzZXRIb3Jpem9udGFsRmxpcCI6InBxXyIsInNldFZpc3VhbHNGaWx0ZXIiOiJ5anNfIiwic2hpZnRHaG9zdCI6InZqc18iLCJnZXRBY3RpdmVUcmFjayI6IktYc18iLCJvbkVuYWJsZWRTdGF0ZUNoYW5nZWQiOiJQa3RfIn19fSAg");var fCt=Ci(function(){var i;let s=i=class t{static qjs_(t,i){const s=t.BR_(),e=undefined;return(t.if_()||Gn.JI_).rn_(s).contains(i)!==!0?null:{node:t,bounds:t.BR_(),text:t.SG_(),textstyle:t.FE_(),fillstyle:t.ct_(),linestyle:t.gt_(),padding:t.uG_()}}static Jjs_(t,s,e){const A=i.qjs_(t,e);if(A==null)return null;const n=A["fillstyle"];if(n!=null&&n instanceof wr){const t=nA.Wi_(n.getColor()).setAlpha(255);A["fillstyle"]=n.clone().setColor(t)}return new JL({plot:s}).on(qL.QZt_,((i,s,e)=>{t.a_(e.SG_());s.dispose()})).on(qL.EZt_,((t,i,s)=>{i.dispose()})).YZt_(A)}};s=i=t([_s("geotoolkit.welllog.widgets.tools.html.LogAnnotationEditor")],s);return s}(),2,"eyJnZXRUZXh0TGFiZWxHZW9tZXRyeSI6InFqc18iLCJlZGl0VmlzdWFsIjoiSmpzXyJ9");var CCt=Ci(function(){var i;let s=i=class t{static qjs_(t,i){const s=t.$X_(i,5)["selectedranges"];if(s==null||s.length===0)return null;const e=s[0]["index"];if(e===-1)return null;const A=t.mcs_(),n=t.dv_(),h=t.FE_(),r=t.Oys_()||[h],o=t.ct_(),l=t.ZRt_()||[o],u=t.gt_(),a=t.LT_()||[u],g=undefined;return{node:t,bounds:new mA(0,A[e],1,A[e+1]),text:n[e],textstyle:r[e%r.length]||h,fillstyle:l[e%l.length]||o,linestyle:a[e%a.length]||u,padding:null,index:e}}static Jjs_(t,s,e){const A=i.qjs_(t,e);if(A==null)return null;const n=A["fillstyle"];if(n!=null&&n instanceof wr){const t=nA.Wi_(n.getColor()).setAlpha(255);A["fillstyle"]=n.clone().setColor(t)}A["linestyle"]="transparent";A["padding"]=null;return new JL({plot:s}).on(qL.QZt_,((i,s,e)=>{const n=undefined;t.dv_()[A.index]=e.SG_();t.td_();s.dispose()})).on(qL.EZt_,((t,i,s)=>{i.dispose()})).YZt_(A)}};s=i=t([_s("geotoolkit.welllog.widgets.tools.html.LogLithologyEditor")],s);return s}(),2,"eyJnZXRUZXh0TGFiZWxHZW9tZXRyeSI6InFqc18iLCJlZGl0VmlzdWFsIjoiSmpzXyJ9");var dCt=Ci(function(){var i;let s=i=class t{static qjs_(t,i){const s=t.$X_(i,5);if(s==null||s.length===0)return null;const e=s[0].zDi_,A=s[0].index,n=t.It_().transform(e.bounds);return{node:t,bounds:n,text:e.text,textstyle:e.jQ_,fillstyle:e.fillStyle,linestyle:e.XQ_,padding:null,index:A}}static Jjs_(t,s,e){const A=i.qjs_(t,e);if(A==null)return null;const n=A["fillstyle"];if(n!=null&&n instanceof wr){const t=nA.Wi_(n.getColor()).setAlpha(255);A["fillstyle"]=n.clone().setColor(t)}A["linestyle"]="transparent";A["padding"]=null;return new JL({plot:s}).on(qL.QZt_,((i,s,e)=>{t.mus_().cIs_()[A.index]=e.SG_();t.td_();t.mus_().td_();s.dispose()})).on(qL.EZt_,((t,i,s)=>{i.dispose()})).YZt_(A)}};s=i=t([_s("geotoolkit.welllog.widgets.tools.html.LogLithologyHeaderEditor")],s);return s}(),2,"eyJnZXRUZXh0TGFiZWxHZW9tZXRyeSI6InFqc18iLCJlZGl0VmlzdWFsIjoiSmpzXyJ9");var BCt=Ci(function(){var i;let s=i=class t{static qjs_(t,i){const s=t.$X_(i,5);if(s==null||s.length===0)return null;const e=s[0]["index"];if(e===-1)return null;const A=t.yKs_(e);return{node:t,bounds:A.DKs_,text:A.text,textstyle:A.z6_,fillstyle:A.Pvt_,linestyle:A.Jvt_,padding:A.padding,index:e}}static Jjs_(t,s,e){const A=i.qjs_(t,e);if(A==null)return null;const n=A["fillstyle"];if(n!=null&&n instanceof wr){const t=nA.Wi_(n.getColor()).setAlpha(255);A["fillstyle"]=n.clone().setColor(t)}A["linestyle"]="transparent";A["padding"]=null;return new JL({plot:s}).on(qL.QZt_,((i,s,e)=>{const n=t.getValues();if(Array.isArray(n)){n[A["index"]]=e.SG_();t.td_()}s.dispose()})).on(qL.EZt_,((t,i,s)=>{i.dispose()})).YZt_(A)}};s=i=t([_s("geotoolkit.welllog.widgets.tools.html.LogMudLogSectionEditor")],s);return s}(),2,"eyJnZXRUZXh0TGFiZWxHZW9tZXRyeSI6InFqc18iLCJlZGl0VmlzdWFsIjoiSmpzXyJ9");var wCt=Ci(function(){var i;let s=i=class t{static qjs_(t,i){const s=t.getBounds(),e=undefined;return(t.if_()||Gn.JI_).rn_(s).contains(i)!==!0?null:{node:t,bounds:t.getBounds(),text:t.SG_(),textstyle:t.FE_(),fillstyle:t.ct_(),linestyle:t.uQi_(),padding:t.uG_()}}static Jjs_(t,s,e){const A=i.qjs_(t,e);if(A==null)return null;const n=A["fillstyle"];if(n!=null&&n instanceof wr){const t=nA.Wi_(n.getColor()).setAlpha(255);A["fillstyle"]=n.clone().setColor(t)}return new JL({plot:s}).on(qL.QZt_,((i,s,e)=>{t.mus_().HC_(e.SG_());s.dispose()})).on(qL.EZt_,((t,i,s)=>{i.dispose()})).YZt_(A)}};s=i=t([_s("geotoolkit.welllog.widgets.tools.html.LogTrackVisualHeaderEditor")],s);return s}(),2,"eyJnZXRUZXh0TGFiZWxHZW9tZXRyeSI6InFqc18iLCJlZGl0VmlzdWFsIjoiSmpzXyJ9");var QCt=function(){let i=class t extends kS{constructor(t,i,s,e,A){ki("geotoolkit.welllog.widgets.tools.LogFrameEditorEventArgs is deprecated"+" since 4.0. geotoolkit.welllog.widgets.tools.editors.LogFrameVisualEditor uses"+" geotoolkit.controls.tools.PaintEventArgs");super(t);this.zz_=i;this.BSs_=s;this.dgt_=e;this.Pjs_=A}get rect(){return this.zz_}set rect(t){this.zz_=t}get previousRect(){return this.Pjs_}set previousRect(t){}get track(){return this.BSs_}get shape(){return this.dgt_}};i=t([_s("geotoolkit.welllog.widgets.tools.LogFrameEditorEventArgs")],i);return i}();var ECt=Ci({sjt_:"edit",ugt_:"insert"},2,"eyJFZGl0Ijoic2p0XyIsIkluc2VydCI6InVndF8ifSAg"),pCt=Ci(function(){let i=class t extends kIt{constructor(t){ki("geotoolkit.welllog.widgets.tools.LogFrameVisualEditor is deprecated"+" since 4.0. Use geotoolkit.welllog.widgets.tools.editors.LogFrameVisualEditor with"+" geotoolkit.welllog.widgets.tools.WellLogVisualsEditingTool instead");const i=qi(t,{manipulatorlayer:null,name:"markereditor",instance:null,freeresizemode:!1,handlestyles:null,boxstyles:null},!0);super(i["manipulatorlayer"],i["name"]);this.d4_=ECt.ugt_;this.JP_=null;this.BSs_=null;this.uy_=null;this.ay_=null;this.bf_=null;this.Vjs_=null;this.gjs_=i["freeresizemode"];this.Ojs_=[];this.Wjs_={};i["handlestyles"]=qi(i["handlestyles"],{activefillstyle:"#9cff94",inactivefillstyle:"#f8f4ff",activelinestyle:"#2dff67",inactivelinestyle:"#b0b0b0",handlepainter:tp,handlesize:8});i["boxstyles"]=qi(i["boxstyles"],{activefillstyle:"transparent",inactivefillstyle:"transparent",activelinestyle:"#2dff67",inactivelinestyle:"grey"});this.zjs_={cct_:null,Ict_:null,fct_:null,Cct_:null};this.Xjs_=i["instance"]||function(){return(new qut).iQ_(i["handlestyles"]["activefillstyle"])};this.jjs_=this.gjs_?[dA.ie_,dA.ee_,dA.Ae_,dA.se_]:[dA.le_,dA.re_];this.uct_(i["handlestyles"]);this.Zjs_(i["boxstyles"]);this.OOs_(i["handlestyles"]["handlepainter"]);this.sgt_(i["handlestyles"]["handlesize"]);this.oct_(!0);this._js_();this.FPt_=null;this.$js_=!1}KZt_(){return this.d4_}TZt_(t){if(this.d4_!==t){this.d4_=t;this.ygt_(null)}return this}tZs_(){return this.vgt_()!==this.Rgt_}zFt_(t){if(!this.isEnabled()||!this.mgt_())return this;this.FPt_=t;let i;const s=this.ROs_(t);if(this.KZt_()===ECt.ugt_){const e=this.bjs_(s);if(e&&e===this.BSs_){const e=this.BSs_.rt_(),A=undefined;if(this.BSs_.if_().transform(e).contains(s)){const e=this.BSs_.if_().uI_(s);this.uy_=new lA(this.gjs_?e.x:0,e.y);this.ay_=new lA(this.gjs_?e.x:1,e.y);const A=new mA(this.uy_.getX(),this.uy_.getY(),this.ay_.getX(),this.ay_.getY());i=new QCt(wD.ngt_,A,this.BSs_,null);this.fireEvent(wD.ngt_,i);if(i.qE_())return this;this.JP_=this.Xjs_();this.mgt_().GY_(this.JP_);this.iZs_(this.uy_,this.ay_);t.stopPropagation(!0);this.setActive(!0)}}}else if(this.KZt_()===ECt.sjt_&&this.e7_()){const e=this.sZs_(s);this.Mgt_(e);if(e){e.setActive(!0);e!==this.Rgt_&&this.Rgt_.setActive(!0);this.uy_=this.eZs_(s);this.bf_=this.AZs_();const A=this.e7_();this.Vjs_=this.bf_?this.bf_.clone():null;i=new QCt(wD.ngt_,this.bf_,A.RIs_(),A);this.fireEvent(wD.ngt_,i);if(i.qE_()){this.Mgt_(null);return this}t.stopPropagation(!0);this.setActive(!0)}}this.setPosition(s.getX(),s.getY());return this}Ct_(t){this.FPt_=null;if(!this.isEnabled()||!this.mgt_()||!this.isActive())return this;let i;const s=this.vgt_();if(this.JP_){let t=this.JP_.if_().transform(this.JP_.getBounds());t=this.BSs_.if_().uI_(t);this.mgt_().removeChild(this.JP_);this.JP_.ce_(t);if(this.$js_){i=new QCt(wD.ogt_,this.bf_,this.BSs_,this.JP_);this.fireEvent(wD.ogt_,i)}if(i==null||!i.qE_()){i=new QCt(wD.lgt_,this.bf_,this.BSs_,this.JP_);this.fireEvent(wD.lgt_,i);if(!i.qE_()){this.BSs_.GY_(this.JP_);i=new QCt(wD.ugt_,t,this.BSs_,this.JP_);this.fireEvent(wD.ugt_,i)}}this.JP_=null;this.BSs_=null}else if(s){const t=this.e7_();if(this.Vjs_&&t instanceof Uut){const s=t&&t.B1_()!=null?t.B1_().clone():null;if(this.$js_){i=new QCt(wD.ogt_,this.Vjs_,t.RIs_(),t,s);this.fireEvent(wD.ogt_,i)}if(i==null||!i.qE_()){i=new QCt(wD.lgt_,this.Vjs_,t.RIs_(),t,s);this.fireEvent(wD.lgt_,i);if(!i.qE_()){t.ce_(this.Vjs_);this.update()}}}s.setActive(!1);s!==this.Rgt_&&this.Rgt_.setActive(!1);this.Mgt_(null);this.Vjs_=null}this.setActive(!1);this.$js_=!1;return this}XFt_(t){this.FPt_=null;if(!this.isEnabled()||!this.mgt_()||!this.isActive())return this;let i;const s=this.ROs_(t);if(this.KZt_()===ECt.ugt_&&this.JP_){const e=this.BSs_.if_().uI_(s),A=new lA(this.gjs_?e.x:1,e.y);let n=new mA(this.uy_.getX(),this.uy_.getY(),A.getX(),A.getY());const h=new mA(this.uy_.getX(),this.uy_.getY(),this.ay_.getX(),this.ay_.getY()),r=this.e7_();if(!this.$js_){i=new QCt(wD.hgt_,n,this.BSs_,r,h);this.fireEvent(wD.hgt_,i);if(i.qE_())return this}i=new QCt(wD.rgt_,n,this.BSs_,r,h);this.fireEvent(wD.rgt_,i);n=i.rect;if(i.qE_())return this;this.$js_||(this.$js_=!0);this.ay_=new lA(this.uy_.getX()<=n.we_()?n.Qe_():n.we_(),this.uy_.getY()<=n.Ee_()?n.pe_():n.Ee_());this.iZs_(this.uy_,this.ay_);t.stopPropagation(!0)}else if(this.KZt_()===ECt.sjt_&&this.vgt_()){this.ay_=this.eZs_(s);const t=this.e7_(),e=this.nZs_(s);if(!this.$js_){i=new QCt(wD.hgt_,e,t.RIs_(),t,this.Vjs_?this.Vjs_.clone():null);this.fireEvent(wD.hgt_,i);if(i.qE_())return this}i=new QCt(wD.rgt_,e,t.RIs_().QIs_(),t,this.Vjs_?this.Vjs_.clone():null);this.fireEvent(wD.rgt_,i);if(i.qE_())return this;this.$js_||(this.$js_=!0);this.Vjs_=i.rect;this.hZs_();this.lct_()||t.ce_(this.Vjs_)}this.setPosition(s.getX(),s.getY());return this}Zjs_(t){t["activefillstyle"]!==void 0&&(this.zjs_.cct_=il.BD_(t["activefillstyle"]));t["inactivefillstyle"]!==void 0&&(this.zjs_.Ict_=il.BD_(t["inactivefillstyle"]));t["activelinestyle"]!==void 0&&(this.zjs_.fct_=hl.Wi_(t["activelinestyle"]));t["inactivelinestyle"]!==void 0&&(this.zjs_.Cct_=hl.Wi_(t["inactivelinestyle"]));this.update();return this}rZs_(){return{activefillstyle:this.zjs_.cct_,inactivefillstyle:this.zjs_.Ict_,activelinestyle:this.zjs_.fct_,inactivelinestyle:this.zjs_.Cct_}}update(t){if(this.e7_()===null)this.$gt_(!1);else{t&&this.XFt_(new FS("pointermove",null,this.getPosition()));const i=this.isEnabled()&&this.KZt_()===ECt.sjt_;if(i){this.hZs_();this.oZs_()}this.$gt_(i)}return this}ygt_(t){super.ygt_(t);if(this.KZt_()===ECt.sjt_){const i=undefined;this.isEnabled()&&this.KZt_()===ECt.sjt_&&t?this.update():this.$gt_(!1)}this.KZt_()===ECt.ugt_&&(t===null||t instanceof _lt)&&(this.BSs_=t);t==null||this.FPt_==null||this.FPt_.qE_()||this.zFt_(this.FPt_);this.FPt_=null;return this}$gt_(t){super.$gt_(t);this.Ojs_.forEach((function(i){i.nf_(t)}));return this}nZs_(t){const i=this.vgt_(),s=this.uy_!=null?this.lZs_(this.uy_):null;if(t!=null&&s!=null&&lA.Ss_(s,t)>=1&&i!=null&&i.Nat_()!=null){const s=this.uy_,e=this.eZs_(t),A=this.uZs_(),n=e.x-s.x,h=e.y-s.y,r=i.Nat_(),o=r.width,l=r.height,u=this.bf_.clone();let a,g,c,I;if(A){a=u.getX()+r.x*n;c=u.getY()+r.y*h;if(o===0){a<A.we_()&&(a=A.we_());a+u.Ie_()>A.Qe_()&&(a=A.Qe_()-u.Ie_())}if(l===0){c<A.Ee_()&&(c=A.Ee_());c+u.Ts_()>A.pe_()&&(c=A.pe_()-u.Ts_())}g=a+u.Ie_()+o*n;I=c+u.Ts_()+l*h;a=Math.min(Math.max(a,A.we_()),A.Qe_());g=Math.max(Math.min(g,A.Qe_()),A.we_());c=Math.min(Math.max(c,A.Ee_()),A.pe_());I=Math.max(Math.min(I,A.pe_()),A.Ee_())}else{a=u.getX()+r.x*n;c=u.getY()+r.y*h;g=a+u.Ie_()+o*n;I=c+u.Ts_()+l*h}u.ce_(a,c,g,I);this.setPosition(t.getX(),t.getY());return u}return this.bf_}bjs_(t){const i=this.kOs_(t.getX(),t.getY())||[];for(let t=i.length-1;t>=1;t--){const s=i[t];if(s instanceof _lt)return s}return null}aZs_(t){const i=this.uZs_();if(!i)return t;const s=Math.min(Math.max(t.we_(),i.we_()),i.Qe_()),e=Math.max(Math.min(t.Qe_(),i.Qe_()),i.we_()),A=Math.min(Math.max(t.Ee_(),i.Ee_()),i.pe_()),n=Math.max(Math.min(t.pe_(),i.pe_()),i.Ee_());return new mA(s,A,e,n)}uZs_(){const t=this.e7_(),i=t instanceof aAt?t:null,s=this.BSs_?this.BSs_:i?i.RIs_():null;return s?s.rt_():null}iZs_(t,i){const s=this.aZs_(new mA(t.getX(),t.getY(),i.getX(),i.getY()));t=this.Ljs_(this.BSs_,s.Me_());i=this.Ljs_(this.BSs_,s.be_());this.JP_.ce_(new mA(t.getX(),t.getY(),i.getX(),i.getY()));this.JP_.nf_(!0);this.JP_.td_();return this}Ljs_(t,i){i=t.if_().transform(i);return this.gZs_(i)}gZs_(t){if(this.mgt_()!=null){const i=this.mgt_().if_();i!=null&&(t=i.aI_(t))}return t}cZs_(t){if(this.mgt_()!=null){const i=this.mgt_().if_();i!=null&&(t=i.gI_(t))}return t}sZs_(t){const i=this.kOs_(t.getX(),t.getY());let s=null;if(i&&i.length>0)for(let t=i.length-1;t>=1;t--)if(i[t]instanceof aD){s=i[t];break}return s}_js_(){this.Ojs_=[];this.Rgt_=new BD(new mA(0,0,1,1));this.Rgt_.nf_(!1);this.Rgt_.bat_({x:this.gjs_?1:0,y:1,width:0,height:0});this.Ojs_.push(this.Rgt_);const t=new mA(0,0,1,1);for(let i=0;i<this.jjs_.length;++i){const s=this.IZs_(t,this.jjs_[i]).nf_(!1);this.Ojs_.push(s);this.Wjs_[this.jjs_[i]]=s}this.mgt_().GY_(this.Ojs_);return this}oZs_(){const t=this.NOs_(),i=this.rZs_(),s=this.JOs_(),e=this.egt_();this.Rgt_.dt_({activefillstyle:i["activefillstyle"],inactivefillstyle:i["inactivefillstyle"],activelinestyle:i["activelinestyle"],inactivelinestyle:i["inactivelinestyle"]});for(let i=0;i<this.Ojs_.length;++i)this.Ojs_[i]!==this.Rgt_&&this.Ojs_[i].dt_({activefillstyle:t["activefillstyle"],inactivefillstyle:t["inactivefillstyle"],activelinestyle:t["activelinestyle"],inactivelinestyle:t["inactivelinestyle"],ghostfillstyle:t["ghostfillstyle"],ghostlinestyle:t["ghostlinestyle"],painter:s,size:e,isindevicespace:!0});return this}AZs_(){const t=this.e7_();return ie(t)?this.Vjs_?this.Vjs_:t.getBounds():null}lZs_(t){return this.e7_()&&this.e7_()?this.e7_().if_().transform(t):t}eZs_(t){return this.e7_()&&this.e7_()?this.e7_().if_().uI_(t):t}hZs_(){let t=this.AZs_();if(t){t=this.lZs_(t);t=this.cZs_(t);this.Rgt_.ce_(t);for(let i=0;i<this.jjs_.length;++i){const s=this.jjs_[i],e=this.Wjs_[s];if(e){e.Yat_();e.at_(new Gn);e.gR_(t.Ye_(s))}}}return this}IZs_(t,i){if(!t)return null;switch(i){case dA.ie_:return new QD(t.we_(),t.Ee_()).bat_({x:1,y:1,width:-1,height:-1});case dA.se_:return new QD(t.we_(),t.pe_()).qC_("resize").bat_({x:1,y:0,width:-1,height:+1});case dA.ee_:return new QD(t.Qe_(),t.Ee_()).qC_("resize").bat_({x:0,y:1,width:+1,height:-1});case dA.Ae_:return new QD(t.Qe_(),t.pe_()).qC_("resize").bat_({x:0,y:0,width:+1,height:+1});case dA.he_:return new QD(t.we_(),t.De_()).qC_("resize").bat_({x:1,y:0,width:-1,height:0});case dA.le_:return new QD(t.ye_(),t.Ee_()).qC_("resize").bat_({x:0,y:1,width:0,height:-1});case dA.oe_:return new QD(t.Qe_(),t.De_()).qC_("resize").bat_({x:0,y:0,width:1,height:0});case dA.re_:return new QD(t.ye_(),t.pe_()).qC_("resize").bat_({x:0,y:0,width:0,height:1})}return null}};i=t([_s("geotoolkit.welllog.widgets.tools.LogFrameVisualEditor")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNb2RlIjoiS1p0XyIsInNldE1vZGUiOiJUWnRfIiwiaXNSZXNpemluZyI6InRac18iLCJvbk1vdXNlRG93biI6InpGdF8iLCJvbk1vdXNlVXAiOiJDdF8iLCJvbk1vdXNlTW92ZSI6IlhGdF8iLCJzZXRCb3hTdHlsZXMiOiJaanNfIiwiZ2V0Qm94U3R5bGVzIjoiclpzXyIsInNldFNoYXBlIjoieWd0XyIsInNldEhhbmRsZXNWaXNpYmxlIjoiJGd0XyJ9fX0g");var mCt=Ci({sjt_:"edit",ugt_:"insert"},2,"eyJFZGl0Ijoic2p0XyIsIkluc2VydCI6InVndF8ifSAg"),yCt=Ci(function(){let i=class t extends kIt{constructor(t){ki("geotoolkit.welllog.widgets.tools.MarkerEditor is deprecated since 4.0."+" Use geotoolkit.welllog.widgets.tools.editors.MarkerEditor with"+" geotoolkit.welllog.widgets.tools.WellLogVisualsEditingTool instead");super(t=qi(t,{name:"markereditor",layer:t instanceof Ic?t:null,mode:mCt.sjt_},!0));this.Qzs_="marker-editor-handle";this.zLt_=null;this.XLt_=null;this.fZs_=null;this.d4_=t["mode"];const i={ghostlinestyle:new hl("grey"),ghostfillstyle:new wr("lightgrey"),activefillstyle:new wr("#9cff94"),inactivefillstyle:new wr("#f8f4ff"),activelinestyle:new hl("#2dff67"),inactivelinestyle:new hl("#b0b0b0")};this.uct_(i);this.OOs_(tp);this.sgt_(1);this._gt_();this.FPt_=null}zFt_(t){this.FPt_=t;if(!this.isEnabled()||!this.e7_())return this;const i=this.ROs_(t),s=i.getX(),e=i.getY(),A=this.sZs_(s,e);let n=!1;if(this.d4_===mCt.sjt_){if(A!==null){if(this.lct_()&&!A.Hat_()&&A.qat_()!==null&&A.qat_().$C_())return this;n=!0;t.stopPropagation()}this.Sgt_.forEach((function(t){t.setActive(n)}));this.setActive(n)}else if(this.d4_===mCt.ugt_){this.CZs_(s,e,t);t.stopPropagation()}this.setPosition(s,e);return this}Ct_(t){this.FPt_=null;this.d4_===mCt.sjt_&&this.e7_()!=null&&this.fireEvent(wD.lgt_,this.FOs_(t,{depth:this.dZs_(),shape:this.e7_()}));this.Sgt_.forEach((t=>{t.setActive(!1);if(this.LOs_()&&t.xat_()){t.Yat_();t.qat_().nf_(!1)}}));this.setActive(!1);return this}XFt_(t){this.FPt_=null;const i=this.e7_(),s=this.ROs_(t);if(i!==null&&this.isEnabled()&&(this.d4_===mCt.sjt_||this.d4_===mCt.ugt_)){if(!this.isActive()&&this.d4_===mCt.sjt_)return this;const e=i.if_().rI_(),A=this.mgt_().if_().rI_();e.transformPoint(s,this.DOs_);const n=i.getParent().ot_();this.DOs_.getY()>n.pe_()&&this.DOs_.setY(n.pe_());this.DOs_.getY()<n.Ee_()&&this.DOs_.setY(n.Ee_());e.aI_(this.DOs_,this.MOs_);A.transformPoint(this.MOs_,this.MOs_);this.Sgt_.forEach((s=>{let e;if(this.lct_()){s.xat_()||s.Uat_();e=s.qat_()}else e=s;e instanceof dD&&e.gR_(new lA(e.lR_().getX(),this.MOs_.getY()));if(e instanceof mD){const t=e.OA_(),i=e.WA_();e.zA_(t.clone().setY(this.MOs_.getY()),i.clone().setY(this.MOs_.getY()))}this.lct_()||this.fireEvent(wD.rgt_,this.FOs_(t,{depth:this.MOs_.getY(),shape:i}))}))}this.setPosition(s.getX(),s.getY());return this}oZs_(){const t=this.NOs_(),i=this.JOs_(),s=this.egt_();this.zLt_.dt_({activefillstyle:t["activefillstyle"],inactivefillstyle:t["inactivefillstyle"],activelinestyle:t["activelinestyle"],inactivelinestyle:t["inactivelinestyle"],ghostfillstyle:t["ghostfillstyle"],ghostlinestyle:t["ghostlinestyle"],painter:i,size:s,isindevicespace:!0});this.XLt_.dt_({activefillstyle:t["activefillstyle"],inactivefillstyle:t["inactivefillstyle"],activelinestyle:t["activelinestyle"],inactivelinestyle:t["inactivelinestyle"],ghostfillstyle:t["ghostfillstyle"],ghostlinestyle:t["ghostlinestyle"],painter:i,size:s,isindevicespace:!0});this.fZs_.dt_({activelinestyle:t["activelinestyle"],inactivelinestyle:t["inactivelinestyle"],ghostfillstyle:t["ghostfillstyle"],ghostlinestyle:t["ghostlinestyle"]})}CZs_(t,i,s){const e=this.e7_().if_().rI_();this.DOs_.vs_(t,i);e.transformPoint(this.DOs_,this.DOs_);this.fireEvent(wD.ugt_,this.FOs_(s,{depth:this.DOs_.getY(),shape:this.e7_()}))}dZs_(){if(this.e7_()===null)return null;let t;const i=this.e7_().if_().rI_();let s;if(this.lct_()&&this.fZs_.xat_()){t=this.fZs_.qat_().OA_();s=this.fZs_.qat_().if_()}else{t=this.fZs_.OA_();s=this.fZs_.if_()}const e=s.transformPoint(t);i.transformPoint(e,e);return e.getY()}hZs_(t){const i=this.e7_();if(i===null)return this;const s=i.if_(),e=this.mgt_().if_().rI_();if(t===void 0){if(!(i instanceof Igt))return this;const t=i.G2_(),A=i.getBounds().we_(),n=i.getBounds().Qe_();this.DOs_.vs_(A,t);this.MOs_.vs_(n,t);s.transformPoint(this.DOs_,this.DOs_);s.transformPoint(this.MOs_,this.MOs_);e.transformPoint(this.DOs_,this.DOs_);e.transformPoint(this.MOs_,this.MOs_)}else{if(!ne(i))return this;const A=s.rn_(i.rt_());e.rn_(A,A);const n=e.transformPoint(t);this.DOs_.vs_(A.we_(),n.getY());this.MOs_.vs_(A.Qe_(),n.getY())}this.zLt_.gR_(this.DOs_.clone());this.XLt_.gR_(this.MOs_.clone());this.fZs_.zA_(this.DOs_.clone(),this.MOs_.clone());this.Sgt_.forEach((function(t){t.Yat_();t.at_(new Gn)}));return this}sZs_(t,i){const s=this.kOs_(t,i);let e=null;if(s&&s.length>0)for(let t=s.length-1;t>=1;t--)if(s[t]instanceof aD&&s[t].dn_()===this.Qzs_){e=s[t];break}return e}_gt_(){this.zLt_=new QD(0,0,0).nf_(!1).HC_(this.Qzs_);this.XLt_=new QD(0,0,0).nf_(!1).HC_(this.Qzs_);this.fZs_=new mD(0,0,0,0).nf_(!1).HC_(this.Qzs_);this.mgt_().GY_([this.fZs_,this.zLt_,this.XLt_]);this.Sgt_.push(this.fZs_,this.zLt_,this.XLt_)}update(t){if(this.e7_()===null)this.$gt_(!1);else{const i=this.isEnabled();if(i){t?this.XFt_(new FS("pointermove",null,this.getPosition())):this.hZs_();this.oZs_()}this.$gt_(i)}return this}TZt_(t){if(this.d4_!==t){this.d4_=t;this.ygt_(null)}return this}ygt_(t){super.ygt_(t);this.d4_===mCt.ugt_&&this.hZs_(this.getPosition());t==null||this.FPt_==null||this.FPt_.qE_()||this.zFt_(this.FPt_);this.FPt_=null;return this}KZt_(){return this.d4_}$gt_(t){super.$gt_(t);this.Sgt_.forEach((function(t){const i=t.qat_();i!==null&&i.nf_(!1)}));return this}};i=t([_s("geotoolkit.welllog.widgets.tools.MarkerEditor")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6InpGdF8iLCJvbk1vdXNlVXAiOiJDdF8iLCJvbk1vdXNlTW92ZSI6IlhGdF8iLCJjcmVhdGVIYW5kbGVzIjoiX2d0XyIsInNldE1vZGUiOiJUWnRfIiwic2V0U2hhcGUiOiJ5Z3RfIiwiZ2V0TW9kZSI6IktadF8iLCJzZXRIYW5kbGVzVmlzaWJsZSI6IiRndF8ifX19");var DCt=Ci(function(){let i=class t extends WS{constructor(t,i){super(t);this.WH_=i}get FMt_(){ki("geotoolkit/welllog/widgets/tools/Navigation#limits is deprecated since 4.0. Use getLimits instead.");return this.WH_}oA_(){return this.WH_}};i=t([_s("geotoolkit.welllog.widgets.tools.NavigationEventArgs")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJsaW1pdHMiOiJGTXRfIiwiZ2V0TGltaXRzIjoib0FfIn19fSAg");var MCt=Ci({Bqs_:"depthRangeChanged",BZs_:"navigationStart",wZs_:"navigationEnd"},2,"eyJEZXB0aFJhbmdlQ2hhbmdlZCI6IkJxc18iLCJOYXZpZ2F0aW9uU3RhcnQiOiJCWnNfIiwiTmF2aWdhdGlvbkVuZCI6Indac18ifSAg"),vCt=Ci(function(){let i=class t extends OS{constructor(t){let i;t instanceof Ic?i=t:t!=null&&t["layer"]!=null&&(i=t["layer"]);const s=Pi(t,{enabled:!0,name:"navigation-tool",layer:i,background:"rgba(100, 100, 100, 0.3)",scale:{enabled:!0,linestyle:"gray",fillstyle:"white",painter:cE,hover:{linestyle:"gray",fillstyle:"gray"}},panning:{enabled:!0,minimumsize:5,linestyle:{width:1,color:"gray",pixelsnapmode:{x:!0,y:!0}},fillstyle:"rgba(0,0,0,0)"}},!0);super(s);this.eFt_({wheel:this.jFt_.bind(this),pointerdown:this.zFt_.bind(this),pointermove:[{callback:this.XFt_.bind(this),object:null},{callback:this.XFt_.bind(this),object:Mi,enabled:!1}],pointerup:[{callback:this.Ct_.bind(this),object:null},{callback:this.Ct_.bind(this),object:Mi,enabled:!1}]});this.QZs_=null;this.EZs_=new dp({left:0,top:0,right:0,height:0,visible:!1,linestyle:null,fillstyle:"rgba(100, 100, 100, 0.3)"});this.pZs_=new dp({left:0,top:0,width:0,height:0,visible:!1,linestyle:{width:1,color:"gray",pixelsnapmode:{x:!0,y:!0}},fillstyle:{color:"rgba(0,0,0,0)"}});this.mZs_=new ma({visible:!1,ax:0,ay:0,width:10,height:10,alignment:dA.ne_,sizeisindevicespace:!0,painter:cE,linestyle:"gray",fillstyle:"white"});this.yZs_=new ma({visible:!1,ax:0,ay:0,width:10,height:10,alignment:dA.ne_,sizeisindevicespace:!0,painter:cE,linestyle:"gray",fillstyle:"white"});this.Jgt_.GY_([this.EZs_,this.pZs_,this.mZs_,this.yZs_]);this.OSt_=new bC;this.wgt_=null;this.uy_=new lA(0,0);this.NLt_=new lA(0,0);this.dVt_=new lA(0,0);this.DZs_=10;this.UU_=s;this.setOptions(s)}wIs_(){return this.QZs_}zNs_(t){if(t==null){this.QZs_=null;this.pZs_.nf_(!1);this.mZs_.nf_(!1);this.yZs_.nf_(!1);return this}this.QZs_=t.clone();const i=this.pZs_.if_(),s=bn.$c_(1,0,i),e=bn.$c_(0,1,i);let A;A=this.Jgt_.if_().wI_()!==0?new mA(this.Jgt_.rt_().getX()+s,t.Xs_(),this.Jgt_.rt_().Qe_(),t.zs_()-e):new mA(this.Jgt_.rt_().getX(),t.Xs_(),this.Jgt_.rt_().Qe_()-s,t.zs_()-e);const n=this.Jgt_.rt_(),h=(new TA).moveTo(n.we_(),n.Ee_()).lineTo(n.Qe_(),n.Ee_()).lineTo(n.Qe_(),n.pe_()).lineTo(n.we_(),n.pe_()).lineTo(n.we_(),n.Ee_()).close().moveTo(A.we_(),A.Ee_()).lineTo(A.we_(),A.pe_()).lineTo(A.Qe_(),A.pe_()).lineTo(A.Qe_(),A.Ee_()).lineTo(A.we_(),A.Ee_()).close();this.EZs_.ht_(this.Jgt_.rt_()).nf_(!0).xb_(new wh(h));this.pZs_.ht_(A).nf_(!0);const r=this.UU_["panning"]["minimumsize"];if(r!=null){const t=this.pZs_.getParent().if_(),i=undefined;if(bn.jc_(0,A.Ts_(),t)<r){const i=bn.$c_(0,r,t),s=(i-A.Ts_())/2;this.pZs_.ht_(A.clone().setY(A.getY()-s).Be_(i))}}this.mZs_.gR_(A.ye_(),A.Ee_()).nf_(this.UU_["scale"]["enabled"]);this.yZs_.gR_(A.ye_(),A.pe_()).nf_(this.UU_["scale"]["enabled"]);return this}Kv_(t){super.Kv_(t);this.UU_["enabled"]=t;return this}JV_(){return this.UU_}setOptions(t){this.UU_=Pi(t,this.UU_,!0);this.Kv_(this.UU_["enabled"]);if(this.UU_["rangeedit"]!=null){this.mZs_.KC_(this.UU_["rangeedit"]!==!1);this.yZs_.KC_(this.UU_["rangeedit"]!==!1)}this.EZs_.iQ_(this.UU_["background"]);this.mZs_.nf_(this.UU_["scale"]["enabled"]);this.mZs_.rB_(this.UU_["scale"]["linestyle"]);this.mZs_.iQ_(this.UU_["scale"]["fillstyle"]);this.mZs_.rk_(this.UU_["scale"]["painter"]);this.yZs_.nf_(this.UU_["scale"]["enabled"]);this.yZs_.rB_(this.UU_["scale"]["linestyle"]);this.yZs_.iQ_(this.UU_["scale"]["fillstyle"]);this.yZs_.rk_(this.UU_["scale"]["painter"]);this.pZs_.nf_(this.UU_["panning"]["enabled"]);this.pZs_.rB_(this.UU_["panning"]["linestyle"]);this.pZs_.iQ_(this.UU_["panning"]["fillstyle"]);return this}pxt_(t){this.pFt_("pointermove",t,Mi);this.pFt_("pointerup",t,Mi);return this}start(t){this.uy_=this.bFt_(this.Jgt_.getRoot(),t);this.dVt_=this.bFt_(this.Jgt_.getRoot(),t);t.stopPropagation();this.setActive(!0);OS.lock(t.getPlot(),this);this.pxt_(!0);return this}stop(){this.setActive(!1);this.MZs_(null);OS.unlock(this);this.pxt_(!1);return this}MZs_(t){if(this.wgt_===t)return this;this.wgt_!=null&&this.wgt_ instanceof ma&&this.wgt_.iQ_(this.UU_["scale"]["fillstyle"]).rB_(this.UU_["scale"]["linestyle"]);this.wgt_=t;this.wgt_!=null&&this.wgt_ instanceof ma&&this.wgt_.iQ_(this.UU_["scale"]["hover"]["fillstyle"]).rB_(this.UU_["scale"]["hover"]["linestyle"]);return this}jFt_(t){if(this.QZs_==null)return;const i=t.Lkt_();i.preventDefault();const s=Math.sign(i["deltaY"]),e=this.Jgt_.getBounds().Ts_()/this.DZs_*s,A=this.QZs_.clone();t.Lkt_().ctrlKey===!0&&this.UU_["scale"]["enabled"]===!0?A.Xs_()+e>0&&A._s_(A.Xs_(),A.zs_()+e):A._s_(A.Xs_()+e,A.zs_()+e);this.notify(MCt.Bqs_,this,new DCt(t,A))}XFt_(t){if(this.isEnabled()!==!1)if(this.isActive()&&this.wgt_!=null){this.NLt_=this.bFt_(this.Jgt_.getRoot(),t);const i=this.NLt_.getX()-this.dVt_.getX(),s=this.NLt_.getY()-this.dVt_.getY();if(i===0&&s===0)return;this.dVt_=this.NLt_;const e=this.wgt_.if_(),A=e.aI_(new lA(0,0)),n=undefined,h=e.aI_(new lA(i,s)).getY()-A.getY(),r=this.QZs_.clone();this.wgt_===this.pZs_?r._s_(r.Xs_()+h,r.zs_()+h):this.wgt_===this.mZs_?r._s_(r.Xs_()+h,r.zs_()):r._s_(r.Xs_(),r.zs_()+h);this.notify(MCt.Bqs_,this,new DCt(t,r));t.stopPropagation(!0)}else this.MZs_(this.vZs_(t))}vZs_(t){const i=this.bFt_(this.Jgt_.getRoot(),t),s=this.OSt_.select(this.Jgt_.getRoot(),i.x,i.y,2);let e=null;for(let t=s.length-1;t>=0;t--){const i=s[t];if(i===this.pZs_||i===this.mZs_||i===this.yZs_){e=i;break}}return e}zFt_(t){if(this.isEnabled()!==!1){this.wgt_==null&&this.MZs_(this.vZs_(t));if(this.wgt_!=null){this.start(t);this.notify(MCt.BZs_,this,t)}}}Ct_(t){if(this.isEnabled()!==!1&&this.isActive()===!0){this.stop();this.dFt_(t)===!1&&this.XFt_(t);this.notify(MCt.wZs_,this,t)}}};i=t([_s("geotoolkit.welllog.widgets.tools.Navigation")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWaXNpYmxlRGVwdGhMaW1pdHMiOiJ3SXNfIiwic2V0VmlzaWJsZURlcHRoTGltaXRzIjoiek5zXyIsInNldEVuYWJsZWQiOiJLdl8iLCJnZXRPcHRpb25zIjoiSlZfIn19fSAg");var bCt=Ci({bZs_:"onHighlight",NZs_:"onExpand"},2,"eyJvbkhpZ2hsaWdodCI6ImJac18iLCJvbkV4cGFuZCI6Ik5ac18ifSAg");var NCt=Ci(function(){let i=class t extends WS{constructor(t,i){super(t);this._q_=i}SZs_(){return this._q_}};i=t([_s("geotoolkit.welllog.widgets.tools.RemarksHighlightEventArgs")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZXh0VmFsdWUiOiJTWnNfIn19fSAg");var SCt=Ci(function(){let i=class t extends OS{constructor(t,i){super(t=qi(t,{name:i||"remarks-highlight",layer:t instanceof Ic?t:null},!0));this.eFt_({pointerdown:this.zFt_.bind(this),pointermove:this.XFt_.bind(this),wheel:this.jFt_.bind(this)});this.GZs_=(new dp).nf_(!1).rB_({color:"#00B6FF",shadow:{enable:!0,blur:5,color:"blue"}}).iQ_("rgba(100,100,100, 0.2");this.mgt_().GY_(this.GZs_)}RZs_(t){const i=t.Fkt_(),s=undefined,e=bC.select(t.PP_(),i.getX(),i.getY(),this.iFt_).filter((t=>t instanceof Fgt));if(e.length===0)return null;const A=e[0],n=A.if_(),h=A.bKs_(n.aI_(i).getY());if(h==null||h["section"]==null)return null;const r=n.rn_(h["section"]["ellipsis"]);return r.contains(i)?{section:h,rect:this.mgt_().if_().gI_(r,r)}:null}jFt_(t){if(this.GZs_.$C_()){this.notify(bCt.bZs_,this,new NCt(t,null));this.GZs_.nf_(!1)}}zFt_(t){const i=this.RZs_(t);if(i==null)this.GZs_.nf_(!1);else{t.stopPropagation(!0);this.GZs_.ce_(i["rect"]).nf_(!0);this.notify(bCt.NZs_,this,new NCt(t,i["section"]["value"]))}}XFt_(t){const i=this.RZs_(t);if(i!=null){this.GZs_.ce_(i["rect"]).nf_(!0);this.notify(bCt.bZs_,this,new NCt(t,i["section"]["value"]))}else if(this.GZs_.$C_()){this.notify(bCt.bZs_,this,new NCt(t,null));this.GZs_.nf_(!1)}}kZs_(){return this.GZs_}};i=t([_s("geotoolkit.welllog.widgets.tools.RemarksHighlight")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRIaWdobGlnaHRSZWN0YW5nbGUiOiJrWnNfIn19fSAg");function GCt(t,i){return t instanceof wrt&&i!=null&&i.XJt_({node:t})}Tk.Ai_().register(new rCt).register(new lCt).register(new ACt).WJt_(new Oft);var RCt=Ci(function(){let i=class t extends Ok{constructor(t){super(t=qi(t,{name:"VisualsEditingTool",datalayer:null},!0));this.wzt_=t["datalayer"]}JXt_(t){this.wzt_=t;return this}tXt_(){return this.wzt_}APt_(t){super.APt_(t);t!=null&&t.cXt_(!0).fXt_(!0);return this}XFt_(t){if(this.hXt_()&&this.zJt_()!=null&&!this.zJt_().hXt_()){const i=this.getSelection(t,0);if(this.zJt_()instanceof ACt&&(this.e7_()==null||this.e7_().getParent()!=null)){const t=this.FZs_(i);this.zJt_().JXt_(t).YPt_(t)}else this.zJt_().JXt_(this.wzt_)}super.XFt_(t)}vPt_(t,i,s){switch(s.Dkt_()){case Lk.kJt_:case Lk.RJt_:this.xPt_(null);break}super.vPt_(t,i,s)}GPt_(t,i,s){this.UPt_()!=null?this.UPt_().APt_(null):this.APt_(null);super.GPt_(t,i,s)}kPt_(t,i,s){this.UPt_()!=null?this.UPt_().APt_(null):this.APt_(null);super.kPt_(t,i,s)}dt_(t){if((t=Es(t))==null)return this;super.dt_(t);t["datalayer"]!==void 0&&this.JXt_(t["datalayer"]);return this}N_(){const t=super.N_();this.wzt_!=null&&(t["datalayer"]=this.wzt_);return t}FZs_(t){for(let i=t.length-1;i>=0;i--){const s=t[i],e=this.zJt_();if(GCt(s,e))return s;if(ys(s,nAt)){const t=ur(s).Gw_((t=>GCt(t,e))).xw_();if(t!=null)return t}}return null}hXt_(){return(this.lPt_()&xk.dJt_)!=0}getSelection(t,i){if(!OS.Tkt_(t))return null;const s=t.Fkt_();i=i||this.CFt_(t);return bC.select(t.PP_(),s.getX(),s.getY(),i).filter(Ih)}};i=t([_s("geotoolkit.welllog.widgets.tools.WellLogVisualsEditingTool")],i);return i}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXREYXRhTGF5ZXIiOiJKWHRfIiwiZ2V0RGF0YUxheWVyIjoidFh0XyIsInNldEVkaXRvciI6IkFQdF8iLCJvbk1vdXNlTW92ZSI6IlhGdF8iLCJvbkNvbW1hbmRBcHBsaWVkIjoidlB0XyIsIm9uQ29tbWFuZFVuZG8iOiJHUHRfIiwib25Db21tYW5kUmVkbyI6ImtQdF8iLCJzZXRQcm9wZXJ0aWVzIjoiZHRfIiwiZ2V0UHJvcGVydGllcyI6Ik5fIn19fSAg");export {lct,uct,act,gct,cct,Sct,Gct,Rct,kct,Tct,Kct,$ct,tIt,iIt,sIt,rIt,oIt,GIt,RIt,kIt,FIt,xIt,LIt,UIt,YIt,TIt,KIt,HIt,qIt,JIt,PIt,VIt,OIt,WIt,zIt,XIt,jIt,ZIt,_It,$It,tft,ift,sft,eft,nft,hft,rft,lft,uft,aft,gft,cft,Ift,fft,Cft,dft,Bft,wft,Qft,Eft,yft,Dft,vft,bft,Sft,Rft,kft,Kft,Hft,Pft,Oft,Wft,zft,Xft,ACt,rCt,lCt,uCt,aCt,ICt,fCt,CCt,dCt,BCt,wCt,QCt,ECt,pCt,mCt,yCt,DCt,MCt,vCt,bCt,NCt,SCt,RCt,$gt,tct};