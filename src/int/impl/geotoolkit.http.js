/* eslint-disable */
import {__decorate as t} from 'tslib';import {Pi,qi,Zi,ki,CB,nh,_s,Mi,Ci} from '@int/impl/geotoolkit.base.js';const dB=function(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/g,":").replace(/%24/g,"$").replace(/%2C/g,",").replace(/%20/g,"+").replace(/%5B/g,"[").replace(/%5D/g,"]")},BB=function(t){if(t==null)return t;if(typeof t=="object")try{t=JSON.stringify(t)}catch(t){return null}return dB(t)},wB=function(t,i){return t&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)?i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t:i};var QB=function(){var t=class{static Y0_(t,i){if(i&&i["headers"]){const s=i["headers"];for(const i in s)s.hasOwnProperty(i)&&t.setRequestHeader(i,s[i])}}static T0_(t,i){t=qi(t,{},!0);i=qi(i,{},!0);(i=Pi(t,i,!1))["headers"]&&(i["headers"]=qi(i["headers"],{},!0));return i}static _V_(t){let i=wB(t["baseurl"],t["url"]);if(t.params&&typeof t.params=="object"){let s=null,e;for(const i in t.params)if(t.params.hasOwnProperty(i)){e=dB(i)+"="+BB(t.params[i]);s?s+="&"+e:s=e}i&&s&&(i+=(i.indexOf("?")===-1?"?":"&")+s)}return i}static K0_(t){let i=t,s=i.indexOf("#");s!==-1&&(i=i.substring(0,s));s=i.indexOf("?");s!==-1&&(i=i.substring(0,s));const e=i.indexOf("//");s=i.indexOf("/",e!==-1?e+2:0);s!==-1&&(i=i.substring(0,s));return i}};return t}();const EB=function(t){return Promise.reject(t)},pB=function(t){return Promise.resolve(t)},mB=function(t){if(CB.qE_(t))throw t};var yB=Ci(function(){var i;let s=i=class t{constructor(t){this.UU_=QB.T0_(t,{timeout:0,withcredentials:!1,transformresponse:null,transformrequest:null,cancel:null,onprogress:null});i.H0_(this.UU_);this.q0_=[];this.J0_=[]}P0_(t,i){const s=nh.u_();this.q0_.push({id:s,V0_:typeof t=="function"?t:pB,O0_:typeof i=="function"?i:EB});return s}W0_(t){for(let i=this.q0_.length-1;i>=0;i--)if(this.q0_[i].id===t){this.q0_.splice(i,1);return!0}return!1}z0_(t){for(let i=0;i<this.q0_.length;i++)if(this.q0_[i].id===t)return!0;return!1}X0_(t,i){const s=nh.u_();this.J0_.push({id:s,V0_:typeof t=="function"?t:pB,O0_:typeof i=="function"?i:EB});return s}j0_(t){for(let i=this.J0_.length-1;i>=0;i--)if(this.J0_[i].id===t){this.J0_.splice(i,1);return!0}return!1}Z0_(t){for(let i=0;i<this.J0_.length;i++)if(this.J0_[i].id===t)return!0;return!1}_0_(t){return this.$0_(t).then((function(t){mB(t);return t}),(function(t){mB(t);return Promise.reject(t)}))}request(t){t=this.T0_(t);i.H0_(t);const s=[this._0_.bind(this),EB];let e=Promise.resolve(t);for(let t=0;t<this.q0_.length;++t)s.unshift(this.q0_[t].V0_,this.q0_[t].O0_);typeof t["transformrequest"]=="function"&&s.unshift(t["transformrequest"],EB);for(let t=0;t<this.J0_.length;++t)s.push(this.J0_[t].V0_,this.J0_[t].O0_);typeof t["transformresponse"]=="function"&&s.push(t["transformresponse"],EB);while(s.length>0)e=e.then(s.shift(),s.shift());return e}static H0_(t){if(typeof t["cancel"]=="function"){ki("AbstractHttpService: type of function to receive cancel token is deprecated since 4.0");const i=t["cancel"];t["cancel"]=new CB;i(t["cancel"])}else t["cancel"]||(t["cancel"]=new CB);return t}setOptions(t){this.UU_=QB.T0_(t,this.UU_)}JV_(){return this.UU_}t1_(t,i,s){return this.request(QB.T0_(s,{url:t,method:"post",data:i}))}get(t,i){return this.request(QB.T0_(i,{url:t,method:"get"}))}put(t,i,s){return this.request(QB.T0_(s,{url:t,method:"put",data:i}))}delete(t,i){return this.request(QB.T0_(i,{url:t,method:"delete"}))}i1_(t,i,s){return this.request(QB.T0_(s,{url:t,method:"patch",data:i}))}head(t,i){return this.request(QB.T0_(i,{url:t,method:"head"}))}s1_(){return this.q0_}e1_(){return this.J0_}T0_(t){const i=QB.T0_(this.JV_(),{});return QB.T0_(t,i)}};s.prototype.$0_=Zi;s.prototype.clone=Zi;s=i=t([_s("geotoolkit.http.AbstractHttpService")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRSZXF1ZXN0SW50ZXJjZXB0b3IiOiJQMF8iLCJyZW1vdmVSZXF1ZXN0SW50ZXJjZXB0b3IiOiJXMF8iLCJjb250YWluc1JlcXVlc3RJbnRlcmNlcHRvciI6InowXyIsImFkZFJlc3BvbnNlSW50ZXJjZXB0b3IiOiJYMF8iLCJyZW1vdmVSZXNwb25zZUludGVyY2VwdG9yIjoiajBfIiwiY29udGFpbnNSZXNwb25zZUludGVyY2VwdG9yIjoiWjBfIiwiZGlzcGF0Y2giOiIkMF8iLCJnZXRPcHRpb25zIjoiSlZfIiwicG9zdCI6InQxXyIsInBhdGNoIjoiaTFfIiwiZ2V0UmVxdWVzdEludGVyY2VwdG9ycyI6InMxXyIsImdldFJlc3BvbnNlSW50ZXJjZXB0b3JzIjoiZTFfIiwibWVyZ2VPcHRpb25zIjoiVDBfIn19LCJnZXRDbGFzc05hbWUiOiJEXyJ9");var DB=Ci({A1_:"Timeout",n1_:"Aborted"},2,"eyJUaW1lb3V0IjoiQTFfIiwiQWJvcnRlZCI6Im4xXyJ9");var MB=function(){var t;return class extends Error{constructor(t,i,s,e,A){super(t);this.ov_="HttpError";this["options"]=i;s&&(this.h1_=s);this["request"]=e;this["response"]=A}get name(){return this.ov_}set name(t){this.ov_=t}get code(){return this.h1_}toJSON(){return{message:this.message,name:this.ov_,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,options:this["options"],code:this.code}}toString(){return JSON.stringify(this.toJSON())}}}();const vB=function(t,i,s,e,A){return new MB(t,i,s,e,A)},bB=function(t,i){if(!i["responsetype"])return t.responseText;let s;switch(i["responsetype"].toLowerCase()){case"text":s=t.responseText;break;case"json":s=typeof t.response=="string"?JSON.parse(t.response):t.response;break;default:s=t.response}return s},NB=function(t){const i=t["data"]?t["data"]:null;return i!=null&&typeof i=="object"?JSON.stringify(i):i},SB="This version is not supported in Node.JS.";var GB=function(){var t=class{static send(i){if(t.r1_())return Promise.reject(new Error(SB));let s=new Mi.XMLHttpRequest;return new Promise((function(t,e){const A=NB(i),n=i["method"]?i["method"]:"get";s.onreadystatechange=function(){if(s.readyState===s.DONE)if(s.status===200&&s.response!=null){const e=bB(s,i);t({options:i,data:e,status:s.status,statusText:s.statusText,request:s});s=null}else s.status!==s["UNSENT"]&&e(vB(s.statusText,i,null,s))};s.onabort=function(){if(s){e(vB("Request aborted",i,DB.n1_,s));s=null}};s.onerror=function(){e(vB("Network Error",i,null,s));s=null};s.ontimeout=function(){e(vB("timeout of "+i.timeout+"ms exceeded",i,DB.A1_,s));s=null};const h=i["onprogress"];typeof h=="function"&&s.addEventListener("progress",h);s.open(n,QB._V_(i),!0);s.timeout=i["timeout"]!==void 0?i["timeout"]:0;QB.Y0_(s,i);i["withcredentials"]&&(s.withCredentials=!0);if(i["responsetype"])try{s.responseType=i["responsetype"]}catch(t){if(i["responsetype"].toLowerCase()!=="json")throw t}if(i["cancel"]){const t=yB.H0_(i);if(t["cancel"].qE_())return;t["cancel"].L0_((function(t){if(s){s.onerror=null;s.onload=null;s.onreadystatechange=null;s.abort();s=null}}))}s.send(A)}))}static r1_(){return typeof process!="undefined"&&process["versions"]!=null&&process["versions"].node!=null}};return t}();let RB=GB.send;var kB=function(){var i;let s=i=class t extends yB{$0_(t){return RB(t)}static["setRequest"](t){RB=t}clone(t){const s=QB.T0_(this.JV_(),{}),e=QB.T0_(t,s),A=new i(e);A.s1_().concat(this.s1_());A.e1_().concat(this.e1_());return A}};s=i=t([_s("geotoolkit.http.HttpService")],s);return s}();var FB=Ci(function(){var i;let s=i=class t{constructor(){this.l1_=null}static Ai_(){i.Gf_==null&&(i.Gf_=new i);return i.Gf_}u1_(){this.l1_||(this.l1_=new kB);return this.l1_}a1_(t){this.l1_=t;return this}};s.Gf_=null;s=i=t([_s("geotoolkit.http.HttpClient")],s);return s}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRIdHRwIjoidTFfIiwic2V0SHR0cCI6ImExXyJ9fSwiZ2V0SW5zdGFuY2UiOiJBaV8iLCJnZXRDbGFzc05hbWUiOiJEXyJ9");export {QB,yB,DB,MB,GB,kB,FB};